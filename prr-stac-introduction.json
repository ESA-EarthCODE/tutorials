{"version":2,"kind":"Notebook","sha256":"e06a3054ed704d889d4d654ebec7e8e427bae60a414908aae96fc8df2845fc1f","slug":"prr-stac-introduction","location":"/OSC/PRR_STAC_introduction.ipynb","dependencies":[],"frontmatter":{"title":"ESA Project Results Repository: Generate valid STAC Collection and Items","content_includes_title":true,"kernelspec":{"name":"python3","display_name":"pangeo","language":"python"},"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true},"code":{"id":"MIT","url":"https://opensource.org/licenses/MIT","name":"MIT License","free":true,"osi":true}},"github":"https://github.com/ESA-EarthCODE/documentation/tree/main/examples","subject":"EarthCODE Examples","numbering":{"title":{"offset":1}},"edit_url":"https://github.com/ESA-EarthCODE/documentation/tree/main/examples/blob/main/OSC/PRR_STAC_introduction.ipynb","exports":[{"format":"ipynb","filename":"PRR_STAC_introduction.ipynb","url":"/examples/build/PRR_STAC_introductio-70bfa7f4fbfe92b48b9f473eac295734.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"table","style":{"width":"100%"},"children":[{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"div","style":{"display":"flex","justifyContent":"space-between","alignItems":"centre"},"children":[{"type":"heading","depth":1,"children":[{"type":"text","value":"ESA Project Results Repository Example","key":"ElV1G26Dej"},{"type":"break","key":"BH6n7FW0N1"}],"identifier":"esa-project-results-repository-example","label":"ESA Project Results Repository Example","html_id":"esa-project-results-repository-example","implicit":true,"key":"AkvwIZp6e2"},{"type":"image","url":"/myst_assets_folder./public/img/EarthCODE_kv_transparent.png","alt":"EarthCODE icon","width":100,"key":"s7v9rRXx0b"}],"key":"kbYTzr4t35"}],"key":"BNk0i5D1UN"}],"key":"kAVRy803NK"}],"key":"iHkm0zKbEc"},{"type":"heading","depth":2,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"ESA Project Results Repository: Generate valid STAC Collection and Items","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"CgrSOi4iub"}],"identifier":"esa-project-results-repository-generate-valid-stac-collection-and-items","label":"ESA Project Results Repository: Generate valid STAC Collection and Items","html_id":"esa-project-results-repository-generate-valid-stac-collection-and-items","implicit":true,"key":"Tbfc9ivyEo"},{"type":"heading","depth":2,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Introduction","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"rYO5mRZlaa"}],"identifier":"introduction","label":"Introduction","html_id":"introduction","implicit":true,"key":"z55yzQt9cL"}],"key":"NyRkg0AZZy"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"This notebook has been created to show the core steps required of EarthCODE users to upload their research outcomes to the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"PVVrq4IFtA"},{"type":"link","url":"https://eoresults.esa.int/","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"ESA Project Results Repository (PRR)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Lfvoznb4bp"}],"urlSource":"https://eoresults.esa.int/","key":"wH0O5pzCmr"},{"type":"text","value":". It focuses on generating metadata for a project with a single  ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"q9U6PeaKSX"},{"type":"inlineCode","value":"netcdf","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lzFkZeW6EW"},{"type":"text","value":" file.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wtzuY8RBAW"}],"key":"lqQUoBA4nh"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"PRR provides access to data, workflows, experiments and documentation from ESA Projects organised across Collections, accessible via the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"IHOtk0h5CT"},{"type":"link","url":"https://github.com/radiantearth/stac-api-spec","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"STAC API","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"iySKx1JgrE"}],"urlSource":"https://github.com/radiantearth/stac-api-spec","error":true,"key":"odQrHx8xCq"},{"type":"text","value":". Each collection contains ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"oPT3ybzXlf"},{"type":"link","url":"https://github.com/radiantearth/stac-spec/blob/master/item-spec/item-spec.md","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"STAC Items","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"l84AOVxvxl"}],"urlSource":"https://github.com/radiantearth/stac-spec/blob/master/item-spec/item-spec.md","data":{"kind":"file","org":"radiantearth","repo":"stac-spec","reference":"master","file":"item-spec/item-spec.md","raw":"https://raw.githubusercontent.com/radiantearth/stac-spec/master/item-spec/item-spec.md"},"internal":false,"protocol":"github","key":"KNiIsFSF4L"},{"type":"text","value":", with their related assets stored within the PRR storage. Scientists/commercial companies can access the PRR via the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"IxQFfkk08H"},{"type":"link","url":"https://earthcode.esa.int/","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"EarthCODE","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"vLacOJjna3"}],"urlSource":"https://earthcode.esa.int/","key":"qijd2QfEnG"},{"type":"text","value":" and ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"BlBgLr2GCu"},{"type":"link","url":"https://esa-apex.github.io/apex_documentation/","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"APEx","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"XvGCxVmjf3"}],"urlSource":"https://esa-apex.github.io/apex_documentation/","key":"scvawPDHXZ"},{"type":"text","value":" projects.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"GyVKlVWP2h"}],"key":"vkkhT8h10x"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"DlWrZN5LR8"},{"type":"link","url":"https://stacspec.org/en","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"STAC Specification","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"dtqrWNqOLr"}],"urlSource":"https://stacspec.org/en","key":"JOHzvBIkv2"},{"type":"text","value":", provides detailed explanation and more information on this metadata format.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Pry7w7VpdS"}],"key":"Da3En79Jw8"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"In order to upload data to the ESA Project Results Repository (PRR) you have to generate a STAC Collection that is associated to your files. The STAC collection provides metadata about your files and makes them searchable and machine readable. The metadata generation process is organised in four steps process:","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"aRNBckcw1M"}],"key":"vvBk6xhDjR"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":9,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Generate a root STAC Collection","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"iJX9veKG8D"}],"key":"x7HZjb5Jm0"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Group your dataset files into STAC Items and STAC Assets","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"n6nncKQRYd"}],"key":"mi87YdPzhs"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Add the Items to the collection","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"rYMVj97u2r"}],"key":"XEY1mYNOis"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Save the normalised collection","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"FDGoDN4Bpg"}],"key":"jsCAn56cRy"}],"key":"wPSM622iUA"},{"type":"paragraph","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"The easiest way to generate all the required files is to use a STAC library, such as ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"RSnnxzcT8l"},{"type":"inlineCode","value":"pystac","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"v2jbfKq5NY"},{"type":"text","value":" or ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"EAD329ezK8"},{"type":"inlineCode","value":"riostac","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"aqy9AP1swR"},{"type":"text","value":". This library will take care of creating the links and formating the files in the correct way.  In the examples below we are using ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"m2BADpIt1T"},{"type":"inlineCode","value":"pystac","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"cCn9UNZW35"},{"type":"text","value":".","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"ofIkUq1YWN"}],"key":"v36OhVYBef"},{"type":"paragraph","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"Have a look at the steps below and learn how to prepare your dataset to generate a valid STAC Collection. You will find all the steps descibed in the markdown cell, together with the example code (executable) to make this process easier. Please adjust the information in the fields required to describe your collection and items according to the comments, starting with : ‚Äú#‚Äù","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"FljcNQQXVL"}],"key":"YlwM9ZXq8o"},{"type":"paragraph","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"NOTE: Depending on the information that you put in the assets or items the code, you may get an error about an object not being json-serialisable. If this happens, you have to transform the problem field into an object that can be described using standard JSON. For example, transforming a numpy array into a list.","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"nITERQP21R"}],"key":"OAB78iwvmU"}],"key":"mzyR2EH5zf"}],"key":"Scg5HS9cwg"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"üåä Example: 4DATLANTIC-OHC Project","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pQfAT6CsSg"}],"identifier":"id-example-4datlantic-ohc-project","label":"üåä Example: 4DATLANTIC-OHC Project","html_id":"id-example-4datlantic-ohc-project","implicit":true,"key":"havodmHqS9"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The code below demonstrates how to perform the necessary steps using real data from the ESA Regional Initiative Project ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Hzp8gib4Q5"},{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"4DATLANTIC-OHC","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"yiaUbbeKUR"}],"key":"vKhtbp6T9V"},{"type":"text","value":". The project focuses on ocean heat content and provides monthly gridded Atlantic Ocean heat content change as well as OHC trends and their uncertainties.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"wBjkWy27Oi"}],"key":"RzlxIw9LaU"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"üîó Learn more about the project here: ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"UMNsQT1eLo"},{"type":"link","url":"https://eo4society.esa.int/projects/4datlantic-ohc/","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"4DATLANTIC-OHC ‚Äì EO4Society","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"wLEfyw3GLU"}],"urlSource":"https://eo4society.esa.int/projects/4datlantic-ohc/","key":"lhn1Q4r8WP"},{"type":"text","value":" ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Z552PH4p5g"},{"type":"break","key":"XfSECAh09r"},{"type":"text","value":"\nüîó Check the project website: ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"yJPvKSpnEw"},{"type":"link","url":"https://www.4datlantic-ohc.org/about","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"4DATLANTIC-OHC ‚Äì Website","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"cCllIvEWS9"}],"urlSource":"https://www.4datlantic-ohc.org/about","key":"PnOL51aniW"}],"key":"Evs5ZmmdIa"},{"type":"heading","depth":3,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Acknowledgment","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"ywSVgRjdAA"}],"identifier":"acknowledgment","label":"Acknowledgment","html_id":"acknowledgment","implicit":true,"key":"hfUJIP4F0N"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"We gratefully acknowledge the ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"E5mDW2SE8j"},{"type":"strong","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"4DATLANTIC-OHC project team","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"DAFLtsMa6b"}],"key":"SbcZlyy5bv"},{"type":"text","value":" for providing access to the data used in this example.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"AZvrXPFMkS"}],"key":"DFHiuAPUqc"},{"type":"blockquote","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"This example is intended to help you understand the workflow and apply similar steps to your own Earth observation data analysis. ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"IygfVKo6NP"},{"type":"break","key":"pP0odaW7F3"}],"key":"CUZeyYSqNy"}],"key":"KkSVca9yKg"}],"key":"Atb6mM2fKy"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Import necessary Python libraries","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"n5E8Z48f81"}],"identifier":"import-necessary-python-libraries","label":"Import necessary Python libraries","html_id":"import-necessary-python-libraries","implicit":true,"key":"qYoADCoEL1"}],"key":"Bk0YBvQuqf"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# import libraries\nfrom pystac import Collection\nimport pystac\nimport xarray as xr\nimport shapely\nimport json\nfrom datetime import datetime","key":"MgQlwQTuSG"},{"type":"output","id":"tD8lmwq3WyVq7A5_answO","data":[],"key":"taG7hlfx2A"}],"key":"WP0msth7Vn"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"1. Generate a root STAC collection","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UMDpx6ptIk"}],"identifier":"id-1-generate-a-root-stac-collection","label":"1. Generate a root STAC collection","html_id":"id-1-generate-a-root-stac-collection","implicit":true,"key":"RbMK8lRGv3"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"The root STAC Collection provides a general description of the enitre dataset, that you would like to store in ESA PRR. In the STAC Specification a Collection is defined as  an extension of the STAC Catalog with additional information such as the extents, license, keywords, providers, etc that describe STAC Items that fall within the Collection. ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"WUmNPc2Rxb"},{"type":"break","key":"qOOBNnnTYr"}],"key":"WepdbjbFPV"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"strong","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"In short: it behaves as the container to store various items that build up your dataset. ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"A8o9qbYCaA"},{"type":"break","key":"lVWbzDJAu4"}],"key":"gH0y2T5ODg"}],"key":"hB4wVfU6eU"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"STAC Collection has some required fields that you need to provide in order to build its valid description. Most of these metadata fields should be extracted from your data.\nPlease have a look at the example below.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"CXqEtxMnNM"}],"key":"O0zl0W8Nhb"},{"type":"code","lang":"python","value":"{\n  \"type\": \"Collection\", # Do not change\n  \"id\": \"\", # add a unique variation of project name + dataset name \n  \"stac_version\": \"1.1.0\", # Do not change\n  \"title\": \"\", # Meaningful title of your dataset\n  \"description\": \"\", # General description of your dataset\n  \"extent\": {\n    \"spatial\": {\n      \"bbox\": [\n        [\n          -180.0,\n          -90.0,\n          180.0,\n          90.0\n        ]\n      ]\n    }, # Spatial extent of your dataset. If you have multiple data files take the minimum bounding box that covers all.\n    \"temporal\": {\n      \"interval\": [\n        [\n          \"1982-01-01T00:00:00Z\",\n          \"2022-12-31T23:59:59Z\"\n        ] # Temporal extent of your dataset. If you have multiple data files take the minimum temporal range that covers all.\n      ]\n    }\n  },\n\"license\": \"\", # the license that applies to entire dataset\n\"links\": [] # do not change\n\n}","position":{"start":{"line":12,"column":1},"end":{"line":43,"column":1}},"key":"Q6HDPdIwFN"}],"key":"wJCUwF4IEr"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Example | Create Collection","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xbeAKNRZ1B"}],"identifier":"example-create-collection","label":"Example | Create Collection","html_id":"example-create-collection","implicit":true,"key":"VJXLOskHRv"}],"key":"fPW7N09yCg"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# define collection id, since it will be reused\ncollectionid = \"4datlantic-ohc\"\n\n# create the root collection using pystac.Collection\n\ncollection = Collection.from_dict(\n    \n{\n  \"type\": \"Collection\",\n  \"id\": collectionid,\n  \"stac_version\": \"1.1.0\",\n  \"title\": \"Atlantic Ocean heat content change\",\n  \"description\": \"Given the major role of the Atlantic Ocean in the climate system, it is essential to characterize the temporal and spatial variations of its heat content. The OHC product results from the space geodetic approach also called altimetry-gravimetry approach. This dataset contains variables as 3D grids of ocean heat content anomalies at 1x1 resolution and monthly time step. Error variance-covariance matrices of OHC at regional scale and annual resolution are also provided. See Experimental Dataset Description for details: https://www.aviso.altimetry.fr/fileadmin/documents/data/tools/OHC-EEI/OHCATL-DT-035-MAG_EDD_V2.0.pdf.Version. V2-0 of Dataset published 2022 in Centre National d‚ÄôEtudes Spatiales. This dataset has been produced within the framework of the 4DAtlantic-Ocean heat content Project funded by ESA.\",\n  \"extent\": {\n    \"spatial\": {\n      \"bbox\": [\n        [-100, \n         -90, \n         25,\n         90]\n      ]\n    },\n    \"temporal\": {\n      \"interval\": [\n        [\n          \"2002-04-15T18:07:12Z\",\n          \"2023-09-01T18:59:59Z\"\n        ]\n      ]\n    }\n  },\n  \"license\": \"Aviso License\",\n  \"links\": []\n\n}\n\n)\n\ncollection","key":"gQEdVBsIJW"},{"type":"output","id":"SD2I0WLF_yCXFXjg8TfDQ","data":[{"output_type":"execute_result","execution_count":2,"metadata":{},"data":{"text/html":{"content":"\n\n<style>\n.pystac-summary {\n    cursor: pointer;\n    display: list-item;\n    list-style: revert;\n    margin-bottom: 0 !important;\n\n    .pystac-l {\n        padding-left: 0.5em;\n        color: rgb(64, 128, 128);\n        font-style: italic;\n    }\n}\n.pystac-row {\n    overflow-wrap: break-word;\n    padding-left: .825em;\n\n    .pystac-k {\n        display: inline-block;\n        margin: 0px 0.5em 0px 0px;\n    }\n    .pystac-v {\n        color: rgb(186, 33, 33);\n    }\n}\n.pystac-k {\n    color: rgb(0, 128, 0);\n    font-weight: 700;\n}\n</style>\n<div class=\"jp-RenderedJSON jp-mod-trusted jp-OutputArea-output\">\n    <div class=\"container\" style=\"line-height: normal;\">\n        <ul style=\"padding: 0px; margin: 0px; list-style: none; display: block;\">\n            \n                \n                    \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">type</span>\n            <span class=\"pystac-v\">\"Collection\"</span>\n        </li>\n    \n                \n            \n                \n                    \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">id</span>\n            <span class=\"pystac-v\">\"4datlantic-ohc\"</span>\n        </li>\n    \n                \n            \n                \n                    \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">stac_version</span>\n            <span class=\"pystac-v\">\"1.1.0\"</span>\n        </li>\n    \n                \n            \n                \n                    \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">description</span>\n            <span class=\"pystac-v\">\"Given the major role of the Atlantic Ocean in the climate system, it is essential to characterize the temporal and spatial variations of its heat content. The OHC product results from the space geodetic approach also called altimetry-gravimetry approach. This dataset contains variables as 3D grids of ocean heat content anomalies at 1x1 resolution and monthly time step. Error variance-covariance matrices of OHC at regional scale and annual resolution are also provided. See Experimental Dataset Description for details: https://www.aviso.altimetry.fr/fileadmin/documents/data/tools/OHC-EEI/OHCATL-DT-035-MAG_EDD_V2.0.pdf.Version. V2-0 of Dataset published 2022 in Centre National d‚ÄôEtudes Spatiales. This dataset has been produced within the framework of the 4DAtlantic-Ocean heat content Project funded by ESA.\"</span>\n        </li>\n    \n                \n            \n                \n                    <li><details>\n        <summary class=\"pystac-summary\"><span class=\"pystac-k\">links</span><span class=\"pystac-l\">[] 0 items</span></summary>\n        \n    </details></li>\n                \n            \n                \n                    \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">title</span>\n            <span class=\"pystac-v\">\"Atlantic Ocean heat content change\"</span>\n        </li>\n    \n                \n            \n                \n                    \n        <li><details>\n            <summary class=\"pystac-summary\"><span class=\"pystac-k\">extent</span></summary>\n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li><details>\n            <summary class=\"pystac-summary\"><span class=\"pystac-k\">spatial</span></summary>\n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                <li><details>\n        <summary class=\"pystac-summary\"><span class=\"pystac-k\">bbox</span><span class=\"pystac-l\">[] 1 items</span></summary>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                <li><details>\n        <summary class=\"pystac-summary\"><span class=\"pystac-k\">0</span><span class=\"pystac-l\">[] 4 items</span></summary>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">0</span>\n            <span class=\"pystac-v\">-100</span>\n        </li>\n    \n            \n        \n    </ul>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">1</span>\n            <span class=\"pystac-v\">-90</span>\n        </li>\n    \n            \n        \n    </ul>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">2</span>\n            <span class=\"pystac-v\">25</span>\n        </li>\n    \n            \n        \n    </ul>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">3</span>\n            <span class=\"pystac-v\">90</span>\n        </li>\n    \n            \n        \n    </ul>\n        \n    </details></li>\n            \n        \n    </ul>\n        \n    </details></li>\n            \n        \n    </ul>\n        </details></li>\n    \n            \n        \n            \n                \n        <li><details>\n            <summary class=\"pystac-summary\"><span class=\"pystac-k\">temporal</span></summary>\n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                <li><details>\n        <summary class=\"pystac-summary\"><span class=\"pystac-k\">interval</span><span class=\"pystac-l\">[] 1 items</span></summary>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                <li><details>\n        <summary class=\"pystac-summary\"><span class=\"pystac-k\">0</span><span class=\"pystac-l\">[] 2 items</span></summary>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">0</span>\n            <span class=\"pystac-v\">\"2002-04-15T18:07:12Z\"</span>\n        </li>\n    \n            \n        \n    </ul>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">1</span>\n            <span class=\"pystac-v\">\"2023-09-01T18:59:59Z\"</span>\n        </li>\n    \n            \n        \n    </ul>\n        \n    </details></li>\n            \n        \n    </ul>\n        \n    </details></li>\n            \n        \n    </ul>\n        </details></li>\n    \n            \n        \n    </ul>\n        </details></li>\n    \n                \n            \n                \n                    \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">license</span>\n            <span class=\"pystac-v\">\"Aviso License\"</span>\n        </li>\n    \n                \n            \n        </ul>\n    </div>\n</div>","content_type":"text/html"},"text/plain":{"content":"<Collection id=4datlantic-ohc>","content_type":"text/plain"}}}],"key":"b2Tab7ccZ3"}],"key":"aTcrPsloBX"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"2.  Group your dataset files into STAC Items and STAC Assets","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"eapntIlFBp"}],"identifier":"id-2-group-your-dataset-files-into-stac-items-and-stac-assets","label":"2.  Group your dataset files into STAC Items and STAC Assets","html_id":"id-2-group-your-dataset-files-into-stac-items-and-stac-assets","implicit":true,"key":"W086B6NeLi"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The second step is to describe the different files as Items and Assets. This is the most time-consuming step. There are multiple strategies for doing this and it is up to you to decide how to do it. The main consideration should be usability of the data.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"a6QED9WSyO"}],"key":"HEEKD514fT"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"For example:","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"L0P3WxfLzw"}],"key":"AAKSQeYbrk"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":8,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Microsoft Planatery Computer groups its Sentinel-2 data into Items which represent individual regions, and each item has 13 assets each representing a band - ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"PM8tzGJVa7"},{"type":"link","url":"https://stacindex.org/catalogs/microsoft-pc#/43bjKKcJQfxYaT1ir3Ep6uENfjEoQrjkzhd2?cp=1&t=5","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"https://‚Äãstacindex‚Äã.org‚Äã/catalogs‚Äã/microsoft‚Äã-pc‚Äã#‚Äã/43bjKKcJQfxYaT1ir3Ep6uENfjEoQrjkzhd2‚Äã?cp‚Äã=‚Äã1‚Äã&‚Äãt‚Äã=5","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"NY4S8z3t92"}],"urlSource":"https://stacindex.org/catalogs/microsoft-pc#/43bjKKcJQfxYaT1ir3Ep6uENfjEoQrjkzhd2?cp=1&t=5","key":"jknc3VMuTl"},{"type":"text","value":" .","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"RtAUyTkqjz"}],"key":"CEzDkx00tA"}],"key":"ytv7yx9z66"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"The California Forest Observatory (on Google Earth Engine) groups its data into Items, where each Item represents a specific year, data type and resolution for the whole study area. Each Item has only one asset ( dataset ) associated with it - ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"apz7dxb5O6"},{"type":"link","url":"https://stacindex.org/catalogs/forest-observatory#/4dGsSbK8F5jjmhRZYE6kjUMmgWCUKe6J2qqw?t=2","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"https://‚Äãstacindex‚Äã.org‚Äã/catalogs‚Äã/forest‚Äã-observatory‚Äã#‚Äã/4dGsSbK8F5jjmhRZYE6kjUMmgWCUKe6J2qqw‚Äã?t‚Äã=2","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"yoMDNB7r8o"}],"urlSource":"https://stacindex.org/catalogs/forest-observatory#/4dGsSbK8F5jjmhRZYE6kjUMmgWCUKe6J2qqw?t=2","key":"mF3GUv25xO"},{"type":"text","value":".","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"JfuNoPaPhH"}],"key":"nsSarFtkrV"}],"key":"XH5GnfIYQc"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"A More complex example from real-data from ESA-funded project: ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"isbjFYEuLj"},{"type":"link","url":"https://eoresults.esa.int/browser/#/external/eoresults.esa.int/stac/?.language=en","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"ESA Projects Results Repository","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"xowaOVQ13v"}],"urlSource":"https://eoresults.esa.int/browser/#/external/eoresults.esa.int/stac/?.language=en","key":"bLzTEfQwSn"},{"type":"text","value":", gives the researchers flexibility in terms on how their datasets will be grouped into Items and Assets. You may need to consider that the more Items you have in your collection, the slower the browsing would be if the user would like to browse through the publicly open STAC Browser. Please have a look at one example, that provides one Sentinel-3 AMPLI Ice Sheet Elevation collection with around 400 Items complemented by around 360 assets each.\n","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"CcN2HGMmb2"},{"type":"link","url":"https://eoresults.esa.int/browser/#/external/eoresults.esa.int/stac/collections/sentinel3-ampli-ice-sheet-elevation","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"https://‚Äãeoresults‚Äã.esa‚Äã.int‚Äã/browser‚Äã/‚Äã#‚Äã/external‚Äã/eoresults‚Äã.esa‚Äã.int‚Äã/stac‚Äã/collections‚Äã/sentinel3‚Äã-ampli‚Äã-ice‚Äã-sheet‚Äã-elevation","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"NYSeSJckI6"}],"urlSource":"https://eoresults.esa.int/browser/#/external/eoresults.esa.int/stac/collections/sentinel3-ampli-ice-sheet-elevation","key":"GETSx6UCxy"}],"key":"dC0l5XtVHn"}],"key":"jYAdENX3K5"},{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"More general examples about creating STAC catalogs are available here - ","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"XY106QrwH5"},{"type":"link","url":"https://github.com/stac-utils/pystac/tree/main/docs/tutorials","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"https://‚Äãgithub‚Äã.com‚Äã/stac‚Äã-utils‚Äã/pystac‚Äã/tree‚Äã/main‚Äã/docs‚Äã/tutorials","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"oMSHnowL6t"}],"urlSource":"https://github.com/stac-utils/pystac/tree/main/docs/tutorials","error":true,"key":"qrKzKoWlNz"},{"type":"text","value":".","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"TSr3A1pt8N"}],"key":"EASpLONuJ9"}],"key":"EfANCFDzf2"}],"key":"M0noYIJ55E"},{"type":"paragraph","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"The easiest way to generate the required STAC Items is to copy over the metadata directly from your files.","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"W4GuSwGNqb"}],"key":"LXWaBHjQpj"}],"key":"WrJieXrGR1"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Example | Open Dataset","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BaVs8yTZAF"}],"identifier":"example-open-dataset","label":"Example | Open Dataset","html_id":"example-open-dataset","implicit":true,"key":"rfAnTHlT7O"}],"key":"EtxxVzzU3E"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import urllib.request\n\n# Download the dataset locally\nurllib.request.urlretrieve('https://data.aviso.altimetry.fr/aviso-gateway/data/indicators/OHC_EEI/4DAtlantic_OHC/OHC_4DATLANTIC_200204_202212_V2-0.nc', 'OHC_4DATLANTIC_200204_202212_V2-0.nc')\n","key":"aDw3okSWoA"},{"type":"output","id":"WLTvZbbWhAJf2cvTPWA8E","data":[{"output_type":"execute_result","execution_count":3,"metadata":{},"data":{"text/plain":{"content":"('OHC_4DATLANTIC_200204_202212_V2-0.nc',\n <http.client.HTTPMessage at 0x17f770190>)","content_type":"text/plain"}}}],"key":"eB7vJetODl"}],"key":"LtWldSqhBN"},{"type":"block","kind":"notebook-code","data":{"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"# open dataset\n\n# define relative filepath within the folder structure you want to upload to the PRRs\nfilepath = 'OHC_4DATLANTIC_200204_202212_V2-0.nc'\n\nds = xr.open_dataset(filepath)\nds","key":"nQi8krabPZ"},{"type":"output","id":"SH5wScrjHozf_aylFbnIt","data":[{"output_type":"execute_result","execution_count":4,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"39c320f043fe31e09b4a0b1b8fb248b9","path":"/examples/build/39c320f043fe31e09b4a0b1b8fb248b9.html"},"text/plain":{"content":"<xarray.Dataset> Size: 124MB\nDimensions:                     (time: 249, time_covar: 21, time_covar_2: 21,\n                                 latitude: 180, longitude: 125)\nCoordinates:\n  * time                        (time) object 2kB 2002-04-15 18:07:12.000001 ...\n  * time_covar                  (time_covar) object 168B 2002-07-02 00:00:00 ...\n  * time_covar_2                (time_covar_2) object 168B 2002-07-02 00:00:0...\n  * latitude                    (latitude) float64 1kB -89.5 -88.5 ... 88.5 89.5\n  * longitude                   (longitude) float64 1kB -99.5 -98.5 ... 24.5\nData variables:\n    crs                         int64 8B ...\n    cell_surface                (latitude, longitude) float64 180kB ...\n    ohc                         (time, latitude, longitude) float64 45MB ...\n    ohc_mask                    (time) float64 2kB ...\n    ohc_var_covar_matrix_local  (time_covar, time_covar_2, latitude, longitude) float64 79MB ...\nAttributes:\n    source:       satellite observation\n    history:      Creation: 2025-02-05\n    references:   https://doi.org/10.24400/527896/A01-2022.012\n    url:          https://www.aviso.altimetry.fr/en/data/products/ocean-indic...\n    Conventions:  CF-1.8\n    summary:      The OHC product results from the space geodetic approach al...\n    start_date:   2002-04-15\n    end_date:     2022-12-16\n    version:      2.0\n    comment:      See technical documentation ATBD and EDD, and peer-review a...\n    contact:      robin.fraudeau(at)magellium.fr","content_type":"text/plain"}}}],"key":"w3Pu3CCZQj"}],"key":"gmTHwo161V"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# helper function to convert numpy arrays to lists\nimport numpy as np\ndef convert_to_json_serialisable(attrs):\n    attrs = attrs.copy()\n    for attr in attrs.keys():\n        if isinstance(attrs[attr], np.ndarray):\n            attrs[attr] = attrs[attr].tolist()\n    return attrs","key":"DUUCiOMFsn"},{"type":"output","id":"VahpoiNGMzv8LFkLrazd2","data":[],"key":"rTHNVIA3RI"}],"key":"l0wp0QYhmj"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Example | Create valid STAC Item from your product (nc)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FHJR3ZqThG"}],"identifier":"example-create-valid-stac-item-from-your-product-nc","label":"Example | Create valid STAC Item from your product (nc)","html_id":"example-create-valid-stac-item-from-your-product-nc","implicit":true,"key":"riFihtS53O"}],"key":"GjATu54Mpm"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Describe the first file (Item)\n\n\n# 1. extract the spatial extent from the .nc file \nbbox = [ds['longitude'].values.min(), ds['latitude'].values.min(), ds['longitude'].values.max(), ds['latitude'].values.max(), ]\ngeometry = json.loads(json.dumps(shapely.box(*bbox).__geo_interface__))\n\n# 2. extract additional information (properties) from the .nc file and create the STAC Item\nitem = pystac.Item(\n    id=collectionid + 'v2',\n    geometry=geometry,\n    datetime=datetime.strptime('2025-02-05', '%Y-%m-%d'),\n    bbox=bbox,\n    properties= {\n        \"history\": ds.attrs['history'],\n        \"source\": ds.attrs['source'],\n        \"comment\": ds.attrs['comment'],\n        \"references\": ds.attrs['references'],\n        \"summary\": ds.attrs['summary'],\n        \"version\": ds.attrs['version'],\n        \"conventions\": ds.attrs['Conventions'],\n    } # please note that this field is not mandatory by STAC specification, \n        # and depends on the information you have provided within your original dataset.\n      # You are encouraged to provide as complete information as possible here, to make sure your product has rich metadata, facilitating product discoverability and usability\n)\n\n# 3. Extract variable properties at the Item level, since there is only one file\nstac_property_prefix = 'variable_'\nitem.properties[f\"{stac_property_prefix}ohc\"] = convert_to_json_serialisable(ds.variables['ohc'].attrs)\nitem.properties[f\"{stac_property_prefix}ohc_var_covar_matrix_local\"] = convert_to_json_serialisable(ds.variables['ohc_var_covar_matrix_local'].attrs)\nitem.properties[f\"{stac_property_prefix}ohc_mask\"] = convert_to_json_serialisable(ds.variables['ohc_mask'].attrs)\n\n\n# 4. Add asset\nitem.add_asset(\n            key='OHC Atlantic Dataset', # title can be arbitrary\n            asset=pystac.Asset(\n                href=f'/d/{collectionid}/{filepath}', # keep the /d/ reference\n                media_type=\"application/x-netcdf\",\n                roles=[\"data\"],\n            )\n) ## Please note that asset can describe a satllite image band, as well as single nc or tiff file, depending on the orginal data structure. ","key":"LvwxnCrZSC"},{"type":"output","id":"MwX5ytdq1XiU28pf1oAnV","data":[],"key":"hEpNveQX0J"}],"key":"jSA2kjKFiN"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"item # Preview created Item","key":"rXWv9aY2xW"},{"type":"output","id":"x_Xxq_qbNIreyoxXk7kh3","data":[{"output_type":"execute_result","execution_count":7,"metadata":{},"data":{"text/html":{"content":"\n\n<style>\n.pystac-summary {\n    cursor: pointer;\n    display: list-item;\n    list-style: revert;\n    margin-bottom: 0 !important;\n\n    .pystac-l {\n        padding-left: 0.5em;\n        color: rgb(64, 128, 128);\n        font-style: italic;\n    }\n}\n.pystac-row {\n    overflow-wrap: break-word;\n    padding-left: .825em;\n\n    .pystac-k {\n        display: inline-block;\n        margin: 0px 0.5em 0px 0px;\n    }\n    .pystac-v {\n        color: rgb(186, 33, 33);\n    }\n}\n.pystac-k {\n    color: rgb(0, 128, 0);\n    font-weight: 700;\n}\n</style>\n<div class=\"jp-RenderedJSON jp-mod-trusted jp-OutputArea-output\">\n    <div class=\"container\" style=\"line-height: normal;\">\n        <ul style=\"padding: 0px; margin: 0px; list-style: none; display: block;\">\n            \n                \n                    \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">type</span>\n            <span class=\"pystac-v\">\"Feature\"</span>\n        </li>\n    \n                \n            \n                \n                    \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">stac_version</span>\n            <span class=\"pystac-v\">\"1.1.0\"</span>\n        </li>\n    \n                \n            \n                \n                    <li><details>\n        <summary class=\"pystac-summary\"><span class=\"pystac-k\">stac_extensions</span><span class=\"pystac-l\">[] 0 items</span></summary>\n        \n    </details></li>\n                \n            \n                \n                    \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">id</span>\n            <span class=\"pystac-v\">\"4datlantic-ohcv2\"</span>\n        </li>\n    \n                \n            \n                \n                    \n        <li><details>\n            <summary class=\"pystac-summary\"><span class=\"pystac-k\">geometry</span></summary>\n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">type</span>\n            <span class=\"pystac-v\">\"Polygon\"</span>\n        </li>\n    \n            \n        \n            \n                <li><details>\n        <summary class=\"pystac-summary\"><span class=\"pystac-k\">coordinates</span><span class=\"pystac-l\">[] 1 items</span></summary>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                <li><details>\n        <summary class=\"pystac-summary\"><span class=\"pystac-k\">0</span><span class=\"pystac-l\">[] 5 items</span></summary>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                <li><details>\n        <summary class=\"pystac-summary\"><span class=\"pystac-k\">0</span><span class=\"pystac-l\">[] 2 items</span></summary>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">0</span>\n            <span class=\"pystac-v\">24.5</span>\n        </li>\n    \n            \n        \n    </ul>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">1</span>\n            <span class=\"pystac-v\">-89.5</span>\n        </li>\n    \n            \n        \n    </ul>\n        \n    </details></li>\n            \n        \n    </ul>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                <li><details>\n        <summary class=\"pystac-summary\"><span class=\"pystac-k\">1</span><span class=\"pystac-l\">[] 2 items</span></summary>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">0</span>\n            <span class=\"pystac-v\">24.5</span>\n        </li>\n    \n            \n        \n    </ul>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">1</span>\n            <span class=\"pystac-v\">89.5</span>\n        </li>\n    \n            \n        \n    </ul>\n        \n    </details></li>\n            \n        \n    </ul>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                <li><details>\n        <summary class=\"pystac-summary\"><span class=\"pystac-k\">2</span><span class=\"pystac-l\">[] 2 items</span></summary>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">0</span>\n            <span class=\"pystac-v\">-99.5</span>\n        </li>\n    \n            \n        \n    </ul>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">1</span>\n            <span class=\"pystac-v\">89.5</span>\n        </li>\n    \n            \n        \n    </ul>\n        \n    </details></li>\n            \n        \n    </ul>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                <li><details>\n        <summary class=\"pystac-summary\"><span class=\"pystac-k\">3</span><span class=\"pystac-l\">[] 2 items</span></summary>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">0</span>\n            <span class=\"pystac-v\">-99.5</span>\n        </li>\n    \n            \n        \n    </ul>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">1</span>\n            <span class=\"pystac-v\">-89.5</span>\n        </li>\n    \n            \n        \n    </ul>\n        \n    </details></li>\n            \n        \n    </ul>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                <li><details>\n        <summary class=\"pystac-summary\"><span class=\"pystac-k\">4</span><span class=\"pystac-l\">[] 2 items</span></summary>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">0</span>\n            <span class=\"pystac-v\">24.5</span>\n        </li>\n    \n            \n        \n    </ul>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">1</span>\n            <span class=\"pystac-v\">-89.5</span>\n        </li>\n    \n            \n        \n    </ul>\n        \n    </details></li>\n            \n        \n    </ul>\n        \n    </details></li>\n            \n        \n    </ul>\n        \n    </details></li>\n            \n        \n    </ul>\n        </details></li>\n    \n                \n            \n                \n                    <li><details>\n        <summary class=\"pystac-summary\"><span class=\"pystac-k\">bbox</span><span class=\"pystac-l\">[] 4 items</span></summary>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">0</span>\n            <span class=\"pystac-v\">-99.5</span>\n        </li>\n    \n            \n        \n    </ul>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">1</span>\n            <span class=\"pystac-v\">-89.5</span>\n        </li>\n    \n            \n        \n    </ul>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">2</span>\n            <span class=\"pystac-v\">24.5</span>\n        </li>\n    \n            \n        \n    </ul>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">3</span>\n            <span class=\"pystac-v\">89.5</span>\n        </li>\n    \n            \n        \n    </ul>\n        \n    </details></li>\n                \n            \n                \n                    \n        <li><details>\n            <summary class=\"pystac-summary\"><span class=\"pystac-k\">properties</span></summary>\n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">history</span>\n            <span class=\"pystac-v\">\"Creation: 2025-02-05\"</span>\n        </li>\n    \n            \n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">source</span>\n            <span class=\"pystac-v\">\"satellite observation\"</span>\n        </li>\n    \n            \n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">comment</span>\n            <span class=\"pystac-v\">\"See technical documentation ATBD and EDD, and peer-review article Marti et al, 2022 https://doi.org/10.5194/essd-2021-220 for more information. \"</span>\n        </li>\n    \n            \n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">references</span>\n            <span class=\"pystac-v\">\"https://doi.org/10.24400/527896/A01-2022.012\"</span>\n        </li>\n    \n            \n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">summary</span>\n            <span class=\"pystac-v\">\"The OHC product results from the space geodetic approach also called ‚Äúaltimetry-gravimetry‚Äù approach. This file contains variables as 3D grids of ocean heat content anomalies at 1x1¬∞ resolution and monthly time step. Error variance-covariance matrices of OHC at regional scale and annual resolution are also provided. See Experimental Dataset Description for details.\"</span>\n        </li>\n    \n            \n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">version</span>\n            <span class=\"pystac-v\">\"2.0\"</span>\n        </li>\n    \n            \n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">conventions</span>\n            <span class=\"pystac-v\">\"CF-1.8\"</span>\n        </li>\n    \n            \n        \n            \n                \n        <li><details>\n            <summary class=\"pystac-summary\"><span class=\"pystac-k\">variable_ohc</span></summary>\n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">standard_name</span>\n            <span class=\"pystac-v\">\"sea_water_potential_temperature_expressed_as_heat_content\"</span>\n        </li>\n    \n            \n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">units</span>\n            <span class=\"pystac-v\">\"J m-2\"</span>\n        </li>\n    \n            \n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">unit_long</span>\n            <span class=\"pystac-v\">\"joules per square meter\"</span>\n        </li>\n    \n            \n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">long_name</span>\n            <span class=\"pystac-v\">\"ocean heat content\"</span>\n        </li>\n    \n            \n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">comment</span>\n            <span class=\"pystac-v\">\"regional ocean heat content from the space geodetic approach - derived from the regional thermosteric sea level change using a regional expansion efficiency of heat coefficients\"</span>\n        </li>\n    \n            \n        \n            \n                <li><details>\n        <summary class=\"pystac-summary\"><span class=\"pystac-k\">actual_range</span><span class=\"pystac-l\">[] 2 items</span></summary>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">0</span>\n            <span class=\"pystac-v\">-14159462583.173119</span>\n        </li>\n    \n            \n        \n    </ul>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">1</span>\n            <span class=\"pystac-v\">138967666293.89273</span>\n        </li>\n    \n            \n        \n    </ul>\n        \n    </details></li>\n            \n        \n    </ul>\n        </details></li>\n    \n            \n        \n            \n                \n        <li><details>\n            <summary class=\"pystac-summary\"><span class=\"pystac-k\">variable_ohc_var_covar_matrix_local</span></summary>\n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">units</span>\n            <span class=\"pystac-v\">\"J2 m-4\"</span>\n        </li>\n    \n            \n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">unit_long</span>\n            <span class=\"pystac-v\">\"square joules per meter to the power of 4\"</span>\n        </li>\n    \n            \n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">long_name</span>\n            <span class=\"pystac-v\">\"variance covariance matrix of errors on regional ocean heat content\"</span>\n        </li>\n    \n            \n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">comment</span>\n            <span class=\"pystac-v\">\"variance covariance matrix of errors on regional ocean heat content time-series\"</span>\n        </li>\n    \n            \n        \n            \n                <li><details>\n        <summary class=\"pystac-summary\"><span class=\"pystac-k\">actual_range</span><span class=\"pystac-l\">[] 2 items</span></summary>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">0</span>\n            <span class=\"pystac-v\">-3.90411988493089e+19</span>\n        </li>\n    \n            \n        \n    </ul>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">1</span>\n            <span class=\"pystac-v\">4.79409851441767e+19</span>\n        </li>\n    \n            \n        \n    </ul>\n        \n    </details></li>\n            \n        \n    </ul>\n        </details></li>\n    \n            \n        \n            \n                \n        <li><details>\n            <summary class=\"pystac-summary\"><span class=\"pystac-k\">variable_ohc_mask</span></summary>\n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">long_name</span>\n            <span class=\"pystac-v\">\"ocean_heat_content_mask\"</span>\n        </li>\n    \n            \n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">units</span>\n            <span class=\"pystac-v\">\"1\"</span>\n        </li>\n    \n            \n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">comment</span>\n            <span class=\"pystac-v\">\"mask to apply on OHC data for masking interpolated data ( 1 for observed data and 0 for extrapolated data)\"</span>\n        </li>\n    \n            \n        \n    </ul>\n        </details></li>\n    \n            \n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">datetime</span>\n            <span class=\"pystac-v\">\"2025-02-05T00:00:00Z\"</span>\n        </li>\n    \n            \n        \n    </ul>\n        </details></li>\n    \n                \n            \n                \n                    <li><details>\n        <summary class=\"pystac-summary\"><span class=\"pystac-k\">links</span><span class=\"pystac-l\">[] 0 items</span></summary>\n        \n    </details></li>\n                \n            \n                \n                    \n        <li><details>\n            <summary class=\"pystac-summary\"><span class=\"pystac-k\">assets</span></summary>\n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li><details>\n            <summary class=\"pystac-summary\"><span class=\"pystac-k\">OHC Atlantic Dataset</span></summary>\n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">href</span>\n            <span class=\"pystac-v\">\"/d/4datlantic-ohc/OHC_4DATLANTIC_200204_202212_V2-0.nc\"</span>\n        </li>\n    \n            \n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">type</span>\n            <span class=\"pystac-v\">\"application/x-netcdf\"</span>\n        </li>\n    \n            \n        \n            \n                <li><details>\n        <summary class=\"pystac-summary\"><span class=\"pystac-k\">roles</span><span class=\"pystac-l\">[] 1 items</span></summary>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">0</span>\n            <span class=\"pystac-v\">\"data\"</span>\n        </li>\n    \n            \n        \n    </ul>\n        \n    </details></li>\n            \n        \n    </ul>\n        </details></li>\n    \n            \n        \n    </ul>\n        </details></li>\n    \n                \n            \n        </ul>\n    </div>\n</div>","content_type":"text/html"},"text/plain":{"content":"<Item id=4datlantic-ohcv2>","content_type":"text/plain"}}}],"key":"r38k47r7PR"}],"key":"ZMs898ojBF"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"3. Add the STAC Item to the STAC Collection","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"MGSga9K427"}],"identifier":"id-3-add-the-stac-item-to-the-stac-collection","label":"3. Add the STAC Item to the STAC Collection","html_id":"id-3-add-the-stac-item-to-the-stac-collection","implicit":true,"key":"HWNnMpPwS4"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Adding the items to the collection is a single function call when using a library such as ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"h6jcYnQrhl"},{"type":"inlineCode","value":"pystac","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Oe3c7PQ71t"},{"type":"text","value":".","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ETMYZED3Ty"}],"key":"ERjElKmpzd"},{"type":"code","lang":"python","value":"collection.add_item(item)","position":{"start":{"line":5,"column":1},"end":{"line":7,"column":1}},"key":"lhH5CeRw7l"}],"key":"tBNr8Hi25z"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"collection.add_item(item)","key":"AQazUuqjH6"},{"type":"output","id":"cTWDOlc4PseQGTmCuHV_1","data":[{"output_type":"execute_result","execution_count":8,"metadata":{},"data":{"text/html":{"content":"\n\n<style>\n.pystac-summary {\n    cursor: pointer;\n    display: list-item;\n    list-style: revert;\n    margin-bottom: 0 !important;\n\n    .pystac-l {\n        padding-left: 0.5em;\n        color: rgb(64, 128, 128);\n        font-style: italic;\n    }\n}\n.pystac-row {\n    overflow-wrap: break-word;\n    padding-left: .825em;\n\n    .pystac-k {\n        display: inline-block;\n        margin: 0px 0.5em 0px 0px;\n    }\n    .pystac-v {\n        color: rgb(186, 33, 33);\n    }\n}\n.pystac-k {\n    color: rgb(0, 128, 0);\n    font-weight: 700;\n}\n</style>\n<div class=\"jp-RenderedJSON jp-mod-trusted jp-OutputArea-output\">\n    <div class=\"container\" style=\"line-height: normal;\">\n        <ul style=\"padding: 0px; margin: 0px; list-style: none; display: block;\">\n            \n                \n                    \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">rel</span>\n            <span class=\"pystac-v\">\"item\"</span>\n        </li>\n    \n                \n            \n                \n                    \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">href</span>\n            <span class=\"pystac-v\">None</span>\n        </li>\n    \n                \n            \n                \n                    \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">type</span>\n            <span class=\"pystac-v\">\"application/geo+json\"</span>\n        </li>\n    \n                \n            \n        </ul>\n    </div>\n</div>","content_type":"text/html"},"text/plain":{"content":"<Link rel=item target=<Item id=4datlantic-ohcv2>>","content_type":"text/plain"}}}],"key":"qudwjiGQU4"}],"key":"rp58yDewiN"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"4. Save the collection","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"obfFQnS0G8"}],"identifier":"id-4-save-the-collection","label":"4. Save the collection","html_id":"id-4-save-the-collection","implicit":true,"key":"xnBvtBfkVh"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Again this step is a single function call.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"VUncAoKcJA"}],"key":"mYGhg1fEZE"},{"type":"code","lang":"python","value":"\ncollection.normalize_and_save(\n    root_href='../data/example/', \n    catalog_type=pystac.CatalogType.SELF_CONTAINED\n)\n","position":{"start":{"line":5,"column":1},"end":{"line":12,"column":1}},"key":"eK2Yh6km2i"}],"key":"o5lXxIzrdV"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"collection.normalize_and_save(\n    root_href='example_4datlantic/', # path to the self-contained folder with stac collection\n    catalog_type=pystac.CatalogType.SELF_CONTAINED\n)","key":"dGijVLRxDZ"},{"type":"output","id":"0Oa7WEdK9fbHndmekGI9V","data":[],"key":"b4RIibRZdU"}],"key":"K9hB5MVoxo"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"collection","key":"VhGiMOt20w"},{"type":"output","id":"z9lkC18MngjrZ-ocFDxMU","data":[{"output_type":"execute_result","execution_count":10,"metadata":{},"data":{"text/html":{"content":"\n\n<style>\n.pystac-summary {\n    cursor: pointer;\n    display: list-item;\n    list-style: revert;\n    margin-bottom: 0 !important;\n\n    .pystac-l {\n        padding-left: 0.5em;\n        color: rgb(64, 128, 128);\n        font-style: italic;\n    }\n}\n.pystac-row {\n    overflow-wrap: break-word;\n    padding-left: .825em;\n\n    .pystac-k {\n        display: inline-block;\n        margin: 0px 0.5em 0px 0px;\n    }\n    .pystac-v {\n        color: rgb(186, 33, 33);\n    }\n}\n.pystac-k {\n    color: rgb(0, 128, 0);\n    font-weight: 700;\n}\n</style>\n<div class=\"jp-RenderedJSON jp-mod-trusted jp-OutputArea-output\">\n    <div class=\"container\" style=\"line-height: normal;\">\n        <ul style=\"padding: 0px; margin: 0px; list-style: none; display: block;\">\n            \n                \n                    \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">type</span>\n            <span class=\"pystac-v\">\"Collection\"</span>\n        </li>\n    \n                \n            \n                \n                    \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">id</span>\n            <span class=\"pystac-v\">\"4datlantic-ohc\"</span>\n        </li>\n    \n                \n            \n                \n                    \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">stac_version</span>\n            <span class=\"pystac-v\">\"1.1.0\"</span>\n        </li>\n    \n                \n            \n                \n                    \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">description</span>\n            <span class=\"pystac-v\">\"Given the major role of the Atlantic Ocean in the climate system, it is essential to characterize the temporal and spatial variations of its heat content. The OHC product results from the space geodetic approach also called altimetry-gravimetry approach. This dataset contains variables as 3D grids of ocean heat content anomalies at 1x1 resolution and monthly time step. Error variance-covariance matrices of OHC at regional scale and annual resolution are also provided. See Experimental Dataset Description for details: https://www.aviso.altimetry.fr/fileadmin/documents/data/tools/OHC-EEI/OHCATL-DT-035-MAG_EDD_V2.0.pdf.Version. V2-0 of Dataset published 2022 in Centre National d‚ÄôEtudes Spatiales. This dataset has been produced within the framework of the 4DAtlantic-Ocean heat content Project funded by ESA.\"</span>\n        </li>\n    \n                \n            \n                \n                    <li><details>\n        <summary class=\"pystac-summary\"><span class=\"pystac-k\">links</span><span class=\"pystac-l\">[] 3 items</span></summary>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li><details>\n            <summary class=\"pystac-summary\"><span class=\"pystac-k\">0</span></summary>\n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">rel</span>\n            <span class=\"pystac-v\">\"root\"</span>\n        </li>\n    \n            \n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">href</span>\n            <span class=\"pystac-v\">\"/Users/dean/Documents/EarthCODE/examples-1/OSC/example_4datlantic/collection.json\"</span>\n        </li>\n    \n            \n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">type</span>\n            <span class=\"pystac-v\">\"application/json\"</span>\n        </li>\n    \n            \n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">title</span>\n            <span class=\"pystac-v\">\"Atlantic Ocean heat content change\"</span>\n        </li>\n    \n            \n        \n    </ul>\n        </details></li>\n    \n            \n        \n    </ul>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li><details>\n            <summary class=\"pystac-summary\"><span class=\"pystac-k\">1</span></summary>\n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">rel</span>\n            <span class=\"pystac-v\">\"item\"</span>\n        </li>\n    \n            \n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">href</span>\n            <span class=\"pystac-v\">\"/Users/dean/Documents/EarthCODE/examples-1/OSC/example_4datlantic/4datlantic-ohcv2/4datlantic-ohcv2.json\"</span>\n        </li>\n    \n            \n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">type</span>\n            <span class=\"pystac-v\">\"application/geo+json\"</span>\n        </li>\n    \n            \n        \n    </ul>\n        </details></li>\n    \n            \n        \n    </ul>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li><details>\n            <summary class=\"pystac-summary\"><span class=\"pystac-k\">2</span></summary>\n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">rel</span>\n            <span class=\"pystac-v\">\"self\"</span>\n        </li>\n    \n            \n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">href</span>\n            <span class=\"pystac-v\">\"/Users/dean/Documents/EarthCODE/examples-1/OSC/example_4datlantic/collection.json\"</span>\n        </li>\n    \n            \n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">type</span>\n            <span class=\"pystac-v\">\"application/json\"</span>\n        </li>\n    \n            \n        \n    </ul>\n        </details></li>\n    \n            \n        \n    </ul>\n        \n    </details></li>\n                \n            \n                \n                    \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">title</span>\n            <span class=\"pystac-v\">\"Atlantic Ocean heat content change\"</span>\n        </li>\n    \n                \n            \n                \n                    \n        <li><details>\n            <summary class=\"pystac-summary\"><span class=\"pystac-k\">extent</span></summary>\n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li><details>\n            <summary class=\"pystac-summary\"><span class=\"pystac-k\">spatial</span></summary>\n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                <li><details>\n        <summary class=\"pystac-summary\"><span class=\"pystac-k\">bbox</span><span class=\"pystac-l\">[] 1 items</span></summary>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                <li><details>\n        <summary class=\"pystac-summary\"><span class=\"pystac-k\">0</span><span class=\"pystac-l\">[] 4 items</span></summary>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">0</span>\n            <span class=\"pystac-v\">-100</span>\n        </li>\n    \n            \n        \n    </ul>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">1</span>\n            <span class=\"pystac-v\">-90</span>\n        </li>\n    \n            \n        \n    </ul>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">2</span>\n            <span class=\"pystac-v\">25</span>\n        </li>\n    \n            \n        \n    </ul>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">3</span>\n            <span class=\"pystac-v\">90</span>\n        </li>\n    \n            \n        \n    </ul>\n        \n    </details></li>\n            \n        \n    </ul>\n        \n    </details></li>\n            \n        \n    </ul>\n        </details></li>\n    \n            \n        \n            \n                \n        <li><details>\n            <summary class=\"pystac-summary\"><span class=\"pystac-k\">temporal</span></summary>\n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                <li><details>\n        <summary class=\"pystac-summary\"><span class=\"pystac-k\">interval</span><span class=\"pystac-l\">[] 1 items</span></summary>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                <li><details>\n        <summary class=\"pystac-summary\"><span class=\"pystac-k\">0</span><span class=\"pystac-l\">[] 2 items</span></summary>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">0</span>\n            <span class=\"pystac-v\">\"2002-04-15T18:07:12Z\"</span>\n        </li>\n    \n            \n        \n    </ul>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">1</span>\n            <span class=\"pystac-v\">\"2023-09-01T18:59:59Z\"</span>\n        </li>\n    \n            \n        \n    </ul>\n        \n    </details></li>\n            \n        \n    </ul>\n        \n    </details></li>\n            \n        \n    </ul>\n        </details></li>\n    \n            \n        \n    </ul>\n        </details></li>\n    \n                \n            \n                \n                    \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">license</span>\n            <span class=\"pystac-v\">\"Aviso License\"</span>\n        </li>\n    \n                \n            \n        </ul>\n    </div>\n</div>","content_type":"text/html"},"text/plain":{"content":"<Collection id=4datlantic-ohc>","content_type":"text/plain"}}}],"key":"OwMOPPE91e"}],"key":"xSAPfAHHmF"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Congratulations, you have created your first STAC Collection. ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nTtBeDLH5O"},{"type":"break","key":"J2y5QKCRYu"}],"identifier":"congratulations-you-have-created-your-first-stac-collection","label":"Congratulations, you have created your first STAC Collection. ","html_id":"congratulations-you-have-created-your-first-stac-collection","implicit":true,"key":"ENpSMKexc3"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Now, you have your results ready to be ingested into ESA PRR. To request data storage in ESA PRR, contact EarthCODE team at: ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"hYFzNTlnfB"},{"type":"link","url":"mailto:earth-code@esa.int","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"earth-code@esa.int","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"fXC0w8DjqW"}],"urlSource":"mailto:earth-code@esa.int","key":"BxoTxnfki4"},{"type":"text","value":" and provide following information:","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"gQy1vTBfcN"}],"key":"wQRg69oLsU"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"total size of your dataset","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"YrhynsDAFu"}],"key":"xmPt6l0jpW"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"link to Collection created together with associated items (e.g. entire ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"RECw4Rb61i"},{"type":"inlineCode","value":"example_4datlantic","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"iHdVFUUKpv"},{"type":"text","value":" folder) - can be provided as a .zip or link to online repository / GitHub public repository","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"B3ImjEF97o"}],"key":"n615ElGLlF"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"specify any restrictions related to the access of your dataset\nOnce done, EarthCODE team will make a request to publish your product into PRR on your behalf (in the future the self-ingestion system will be supported). ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"zLimfxHk1O"},{"type":"break","key":"oktSB5CWNm"}],"key":"m2MGit2r36"}],"key":"HLTOoQf9rh"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Once the collection is imported you will receive a dedicated URL to your products, which you can use to request a DOI from the data journal or/and create the record on Open Science Data Catalogue to make your data discoverable.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"dXv9a8YkdP"}],"key":"dOdlgTkwTe"}],"key":"MRs2YtDRQG"}],"key":"Xbf9ctBRcb"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Stactools Full Example","url":"/stactools-old-example","group":"EarthCODE Examples"}}},"domain":"http://localhost:3000"}