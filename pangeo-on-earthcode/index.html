<!DOCTYPE html><html lang="en" class="" style="scroll-padding:60px"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Example EarthCODE Workflow - EarthCODE Tutorials</title><meta property="og:title" content="Example EarthCODE Workflow - EarthCODE Tutorials"/><meta name="generator" content="mystmd"/><meta name="description" content="desc"/><meta property="og:description" content="desc"/><meta name="keywords" content=""/><meta name="image" content="/tutorials/build/2abbd18d64e70642d7c0e83666723e68.png"/><meta property="og:image" content="/tutorials/build/2abbd18d64e70642d7c0e83666723e68.png"/><link rel="stylesheet" href="/tutorials/build/_assets/app-KKSZXL3E.css"/><link rel="stylesheet" href="/tutorials/build/_assets/thebe-core-VKVHG5VY.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jupyter-matplotlib@0.11.3/css/mpl_widget.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"/><link rel="icon" href="/tutorials/favicon.ico"/><link rel="stylesheet" href="/tutorials/myst-theme.css"/><script>
  const savedTheme = localStorage.getItem("myst:theme");
  const theme = window.matchMedia("(prefers-color-scheme: light)").matches ? 'light' : 'dark';
  const classes = document.documentElement.classList;
  const hasAnyTheme = classes.contains('light') || classes.contains('dark');
  if (!hasAnyTheme) classes.add(savedTheme ?? theme);
</script></head><body class="m-0 transition-colors duration-500 bg-white dark:bg-stone-900"><div class="myst-skip-to-article fixed top-1 left-1 h-[0px] w-[0px] focus-within:z-40 focus-within:h-auto focus-within:w-auto bg-white overflow-hidden focus-within:p-2 focus-within:ring-1" aria-label="skip to content options"><a href="#skip-to-frontmatter" class="myst-skip-to-link block px-2 py-1 text-black underline">Skip to article frontmatter</a><a href="#skip-to-article" class="myst-skip-to-link block px-2 py-1 text-black underline">Skip to article content</a></div><dialog id="myst-no-css" style="position:fixed;left:0px;top:0px;width:100vw;height:100vh;font-size:4rem;padding:1rem;color:black;background:white"><strong>Site not loading correctly?</strong><p>This may be due to an incorrect <code>BASE_URL</code> configuration. See<!-- --> <a href="https://mystmd.org/guide/deployment#deploy-base-url">the MyST Documentation</a> <!-- -->for reference.</p><script>
    (() => {
            // Test for has-styling variable set by the MyST stylesheet
            const node = document.currentScript.parentNode;
            const hasCSS = window.getComputedStyle(node).getPropertyValue("--has-styling");
            if (hasCSS === ""){
                    node.showModal();
            }

    })()
</script></dialog><div class="myst-top-nav bg-white/80 backdrop-blur dark:bg-stone-900/80 shadow dark:shadow-stone-700 p-3 md:px-8 sticky w-screen top-0 z-30 h-[60px]"><nav class="myst-top-nav-bar flex items-center justify-between flex-nowrap max-w-[1440px] mx-auto"><div class="flex flex-row xl:min-w-[19.5rem] mr-2 sm:mr-7 justify-start items-center shrink-0"><div class="block xl:hidden"><button class="myst-top-nav-menu-button flex items-center border-stone-400 text-stone-800 hover:text-stone-900 dark:text-stone-200 hover:dark:text-stone-100"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="m-1"><path fill-rule="evenodd" d="M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg><span class="sr-only">Open Menu</span></button></div><a class="myst-home-link flex items-center ml-3 dark:text-white w-fit md:ml-5 xl:ml-7" href="/tutorials/"><div class="myst-home-link-logo p-1 mr-3 dark:bg-white dark:rounded"><img src="/tutorials/build/EarthCODE_kv_transpa-199302938cd4e42bfed972a57a6baac2.png" class="h-9" alt="EarthCODE Tutorials" height="2.25rem"/></div><span class="text-md sm:text-xl tracking-tight sm:mr-5">EarthCODE Tutorials</span></a></div><div class="flex items-center flex-grow w-auto"><div class="flex-grow hidden text-md lg:block"></div><div class="flex-grow block"></div><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R75cp:" data-state="closed" class="myst-search-bar flex items-center h-10 aspect-square sm:w-64 text-left text-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 myst-search-bar-disabled hover:ring-blue-500 dark:hover:ring-blue-500 hover:border-blue-500 dark:hover:border-blue-500"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="p-2.5 h-10 w-10 aspect-square"><path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z" clip-rule="evenodd"></path></svg><span class="myst-search-text-placeholder hidden sm:block grow">Search</span><div aria-hidden="true" class="myst-search-shortcut items-center hidden mx-1 font-mono text-sm text-gray-600 sm:flex gap-x-1"><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none hide-mac">CTRL</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none show-mac">⌘</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none ">K</kbd><script>
;(() => {
const script = document.currentScript;
const root = script.parentElement;

const isMac = /mac/i.test(
      window.navigator.userAgentData?.platform ?? window.navigator.userAgent,
    );
root.querySelectorAll(".hide-mac").forEach(node => {node.classList.add(isMac ? "hidden" : "block")});
root.querySelectorAll(".show-mac").forEach(node => {node.classList.add(!isMac ? "hidden" : "block")});
})()</script></div></button><button class="myst-theme-button theme rounded-full aspect-square border border-stone-700 dark:border-white hover:bg-neutral-100 border-solid overflow-hidden text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 w-8 h-8 mx-3" title="Toggle theme between light and dark mode" aria-label="Toggle theme between light and dark mode"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="myst-theme-moon-icon h-full w-full p-0.5 hidden dark:block"><path fill-rule="evenodd" d="M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z" clip-rule="evenodd"></path></svg><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="myst-theme-sun-icon h-full w-full p-0.5 dark:hidden"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"></path></svg></button><div class="block sm:hidden"></div><div class="hidden sm:block"></div></div></nav></div><div class="myst-primary-sidebar fixed xl:article-grid grid-gap xl:w-screen xl:pointer-events-none overflow-auto max-xl:min-w-[300px] hidden z-10" style="top:60px"><div class="myst-primary-sidebar-pointer pointer-events-auto xl:col-margin-left flex-col overflow-hidden hidden xl:flex"><div class="myst-primary-sidebar-nav flex-grow py-6 overflow-y-auto primary-scrollbar"><nav aria-label="Navigation" class="myst-primary-sidebar-topnav overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px] lg:hidden"><div class="w-full px-1 dark:text-white font-medium"></div></nav><div class="my-3 border-b-2 lg:hidden"></div><nav aria-label="Table of Contents" class="myst-primary-sidebar-toc flex-grow overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px]"><div class="myst-toc w-full px-1 dark:text-white"><a title="EarthCODE Tutorials" class="block break-words focus:outline outline-blue-200 outline-2 rounded myst-toc-item p-2 my-1 rounded-lg hover:bg-slate-300/30 font-bold" href="/tutorials/">EarthCODE Tutorials</a><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><a title="ESA Project Results Repository" class="block break-words focus:outline outline-blue-200 outline-2 rounded py-2 grow" href="/tutorials/index-1">ESA Project Results Repository</a><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:Rmpsp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:Rmpsp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><a title="Open Science Catalog" class="block break-words focus:outline outline-blue-200 outline-2 rounded py-2 grow" href="/tutorials/index-2">Open Science Catalog</a><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:Rupsp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:Rupsp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><a title="openEO" class="block break-words focus:outline outline-blue-200 outline-2 rounded py-2 grow" href="/tutorials/index-3">openEO</a><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R16psp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R16psp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><a title="Pangeo" class="block break-words focus:outline outline-blue-200 outline-2 rounded py-2 grow" href="/tutorials/index-4">Pangeo</a><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R1epsp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R1epsp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div></div></nav></div><div class="myst-primary-sidebar-footer flex-none py-6 transition-all duration-700 translate-y-6 opacity-0"><a class="myst-made-with-myst flex mx-auto text-gray-700 w-fit hover:text-blue-700 dark:text-gray-200 dark:hover:text-blue-400" href="https://mystmd.org/made-with-myst" target="_blank" rel="noreferrer"><svg style="width:24px;height:24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" stroke="none"><g id="icon"><path fill="currentColor" d="M23.8,54.8v-3.6l4.7-0.8V17.5l-4.7-0.8V13H36l13.4,31.7h0.2l13-31.7h12.6v3.6l-4.7,0.8v32.9l4.7,0.8v3.6h-15
          v-3.6l4.9-0.8V20.8H65L51.4,53.3h-3.8l-14-32.5h-0.1l0.2,17.4v12.1l5,0.8v3.6H23.8z"></path><path fill="#F37726" d="M47,86.9c0-5.9-3.4-8.8-10.1-8.8h-8.4c-5.2,0-9.4-1.3-12.5-3.8c-3.1-2.5-5.4-6.2-6.8-11l4.8-1.6
          c1.8,5.6,6.4,8.6,13.8,8.8h9.2c6.4,0,10.8,2.5,13.1,7.5c2.3-5,6.7-7.5,13.1-7.5h8.4c7.8,0,12.7-2.9,14.6-8.7l4.8,1.6
          c-1.4,4.9-3.6,8.6-6.8,11.1c-3.1,2.5-7.3,3.7-12.4,3.8H63c-6.7,0-10,2.9-10,8.8"></path></g></svg><span class="self-center ml-2 text-sm">Made with MyST</span></a></div></div></div><main class="article-grid grid-gap"><article class="article-grid subgrid-gap col-screen article content"><div class="hidden"></div><div id="skip-to-frontmatter" aria-label="article frontmatter" class="myst-fm-block mb-8 pt-9"><div class="myst-fm-block-header flex items-center mb-5 h-6 text-sm font-light"><div class="myst-fm-block-subject flex-none pr-2 smallcaps">EarthCODE Tutorials</div><div class="flex-grow"></div><div class="myst-fm-block-badges"><a href="https://creativecommons.org/licenses/by/4.0/" target="_blank" rel="noopener noreferrer" class="myst-fm-license-cc-badge opacity-50 hover:opacity-100 text-inherit hover:text-inherit myst-fm-license-content" aria-label="Content License: Creative Commons Attribution 4.0 International (CC-BY-4.0)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="myst-fm-license-cc-icon myst-fm-license-cc-icon-main inline-block mx-1"><title>Content License: Creative Commons Attribution 4.0 International (CC-BY-4.0)</title><path d="M12 2.2c2.7 0 5 1 7 2.9.9.9 1.6 2 2.1 3.1.5 1.2.7 2.4.7 3.8 0 1.3-.2 2.6-.7 3.8-.5 1.2-1.2 2.2-2.1 3.1-1 .9-2 1.7-3.2 2.2-1.2.5-2.5.7-3.7.7s-2.6-.3-3.8-.8c-1.2-.5-2.2-1.2-3.2-2.1s-1.6-2-2.1-3.2-.8-2.4-.8-3.7c0-1.3.2-2.5.7-3.7S4.2 6 5.1 5.1C7 3.2 9.3 2.2 12 2.2zM12 4c-2.2 0-4.1.8-5.6 2.3C5.6 7.1 5 8 4.6 9c-.4 1-.6 2-.6 3s.2 2.1.6 3c.4 1 1 1.8 1.8 2.6S8 19 9 19.4c1 .4 2 .6 3 .6s2.1-.2 3-.6c1-.4 1.9-1 2.7-1.8 1.5-1.5 2.3-3.3 2.3-5.6 0-1.1-.2-2.1-.6-3.1-.4-1-1-1.8-1.7-2.6C16.1 4.8 14.2 4 12 4zm-.1 6.4l-1.3.7c-.1-.3-.3-.5-.5-.6-.2-.1-.4-.2-.6-.2-.9 0-1.3.6-1.3 1.7 0 .5.1.9.3 1.3.2.3.5.5 1 .5.6 0 1-.3 1.2-.8l1.2.6c-.3.5-.6.9-1.1 1.1-.5.3-1 .4-1.5.4-.9 0-1.6-.3-2.1-.8-.5-.6-.8-1.3-.8-2.3 0-.9.3-1.7.8-2.2.6-.6 1.3-.8 2.1-.8 1.2 0 2.1.4 2.6 1.4zm5.6 0l-1.3.7c-.1-.3-.3-.5-.5-.6-.2-.1-.4-.2-.6-.2-.9 0-1.3.6-1.3 1.7 0 .5.1.9.3 1.3.2.3.5.5 1 .5.6 0 1-.3 1.2-.8l1.2.6c-.3.5-.6.9-1.1 1.1-.4.2-.9.3-1.4.3-.9 0-1.6-.3-2.1-.8s-.8-1.3-.8-2.2c0-.9.3-1.7.8-2.2.5-.5 1.2-.8 2-.8 1.2 0 2.1.4 2.6 1.4z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="myst-fm-license-cc-icon myst-fm-license-cc-icon-by inline-block mr-1"><title>Credit must be given to the creator</title><path d="M12 2.2c2.7 0 5 .9 6.9 2.8 1.9 1.9 2.8 4.2 2.8 6.9s-.9 5-2.8 6.8c-2 1.9-4.3 2.9-7 2.9-2.6 0-4.9-1-6.9-2.9-1.8-1.7-2.8-4-2.8-6.7s1-5 2.9-6.9C7 3.2 9.3 2.2 12 2.2zM12 4c-2.2 0-4.1.8-5.6 2.3C4.8 8 4 9.9 4 12c0 2.2.8 4 2.4 5.6C8 19.2 9.8 20 12 20c2.2 0 4.1-.8 5.7-2.4 1.5-1.5 2.3-3.3 2.3-5.6 0-2.2-.8-4.1-2.3-5.7C16.1 4.8 14.2 4 12 4zm2.6 5.6v4h-1.1v4.7h-3v-4.7H9.4v-4c0-.2.1-.3.2-.4.1-.2.2-.2.4-.2h4c.2 0 .3.1.4.2.2.1.2.2.2.4zm-4-2.5c0-.9.5-1.4 1.4-1.4s1.4.5 1.4 1.4c0 .9-.5 1.4-1.4 1.4s-1.4-.5-1.4-1.4z"></path></svg></a><a href="https://opensource.org/licenses/MIT" target="_blank" rel="noopener noreferrer" title="Code License: MIT License (MIT)" class="myst-fm-license-badge text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="myst-fm-license-icon myst-fm-license-icon-osi mx-1 inline-block opacity-60 hover:opacity-100 hover:text-[#599F46] myst-fm-license-code"><path d="M13.2 15.6c1.4-.5 2.1-1.6 2.1-3.3S13.8 8.9 12 8.9c-1.9 0-3.3 1.6-3.3 3.3 0 1.8.8 3 2.2 3.4l-2.3 5.9c-3.1-.8-6.3-4.6-6.3-9.3 0-5.5 4.3-10 9.7-10s9.8 4.5 9.8 10c0 4.7-3.1 8.5-6.3 9.3l-2.3-5.9z"></path></svg></a><a href="https://github.com/ESA-EarthCODE/tutorials" title="GitHub Repository: ESA-EarthCODE/tutorials" target="_blank" rel="noopener noreferrer" class="myst-fm-github-link text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="myst-fm-github-icon inline-block mr-1 opacity-60 hover:opacity-100"><path d="M12 2.5c-5.4 0-9.8 4.4-9.8 9.7 0 4.3 2.8 8 6.7 9.2.5.1.7-.2.7-.5v-1.8c-2.4.5-3.1-.6-3.3-1.1-.1-.3-.6-1.1-1-1.4-.3-.2-.8-.6 0-.6s1.3.7 1.5 1c.9 1.5 2.3 1.1 2.8.8.1-.6.3-1.1.6-1.3-2.2-.2-4.4-1.1-4.4-4.8 0-1.1.4-1.9 1-2.6-.1-.2-.4-1.2.1-2.6 0 0 .8-.3 2.7 1 .8-.2 1.6-.3 2.4-.3.8 0 1.7.1 2.4.3 1.9-1.3 2.7-1 2.7-1 .5 1.3.2 2.3.1 2.6.6.7 1 1.5 1 2.6 0 3.7-2.3 4.6-4.4 4.8.4.3.7.9.7 1.8V21c0 .3.2.6.7.5 3.9-1.3 6.6-4.9 6.6-9.2 0-5.4-4.4-9.8-9.8-9.8z"></path></svg></a></div><a href="https://github.com/ESA-EarthCODE/tutorials/edit/main/pangeo/burnt-area-example/pangeo_on_EarthCODE.ipynb" title="Edit This Page" target="_blank" rel="noopener noreferrer" class="myst-fm-edit-link text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem" class="myst-fm-edit-icon inline-block mr-1 opacity-60 hover:opacity-100"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"></path></svg></a><div class="myst-fm-downloads-dropdown relative flex inline-block mx-1 grow-0" data-headlessui-state=""><button class="myst-fm-downloads-button relative ml-2 -mr-1" id="headlessui-menu-button-:Rs8ucp:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Downloads</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem" class="myst-fm-downloads-icon"><title>Download</title><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg></button></div></div><h1 class="myst-fm-block-title mb-0">Example EarthCODE Workflow</h1></div><div class="block my-10 lg:sticky lg:z-10 lg:h-0 lg:pt-0 lg:my-0 lg:ml-10 lg:col-margin-right" style="top:60px"><nav></nav></div><div id="skip-to-article"></div><div id="oXkIjsg2oH" class="myst-jp-nb-block relative group/block"><h3 id="context" class="relative group"><span class="heading-text">Context</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#context" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>We will be using the <a target="_blank" rel="noreferrer" href="https://pangeo.io/" class="">Pangeo</a> open-source software stack to demonstrate how to fetch EarthCODE published data and publically available Sentinel-2 data to generate burn severity maps for the assessment of the areas affected by wildfires.</p><p>In this workshop, we will be using the <a target="_blank" rel="noreferrer" href="https://opensciencedata.esa.int/products/seasfire-cube/collection" class="">SeasFire Data Cube</a> published to the EarthCODE Open Science Catalog.</p><h4 id="methodology-approach" class="relative group"><span class="heading-text">Methodology approach</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#methodology-approach" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><ul><li><p>Analyse and find burnt areas using SeasFire Data Cube</p></li><li><p>Access Sentinel-2 L2A cloud optimised dataset through STAC</p></li><li><p>Compute the Normalised Burn Ratio (NBR) index to highlight burned areas</p></li><li><p>Classify burn severity</p></li></ul><h4 id="highlights" class="relative group"><span class="heading-text">Highlights</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#highlights" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><ul><li><p>Using OSC data</p></li><li><p>The NBR index uses near-infrared (NIR) and shortwave-infrared (SWIR) wavelengths.</p></li></ul><h3 id="data" class="relative group"><span class="heading-text">Data</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#data" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>We will use Sentinel-2 data accessed via <a target="_blank" rel="noreferrer" href="https://element84.com/earth-search/" class="">element84’s STAC API</a> endpoint and the <a target="_blank" rel="noreferrer" href="https://opensciencedata.esa.int/products/seasfire-cube/collection" class="">SeasFire Data Cube</a> to find burned areas, inspect them in more detail and generate burn severity maps for the assessment of the areas affected by wildfires.</p><h5 id="related-publications" class="relative group"><span class="heading-text">Related publications</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#related-publications" title="Link to this Section" aria-label="Link to this Section">¶</a></h5><ul><li><p><a target="_blank" rel="noreferrer" href="https://www.sciencedirect.com/science/article/pii/S1470160X22004708#f0035" class="">https://<wbr/>www<wbr/>.sciencedirect<wbr/>.com<wbr/>/science<wbr/>/article<wbr/>/pii<wbr/>/S1470160X22004708<wbr/>#f0035</a></p></li><li><p><a href="https://github.com/yobimania/dea-notebooks/blob/e0ca59f437395f7c9becca74badcf8c49da6ee90/Fire%20Analysis%20Compiled%20Scripts%20(Gadi)/dNBR_full.py" class="italic" target="_blank" rel="noreferrer" data-state="closed">https://github.com/yobimania/dea-notebooks/blob/e0ca59f437395f7c9becca74badcf8c49da6ee90/Fire Analysis Compiled Scripts (Gadi)/dNBR_full.py</a></p></li><li><p><em>Alonso, Lazaro, Gans, Fabian, Karasante, Ilektra, Ahuja, Akanksha, Prapas, Ioannis, Kondylatos, Spyros, Papoutsis, Ioannis, Panagiotou, Eleannna, Michail, Dimitrios, Cremer, Felix, Weber, Ulrich, &amp; Carvalhais, Nuno. (2022). SeasFire Cube: A Global Dataset for Seasonal Fire Modeling in the Earth System (0.4) [Data set]. Zenodo. <cite class="" data-state="closed"><a href="https://doi.org/10.5281/ZENODO.13834057" target="_blank" rel="noreferrer" class="hover-link">Alonso <em>et al.</em> (2024)</a></cite>. The same dataset can also be downloaded from Zenodo: <a target="_blank" rel="noreferrer" href="https://zenodo.org/records/13834057" class="">https://<wbr/>zenodo<wbr/>.org<wbr/>/records<wbr/>/13834057</a></em></p></li><li><p><em><a target="_blank" rel="noreferrer" href="https://registry.opendata.aws/sentinel-2-l2a-cogs/" class="">https://<wbr/>registry<wbr/>.opendata<wbr/>.aws<wbr/>/sentinel<wbr/>-2<wbr/>-l2a<wbr/>-cogs/</a></em></p></li></ul></div><div id="JecEQR5iJi" class="myst-jp-nb-block relative group/block"><h4 id="import-packages" class="relative group"><span class="heading-text">Import Packages</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#import-packages" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>As best practices dictate, we recommend that you install and import all the necessary libraries at the top of your Jupyter notebook.</p></div><div id="yLVbIQeLbC" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">import json
import xarray
import rasterio

from datetime import datetime
from datetime import timedelta

import numpy as np
import pandas as pd
import geopandas as gpd

import hvplot.xarray
import dask.distributed

import matplotlib.pyplot as plt
import cartopy.crs as ccrs
import shapely

from pystac_client import Client as pystac_client
from odc.stac import stac_load

import os
import xrlint.all as xrl
from xcube.core.verify import assert_cube
</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="oCQ-l5xtAECfzE6NqTNxi" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="lDX9I9KPp8" class="myst-jp-nb-block relative group/block"><h2 id="create-and-startup-your-dask-cluster" class="relative group"><span class="heading-text">Create and startup your Dask Cluster</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#create-and-startup-your-dask-cluster" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Create dask cluster as described in the <a class="" data-state="closed" href="/tutorials/dask101">dask 101 guide</a>.</p></div><div id="sfzFRKZGOL" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">from dask_gateway import Gateway
gateway = Gateway()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="DGZdbvVBlij6Nu5NcQAPs" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="BA9wiBLhmv" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">cluster_options = gateway.cluster_options()
cluster_options.profile = &#x27;medium&#x27;
cluster_options</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="4g5RpOyZ2mF1Vt6Riw_Up" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="EzK7EUjO21" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">cluster = gateway.new_cluster(cluster_options=cluster_options)
cluster.scale(2)
cluster</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="dFT6Y2IBYAez-3E4Bcpt6" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="bgwuniyTYo" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">client = cluster.get_client()
client</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="GG81ptYM6qA2GruHmBkTV" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="wJrS0x59Bx" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># or create a local dask cluster on a local machine.

# from dask.distributed import Client
# client = Client()   
# client
# # client.close()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="nN69HbRMpGbVjetZRuWj0" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="mbnvTnyy0r" class="myst-jp-nb-block relative group/block"><h2 id="load-the-data" class="relative group"><span class="heading-text">Load the Data</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#load-the-data" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Lazy load in data in Xarray as described in the <a class="" href="/tutorials/xarray101">xarray 101 guide</a>. Note that the SeasFire data is +100GB and hosted remotely, we are just loading metadata, xarray will load only the chunks (dask data arrays) needed for our computations as discussed in the <a class="" data-state="closed" href="/tutorials/dask101">dask 101 guide</a>.</p><p>The SeasFire Cube contains various variables for forecasting seasonal fires across the globe, we will specifically be using it to access historical wildfire data:</p><p><em>The SeasFire Cube is a scientific datacube for seasonal fire forecasting around the globe. It has been created for the SeasFire project, that adresses ‘Earth System Deep Learning for Seasonal Fire Forecasting’ and is funded by the European Space Agency (ESA)  in the context of ESA Future EO-1 Science for Society Call. It contains almost 20 years of data (2001-2021) in an 8-days time resolution and 0.25 degrees grid resolution. It has a diverse range of seasonal fire drivers. It expands from atmospheric and climatological ones to vegetation variables, socioeconomic and the target variables related to wildfires such as burned areas, fire radiative power, and wildfire-related CO2 emissions.</em></p></div><div id="UMKDWnP4WO" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">http_url = &quot;https://s3.waw4-1.cloudferro.com/EarthCODE/OSCAssets/seasfire/seasfire_v0.4.zarr/&quot;

ds = xarray.open_dataset(
	http_url,
	engine=&#x27;zarr&#x27;,
    chunks={},
	consolidated=True
	# storage_options = {&#x27;token&#x27;: &#x27;anon&#x27;}
)
ds</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="49NKku-vwuXe2V6yj1Rzt" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="gqvnd82aNv" class="myst-jp-nb-block relative group/block"><h2 id="analyse-wildfires" class="relative group"><span class="heading-text">Analyse Wildfires</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#analyse-wildfires" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Our first task will be to find the date of the largest burnt area over the region we were previously exploring, so that we may analyse it in detail.</p><p>One of the data variables from the SeasFire DataCube is the Burned Areas data from Global Wildfire Information System (GWIS). Each entry gives us the hectares (ha) of burnt area in that region. Note that our input resolution is 0.25 degrees (approx. 28x28 km per pixel), spanning 20 years (2001-2021) at an 8 days time resolution.</p><p>First we lazy load just the GWIS dataset in a variable for convenience (note that again, this does not take up a large amount of memory since we’re just working with the metadata at this point)</p></div><div id="iVJBQjvUj3" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">gwis = ds.gwis_ba
gwis</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="OLpcQi6XCy4XsB8YNIJT-" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="ZUq8lSYY2j" class="myst-jp-nb-block relative group/block"><h2 id="spatial-and-temporal-subsetting" class="relative group"><span class="heading-text">Spatial and Temporal Subsetting</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#spatial-and-temporal-subsetting" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>It’s best practice to subset only the relevant data before doing computations, to reduce needed computations and data downloads. Especialyl when working with larger datasets. We will select an area of interest (aoi) as below using the polygon we previously downloaded from the xcube viewer.</p></div><div id="nNlVvqONZq" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Spatial Slices
epsg = 4326 # our data&#x27;s projection

gdf = gpd.read_file(&quot;../aoi/feature.geojson&quot;)
gdf = gdf.set_crs(epsg=epsg)
gdf.explore()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="lGALUewXIeojws3JdmA_P" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="tOq8rN2iQ6" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">

min_lon, min_lat, max_lon, max_lat = gdf.total_bounds

# find the nearest points on our grid
lat_start = gwis.latitude.sel(latitude=max_lat, method=&quot;nearest&quot;).item()
lat_stop  = gwis.latitude.sel(latitude=min_lat, method=&quot;nearest&quot;).item()
lon_start = gwis.longitude.sel(longitude=min_lon, method=&quot;nearest&quot;).item()
lon_stop  = gwis.longitude.sel(longitude=max_lon, method=&quot;nearest&quot;).item()

lat_slice = slice(lat_start, lat_stop)
lon_slice = slice(lon_start, lon_stop)

lon_start, lat_start, lon_stop, lat_stop</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="WiwJk6NOM_XUgOG3b5Bih" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div class="myst-jp-safe-output-text font-mono text-sm whitespace-pre-wrap"><code><span>(-8.125, 41.875, -7.875, 41.625)</span></code></div></div></div><div id="BbrIjERpaM" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">bbox=[lon_stop , lat_stop , lon_start, lat_start]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="RyagR3uGApwJWzh-AgWjU" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="LCLDwSNQ3A" class="myst-jp-nb-block relative group/block"><p>We additionally will subest our data temporally to fetch only more recent periods from 2018 - 2021.</p></div><div id="eirj2TT31a" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">time_slice = slice(&#x27;2018-01-01&#x27;,&#x27;2021-01-01&#x27;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="hD6ihIE8uJVCdmlOYBUK_" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="nCRV4MBdwq" class="myst-jp-nb-block relative group/block"><p>We now simply subset the data using the slices we created. Note how the data of our computation has reduced significantly</p></div><div id="KpDGHfztHs" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># spatio temporal subset
gwis_aoi = gwis.sel(time=time_slice, latitude=lat_slice,longitude=lon_slice)
gwis_aoi</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="CMUFFuowcdzDY4QP-nySX" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="Vo8GzaLY23" class="myst-jp-nb-block relative group/block"><h2 id="finding-the-date-with-the-most-burnt-area" class="relative group"><span class="heading-text">Finding the date with the most burnt area</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#finding-the-date-with-the-most-burnt-area" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>To find the date with the most burnt area we first do a spatial sum over our data for each period; this will return an dataarray with the total amount of ha of burnt area for each day. We will then fetch the date with the max burned area using idmax.</p><p><em>Note idmax is equivalent to doing ds.sel(time=ds.argmax.item(dim=‘time’)) where argmax returns the index of the max item</em></p></div><div id="Hciwb2eM6U" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># date where the sum of burnt area is the highest
date_max_fire = gwis_aoi.sum(dim={&#x27;latitude&#x27;,&#x27;longitude&#x27;}).idxmax(dim=&#x27;time&#x27;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="Twr-rg6iiFLLLJYVHNs-r" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="HNHKOwUPtW" class="myst-jp-nb-block relative group/block"><p>By subsetting only to the relevant data, we have reduced our dataset from 3.7 GB to a very small managable chunk of relevant data. Note that up to this point, we have not downloaded any data or done any computations over it. We (via the Dask Client) have just built up in the background the dask task graph.</p></div><div id="VK7EHe5xPj" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">date_max_fire.data.visualize(optimize_graph=True)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="bQ_WmVB382qe0qTkqqHSt" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><img src="/tutorials/build/5067e55b8d0c0cb3d85ac04268ad050a.png" alt="&lt;IPython.core.display.Image object&gt;"/></div></div><div id="fxucFyxI22" class="myst-jp-nb-block relative group/block"><h3 id="lets-start-computing" class="relative group"><span class="heading-text">Let’s start computing!</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#lets-start-computing" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Let’s get our date by forcing dask to execute the above task graph using .compute()</p></div><div id="ixk6081AwG" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">date_max_fire = date_max_fire.compute()
date_max_fire</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="sI5TZ1obvzxI5VeCGuBAZ" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="oMKEoOUDn4" class="myst-jp-nb-block relative group/block"><h2 id="exploring-the-data" class="relative group"><span class="heading-text">Exploring the Data</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#exploring-the-data" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Great, we’ve found the date with the most burnt areas, now let’s explore the data</p></div><div id="NJw4EIUGOu" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">biggest_fire_aoi = gwis_aoi.sel(time=date_max_fire)
biggest_fire_aoi</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="NX12ZyKDpg8pyznO1cX1K" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="L6R4eL5gE5" class="myst-jp-nb-block relative group/block"><p>Plot the forest fire areas to get an idea about our data</p></div><div id="yJEdHbTk6Y" class="myst-jp-nb-block relative group/block"><p>Let’s plot our data to explore it a bit further</p></div><div id="zIqCITxvew" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">biggest_fire_aoi.plot()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="ThHACoZfUZKPNzJm3o5U6" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><img src="/tutorials/build/28e7d315ec17a583a470191282e65c1c.png" alt="&lt;Figure size 640x480 with 2 Axes&gt;"/></div></div><div id="Kgq22l0KTc" class="myst-jp-nb-block relative group/block"><p>The image above does not really give us a detailed view of which areas have been burned and to what degree, as the resolution of each pixel is approx 28km. To get some more context of our data we can plot it on a base map.</p><p>In the Pangeo stack there are visualization tools that can help us easily plot data in a more interactive way, with a simple interface - such as hvplot.</p></div><div id="iq1s5UJLcF" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Plot it interactively, with some context
biggest_fire_aoi.hvplot(
    x=&#x27;longitude&#x27;,
    y=&#x27;latitude&#x27;,
    cmap=&#x27;viridis&#x27;,
    colorbar=True,
    frame_width=600,
    frame_height=400,
    geo=True,
    tiles=&#x27;OSM&#x27;,
    alpha=0.5
)
</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="XpW-Sk9gTTjb0zKiQTGX_" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="qI9jydpzFa" class="myst-jp-nb-block relative group/block"><h2 id="analysing-in-detail" class="relative group"><span class="heading-text">Analysing in Detail</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#analysing-in-detail" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Now that we have an idea of a potential wildfire event, we can explore in a bit more detail to see what areas where affected most.</p><p>We will use higher resolution sentinel-2-l2a data to compute the Normalised Burn Ratio (NBR) index to highlight burned areas. The NBR index uses near-infrared (NIR) and shortwave-infrared (SWIR) wavelengths. We will use a STAC API <a target="_blank" rel="noreferrer" href="https://element84.com/earth-search/" class="">element84’s STAC API</a> endpoint to search for the data and load only the relevant, cloud-free data.</p><p>To estimate the amount of burnt area we will compute the difference between the NBR from period before the fire date and the NBR from the period after. The first step is to select the week before and the week after the wildfire</p></div><div id="EAYUYpFKkH" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">fire_date_t = pd.to_datetime(date_max_fire.values.item()) # get the date of the forest fire and a the dates before and after it
week_before = (fire_date_t - timedelta(days=7))
week_after = (fire_date_t + timedelta(days=7))</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="vqHr-p63yDj2ZYuA0Gx_c" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="hs0l1vkcvQ" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">print(week_before.date(), &quot;---&quot; , week_after.date())</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="jeANDbnuy8nrefnhYSbt8" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2020-09-06 --- 2020-09-20
</span></code></pre></div></div></div><div id="hArIfqF4N1" class="myst-jp-nb-block relative group/block"><h3 id="fetching-the-data" class="relative group"><span class="heading-text">Fetching the data</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#fetching-the-data" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>We will now fetch the data using pystac to search through the <a target="_blank" rel="noreferrer" href="http://earth-search.aws.element84.com/v1" class="">earth<wbr/>-search<wbr/>.aws<wbr/>.element84<wbr/>.com<wbr/>/v1</a> STAC API endpoint. As mentioned in the <a class="" data-state="closed" href="/tutorials/stac-and-data-access">STAC and Data Access guide</a>, the STAC API provides us with endpoints to query STAC collections.</p><p>There is an ecosystem of libraries that implement STAC standards (pystac, odc-stac, stackstac, etc..) that allow us to analyse, load and use data described in STAC. We will briefly explore in the following cells below.</p><p>As a first step, we will open a catalog with the pystac library: <a target="_blank" rel="noreferrer" href="https://earth-search.aws.element84.com/v1" class="">https://<wbr/>earth<wbr/>-search<wbr/>.aws<wbr/>.element84<wbr/>.com<wbr/>/v1</a> This catalog contains STAC collections of various datasets (such as sentinel-1 and sentinel-2 data) in cloud optimised formats (COGs in this case) - see <a target="_blank" rel="noreferrer" href="https://earth-search.aws.element84.com" class="">https://<wbr/>earth<wbr/>-search<wbr/>.aws<wbr/>.element84<wbr/>.com</a>. for more details. With these formats we are able to use the assets using cloud-native access patterns (see <a target="_blank" rel="noreferrer" href="https://guide.cloudnativegeo.org/cookbooks/" class="">https://<wbr/>guide<wbr/>.cloudnativegeo<wbr/>.org<wbr/>/cookbooks/</a> for more details).</p><p>Note that a STAC endpoint like the one below, only returns STAC items and not the actual data. The STAC items returned have Assets defined which link to the actual data (and provide metadata).</p></div><div id="Gbx4IvsGFk" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">catalog = pystac_client.open(&quot;https://earth-search.aws.element84.com/v1&quot;)
chunk={} # &lt;-- use dask
res=10 # 10m resolution</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="oXIf0uZKc-KZz2oTzvFLE" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="IRdz3Nw6gU" class="myst-jp-nb-block relative group/block"><p>In the next step we will do two things:</p><p><strong>1.</strong> Search for multiple cloudless sentinel-2 satellite images within a month of our pre-fire (week_before) date. The STAC API allows us to do a couple of things in a simple API call:</p><ul><li><p>We can define an arrea of interest (bbox) and search for items that cover this region</p></li><li><p>We can subset for the time of interest as well (datetime)</p></li><li><p>We can define custom querries over implemented STAC extensions. For example, the Sentinel STAC collection we are querrying implements the eo STAC extension, and defines cloud_cover - this allows us to search for quality assets with minimal cloudy pixels</p></li></ul><p>This will return the relevant STAC items - which contain assets that point to our data of interest. We now need to load this data into a dataarray to start analysing it.</p><p><strong>2.</strong> Note that in the above step, we only have items that point to some data - this data can be tiff, zarr, netcdf, COG, or other SpatioTemporal asset data. In our case, the element84 endpoint points to the data collection of  <em><a target="_blank" rel="noreferrer" href="https://registry.opendata.aws/sentinel-2-l2a-cogs/" class="">https://<wbr/>registry<wbr/>.opendata<wbr/>.aws<wbr/>/sentinel<wbr/>-2<wbr/>-l2a<wbr/>-cogs/</a></em> - the format of our data is cloud-optimized GeoTiff. A cloud-friendly format such as this enables us cloud-native access patterns, such as easily fetching only our area of interest (as opposed to several tiff files and manually subsetting them after downloading).</p><p>Libraries such as odc-stac integrate with STAC standards and allow us to load data as well as leveraging the cloud-optimised formats. For example, in the cell below we define how we want to transform/load our data by:</p><ul><li><p>Passing the STAC item (or multiple items) we want to load</p></li><li><p>defining a particular chunk size (the passed {} asks for the data to be automatically chunked as it is originally);</p></li><li><p>We can request only the spectral bands of interest, in this case nir and swir22, to reduce the amount of data that we fetch.</p></li><li><p>We can define a resolution to retrieve the data at, note that this will also resample automatically. For example the nir band data has a 10m resolution, but the swir22 - 20m resolution.</p></li><li><p>There are multiple other options as well, such as defining in which projection we want our data in. More information can be found at: <a target="_blank" rel="noreferrer" href="https://odc-stac.readthedocs.io/en/latest/_api/odc.stac.load.html" class="">https://<wbr/>odc<wbr/>-stac<wbr/>.readthedocs<wbr/>.io<wbr/>/en<wbr/>/latest<wbr/>/<wbr/>_api<wbr/>/odc<wbr/>.stac<wbr/>.load<wbr/>.html</a></p></li></ul></div><div id="ZKyywScXvp" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># STAC search for relevant items
week_before_start = (week_before - timedelta(days=30))
time_range_start = str(week_before_start.date()) + &quot;/&quot; + str(week_before.date())

query1 = catalog.search(
    collections=[&quot;sentinel-2-l2a&quot;], datetime=time_range_start, limit=100,
    bbox=bbox, query={&quot;eo:cloud_cover&quot;: {&quot;lt&quot;: 20}}
)

items = list(query1.items())
print(f&quot;Found: {len(items):d} datasets&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="VtUSLEc66zm_f5fWW4MEK" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>Found: 13 datasets
</span></code></pre></div></div></div><div id="pTils8Snke" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># plot all the STAC assets
poly_pre = gpd.GeoSeries([shapely.Polygon(item.geometry[&#x27;coordinates&#x27;][0]) for item in items], name=&#x27;geometry&#x27;, crs=&#x27;epsg:4236&#x27;)
poly_pre.explore()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="Y1adUnpqOw58swlTj1s8e" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="sp7o8MygxX" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">prefire_ds = stac_load(
    items,
    bands=(&quot;nir&quot;, &quot;swir22&quot;),
    chunks=chunk,  # &lt;-- use Dask
    resolution=res,
    crs=&quot;EPSG:32629&quot;,
    groupby=&quot;datetime&quot;,
    bbox=bbox,
)
prefire_ds = prefire_ds.mean(dim=&quot;time&quot;)
prefire_ds</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="r81sQqEW9vdMssVftCJon" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="YAEdnRZJ3J" class="myst-jp-nb-block relative group/block"><p>We now do the same for the month after..</p></div><div id="HAzj46TYat" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">week_after_end = (week_after + timedelta(days=30))
time_range_end = str(week_after.date()) + &quot;/&quot; + str(week_after_end.date())

query2 = catalog.search(
    collections=[&quot;sentinel-2-l2a&quot;], datetime=time_range_end, limit=100,
    bbox=bbox, query={&quot;eo:cloud_cover&quot;: {&quot;lt&quot;: 20}}
)

items = list(query2.items())
print(f&quot;Found: {len(items):d} datasets&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="rMBEWExX9R4ss1DHorRjF" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>Found: 8 datasets
</span></code></pre></div></div></div><div id="XOCAmP4Uxs" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">poly_post = gpd.GeoSeries([shapely.Polygon(item.geometry[&#x27;coordinates&#x27;][0]) for item in items], name=&#x27;geometry&#x27;, crs=&#x27;epsg:4236&#x27;)
poly_post.explore()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="Uw_QPioq44d_t3Co0cElF" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="mJWjq3Y77w" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">postfire_ds = stac_load(
    items,
    bands=(&quot;nir&quot;, &quot;swir22&quot;),
    chunks=chunk,  # &lt;-- use Dask
    resolution=res,
    crs=&quot;EPSG:32629&quot;,
    groupby=&quot;datetime&quot;,
    bbox=bbox,
)
postfire_ds = postfire_ds.mean(dim=&quot;time&quot;)
postfire_ds</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="jIXddVqtF7BLwWiO57z-i" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="RWv04S5t9j" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">max_poly_pre = poly_pre[[poly_pre.to_crs(epsg=3035).area.argmax()]]
max_poly_post = poly_post[[poly_post.to_crs(epsg=3035).area.argmax()]]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="Xzzc1jrPbzL89ThkCNWd5" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="p33wSTOj3i" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># note we&#x27;re reprojecting to calculate area, as Geometry is in a geographic CRS. Results from &#x27;area&#x27; are incorrect since geopandas doesn&#x27;t calc spherical geometry!
poly_pre.area</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="ECSsV3pA2lDclcHb0Quqw" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>/tmp/ipykernel_124/4246389161.py:2: UserWarning: Geometry is in a geographic CRS. Results from &#x27;area&#x27; are likely incorrect. Use &#x27;GeoSeries.to_crs()&#x27; to re-project geometries to a projected CRS before this operation.

  poly_pre.area
</span></code></pre></div><div class="myst-jp-safe-output-text font-mono text-sm whitespace-pre-wrap"><code><span>0     1.270576
1     1.271427
2     1.137933
3     1.142630
4     1.264818
5     1.268189
6     1.134230
7     1.134522
8     1.139294
9     1.143787
10    1.267352
11    1.268840
12    1.269646
dtype: float64</span></code></div></div></div><div id="uTUTGkvJr2" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">m = max_poly_pre.explore( )
m = max_poly_post.explore(m=m, color=&#x27;r&#x27;)
m</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="NU1ZdGUICErgnxv2asVEZ" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="M9QUzKRpFY" class="myst-jp-nb-block relative group/block"><blockquote><p><strong>Note:</strong> The above STAC API query might return assets that intersect the region but do not fully cover it. I.e. if we fetched only one asset for each period with the above query they could potentially point to different regions (as there would be data missing). Although not relevant in this example, as all assets from both pre and after overlap, this will be a problem if not checked (as you’d be analysing different regions). In this example we visually inspect the overlap between assets and further take the mean of all the assets to get better quality pixels across time. Rerun the same example with cloud_cover = 0.2 to see where you might get some problem code!</p></blockquote></div><div id="Wak5kFQhN0" class="myst-jp-nb-block relative group/block"><h2 id="calculating-the-nbr-index" class="relative group"><span class="heading-text">Calculating the NBR index</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#calculating-the-nbr-index" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>In the next step we will calculate our index, using simple band math as explained in the <a class="" href="/tutorials/xarray101">xarray 101 guide</a>. We first define a function that calculates our index given a dataset with nir/swir22 band data and then add the additional variable to our pre-fire/post-fire datasets</p></div><div id="r8LA6rhGME" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">index_name = &#x27;NBR&#x27;

# Normalised Burn Ratio, Lopez Garcia 1991
def calc_nbr(ds):
    return (ds.nir - ds.swir22) / (ds.nir + ds.swir22)

index_dict = {&#x27;NBR&#x27;: calc_nbr}
index_dict</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="lBPFoZbwNri4QuYbKSguM" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div class="myst-jp-safe-output-text font-mono text-sm whitespace-pre-wrap"><code><span>{&#x27;NBR&#x27;: &lt;function __main__.calc_nbr(ds)&gt;}</span></code></div></div></div><div id="m2IIRDC6oe" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># prefire - calls the calc_nbr function with our dataset as input to create a new NBR index (dict) and assigns it as the NBR index 
# note that we have to apply scaling (1000) and offset (0) to our band data - as defined in the dataset collection
prefire_ds[index_name] = index_dict[index_name](prefire_ds / 10000.0) 

# postfire - calls the calc_nbr function with our dataset as input to create a new NBR index (dict) and assigns it as the NBR index 
# note that we have to apply scaling (1000) and offset (0) to our band data - as defined in the dataset collection
postfire_ds[index_name] = index_dict[index_name](postfire_ds / 10000.0)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="5d0klooLspR8OljUG5_ux" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="NjPPTKaaGI" class="myst-jp-nb-block relative group/block"><p>Now that we have the indecies calculated we can calculate the difference in burnt area between the two periods to analyse which regions have been burnt.</p><p>Note that at this point we haven’t actually loaded the data or done the calculations, we’ve just defined a task graph for dask to execute. When we call persist() the graph up to that point will be executed and the data saved for in the distributed memory of our workers. We do this at this stage to avoid fetching the data multiple times in future computations.</p><p>We then save our result (which is a dataarray) in a new dataset: dnbr_dataset.</p></div><div id="o12N0sVWXs" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># calculate delta NBR
prefire_burnratio = prefire_ds.NBR.persist() # &lt;--- load and keep data into your workers
postfire_burnratio = postfire_ds.NBR.persist() # &lt;--- load and keep data into your workers

delta_NBR = prefire_burnratio - postfire_burnratio

dnbr_dataset = delta_NBR.to_dataset(name=&#x27;delta_NBR&#x27;).persist()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="_5-RdQKMl7cQNOWWrSY7G" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="Q1gqR0ajDX" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">dnbr_dataset
delta_NBR</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="TAp3rOaKU80hxrkIWzraa" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="OVeFZTJUmz" class="myst-jp-nb-block relative group/block"><h2 id="plotting-and-visualization" class="relative group"><span class="heading-text">Plotting and visualization</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#plotting-and-visualization" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>We will now plot our data from before, after and the delta of our wildfire event to further analyse. Note that, this will trigger the execution of our dask task graph. The Pangeo stack offers many tools for visualization! In the example below we will showcase plotting with Cartopy</p></div><div id="yIkYkml3gS" class="myst-jp-nb-block relative group/block"><h3 id="plotting-before" class="relative group"><span class="heading-text">Plotting Before</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#plotting-before" title="Link to this Section" aria-label="Link to this Section">¶</a></h3></div><div id="blLZWMjBCG" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">fig = plt.figure(1, figsize=[7, 10])

# We&#x27;re using cartopy and are plotting in PlateCarree projection 
# (see documentation on cartopy)
ax = plt.subplot(1, 1, 1, projection=ccrs.PlateCarree())
ax.coastlines(resolution=&#x27;10m&#x27;)
ax.gridlines(draw_labels=True)

# We need to project our data to the new Orthographic projection and for this we use `transform`.
# we set the original data projection in transform (here Mercator)
prefire_burnratio.plot(ax=ax, transform=ccrs.epsg(prefire_burnratio.spatial_ref.values), cmap=&#x27;RdBu_r&#x27;,
                       cbar_kwargs={&#x27;orientation&#x27;:&#x27;horizontal&#x27;,&#x27;shrink&#x27;:0.95})

# One way to customize your title
plt.title(&quot;Pre-Fire: &quot; + time_range_start, fontsize=18)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="OpIkW70kJFrgcAUARdCKr" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><img src="/tutorials/build/7be30b4d4e73df3c30aa947c787be71c.png" alt="&lt;Figure size 700x1000 with 2 Axes&gt;"/></div></div><div id="oSkZWS3aaD" class="myst-jp-nb-block relative group/block"><h3 id="plotting-after" class="relative group"><span class="heading-text">Plotting After</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#plotting-after" title="Link to this Section" aria-label="Link to this Section">¶</a></h3></div><div id="UmSlk7Q87Q" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">fig = plt.figure(1, figsize=[7, 9])

# We&#x27;re using cartopy and are plotting in PlateCarree projection 
# (see documentation on cartopy)
ax = plt.subplot(1, 1, 1, projection=ccrs.PlateCarree())
ax.coastlines(resolution=&#x27;10m&#x27;)
ax.gridlines(draw_labels=True)

# We need to project our data to the new Orthographic projection and for this we use `transform`.
# we set the original data projection in transform (here Mercator)
postfire_burnratio.plot(ax=ax, transform=ccrs.epsg(postfire_burnratio.spatial_ref.values), cmap=&#x27;RdBu_r&#x27;,
                        cbar_kwargs={&#x27;orientation&#x27;:&#x27;horizontal&#x27;,&#x27;shrink&#x27;:0.95})

# One way to customize your title
plt.title(&quot;Post-Fire: &quot; + time_range_end, fontsize=18)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="kgApgnkZoZyLEAlXbIPVW" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><img src="/tutorials/build/53f6593692fa13250ccdbfa9408e7ea7.png" alt="&lt;Figure size 700x900 with 2 Axes&gt;"/></div></div><div id="qDRT2UfRwQ" class="myst-jp-nb-block relative group/block"><h3 id="plotting-delta" class="relative group"><span class="heading-text">Plotting Delta</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#plotting-delta" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>The plot below highligths the burnt regions</p></div><div id="m9WUadBBIW" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">fig = plt.figure(1, figsize=[7, 10])

# We&#x27;re using cartopy and are plotting in PlateCarree projection 
# (see documentation on cartopy)
ax = plt.subplot(1, 1, 1, projection=ccrs.PlateCarree())
ax.coastlines(resolution=&#x27;10m&#x27;)
ax.gridlines(draw_labels=True)

# We need to project our data to the new Orthographic projection and for this we use `transform`.
# we set the original data projection in transform (here Mercator)
dnbr_dataset.delta_NBR.plot(ax=ax, transform=ccrs.epsg(dnbr_dataset.delta_NBR.spatial_ref.values), cmap=&#x27;RdBu_r&#x27;,
                            cbar_kwargs={&#x27;orientation&#x27;:&#x27;horizontal&#x27;,&#x27;shrink&#x27;:0.95})

# One way to customize your title
plt.title( &quot;Delta NBR&quot;, fontsize=18)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="K719W_0WW6CKMvo2CJVmV" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><img src="/tutorials/build/d2632a904bbe679e2b1a95ff65cedb2f.png" alt="&lt;Figure size 700x1000 with 2 Axes&gt;"/></div></div><div id="go8ENTuQKj" class="myst-jp-nb-block relative group/block"><h2 id="analysing-burnt-areas" class="relative group"><span class="heading-text">Analysing Burnt Areas</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#analysing-burnt-areas" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Great, now that we’ve calculated the delta NBR (dNBR), we can estimate the amount of area that was burned. First we need to classify which pixels are actually burned and then calculate the area that was burned.</p><p>To classify burned area we can use the dNBR reference ratio ratios described in: <a target="_blank" rel="noreferrer" href="https://un-spider.org/advisory-support/recommended-practices/recommended-practice-burn-severity/in-detail/normalized-burn-ratio" class="">https://<wbr/>un<wbr/>-spider<wbr/>.org<wbr/>/advisory<wbr/>-support<wbr/>/recommended<wbr/>-practices<wbr/>/recommended<wbr/>-practice<wbr/>-burn<wbr/>-severity<wbr/>/in<wbr/>-detail<wbr/>/normalized<wbr/>-burn<wbr/>-ratio</a> - and estimate the low to severe burnt areas. <strong>i.e. the areas with a dNBR of above 0.270</strong></p><img id="ROMUVste7S" style="margin:0 auto" src="/tutorials/build/2abbd18d64e70642d7c0e83666723e68.png" alt="img" data-canonical-url="https://un-spider.org/sites/default/files/table+legend.PNG" class=""/></div><div id="pztwuecwoo" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">BURN_THRESH = 0.270
burn_mask = dnbr_dataset.delta_NBR &gt; BURN_THRESH           # True/False mask, same shape as raster
burn_mask.plot()

# save the burn_mask to our dataset
dnbr_dataset[&#x27;burned_ha_mask&#x27;] = burn_mask</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="Joecl9By0V6Gsbd9PRImJ" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><img src="/tutorials/build/05e486b3a121a09ae774eedfbb4b2d3a.png" alt="&lt;Figure size 640x480 with 2 Axes&gt;"/></div></div><div id="PwfuA8Ke89" class="myst-jp-nb-block relative group/block"><h2 id="simple-validation" class="relative group"><span class="heading-text">Simple Validation</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#simple-validation" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Now with the above a data mask where all pixels classified as burnt are 1 and the non burnt ones are 0. To calculate burnt area, we simply sum all pixels and multiply them by the area which a pixel covers (i.e. the resolution, which in our case is 10m/p).</p><p>At the same step we will convert our metric to hectares (ha) so that we can compare and validate our findings against the original GWIS data.</p><p><em>Note that in an actual study, the ground truth data and validation would involve field studies and more precise validation, but we simplify the example for the training.</em></p></div><div id="N10HzFtQDg" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"></code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="jbB6Dj7_KYw1HlFEF0Prq" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="jwNcecgdjL" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">dx, dy = dnbr_dataset.delta_NBR.rio.resolution()
pixel_area_ha = abs(dx * dy) / 1e4       # 10m × 10m = 0.01 ha

pixels_burned   = burn_mask.sum().compute().item()   # integer number of burned pixels
burned_area_ha  = pixels_burned * pixel_area_ha

print(f&quot;Burned area   : {burned_area_ha:,.2f} ha&quot;)
print(f&quot;Actual Burned Area : {biggest_fire_aoi.sum().compute():,.2f}, ha&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="81Y5Vomia6VS_z-IkqqZp" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>Burned area   : 2,373.14 ha
Actual Burned Area : 2,214.27, ha
</span></code></pre></div></div></div><div id="aHDMZbDMji" class="myst-jp-nb-block relative group/block"><p>There’s only a difference of about 100 ha, which, given our simple analysis, is actually quite accurate!</p><p><em>note this is based on the geojson feature in the github repo</em> with the following result:</p><ul><li><p>Burned area   : 2,373.14 ha</p></li><li><p>Actual Burned Area : 2,214.27, ha</p></li></ul><h3 id="plotting-and-analysing-final-results" class="relative group"><span class="heading-text">Plotting and Analysing Final Results</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#plotting-and-analysing-final-results" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>We can visually inspect our plot to see if our data follows the same trends as our ground truth GWIS dataset.</p><p>To achieve this though, we need to reproject our data, since the sentinel-2 data we are using is in a different projection with a higher resolution (10m/pixel) and the SeasFire GWIS ground truth data has a resolution of 0.25 degrees (approx 28km x 28 km).</p><p>We will do this using the <em>rioxarray library</em>, which offers convenient methods such as reproject_match, which takes in as an argument a dataarray to which to match the original dataset. It essentially reprojects and matches the grid of a datarray to match the grid/projection of another and upsamples (or downsamples) the data to match resolutions, as well as subsetting the data to match.</p><p>Learn more about how it works at: <a target="_blank" rel="noreferrer" href="https://corteva.github.io/rioxarray/stable/examples/reproject_match.html" class="">https://<wbr/>corteva<wbr/>.github<wbr/>.io<wbr/>/rioxarray<wbr/>/stable<wbr/>/examples<wbr/>/reproject<wbr/>_match<wbr/>.html</a></p></div><div id="DQ1nf5SNJu" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># ensure that our dataarray has metadata about its projection - this is used by rioxarray.
biggest_fire_aoi = biggest_fire_aoi.rio.write_crs(ds.rio.crs)

biggest_fire_aoi_reprojected = biggest_fire_aoi.rio.reproject_match(dnbr_dataset.burned_ha_mask)


burned_ha_mask_plot = dnbr_dataset.burned_ha_mask.hvplot(
    width=700,
    height=700,
    title=&#x27;dNBR (10 m) with GWIS overlay&#x27;,
    alpha=1.0
)

# Plot the reprojected coarse dataset as transparent overlay
gwis_plot = biggest_fire_aoi_reprojected.hvplot(
    cmap=&#x27;Reds&#x27;,
    alpha=0.3,
    clim=(0, biggest_fire_aoi.max().compute().item())
)

# Combine them interactively
combined_plot = burned_ha_mask_plot * gwis_plot

combined_plot
</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="l8qPI2E12cTAgo3oxgFit" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="UTeAs2uP4I" class="myst-jp-nb-block relative group/block"><p>Great! Our plot generally follows the same trends as our burn analysis, the north-eastern and north-eastern regions seemed to be mainly burnt with two separately affected regions.</p><p>Our plot and values are quite a bit off though if you try to sum them - why is that?</p><p><strong>Homework: Fix it and add it as a variable!</strong></p><p><em>hint: ha</em></p></div><div id="EtGg6e5WWn" class="myst-jp-nb-block relative group/block"><h2 id="saving-your-work" class="relative group"><span class="heading-text">Saving Your Work</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#saving-your-work" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Now let’s save our work! For intraoperability, we will save our data as a valid data cube in Zarr.</p><p>Keep in mind that EarthCODE provides different tooling that makes it easy to publish our data to the wider EO community on the EarthCODE Open Science Catalog (such as deep-code for publishing data cubes, we will see in the <a target="_blank" rel="noreferrer" href="https://esa-earthcode.github.io/tutorials/" class=""><strong>publishing guide</strong></a>) by following common standards and using common file formats we ensure that there will be a tool to help us!</p><h3 id="linting" class="relative group"><span class="heading-text">Linting</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#linting" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>There are also tools to ensure the quality of our data/metadata. Two very useful tools are <code>xrlint</code> which check our datarray against common expected standards and advise corrections (such as missing attributes which should be filled in). It’s basically a linter for xarray - xarray + linter.</p></div><div id="bp36lY60e3" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">linter = xrl.new_linter(&quot;recommended&quot;)
linter.validate(dnbr_dataset)
</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="bYFLL9V3Hl0MhTAwSVxPp" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="LIsp6ZY4Ln" class="myst-jp-nb-block relative group/block"><h4 id="add-metadata-descriptions-to-our-data" class="relative group"><span class="heading-text">Add metadata descriptions to our data</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#add-metadata-descriptions-to-our-data" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>As we see, there is quite a few attributes missing from our data cube. As a best practices, it’s recommended to have it very well described, to ensure FAIR-ness and, specifically, intraoperability.</p></div><div id="M3adBgl1WX" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Assign dataset-level attributes
dnbr_dataset.attrs.update({
    &#x27;title&#x27;: &#x27;Delta NBR and Burned Area Mask Dataset&#x27;,
    &#x27;history&#x27;: &#x27;Created by reprojecting and aligning datasets for fire severity analysis&#x27;,
    &#x27;Conventions&#x27;: &#x27;CF-1.7&#x27;
})


# Assign variable-level attributes for delta_NBR
dnbr_dataset.delta_NBR.attrs.update({
    &#x27;institution&#x27;: &#x27;Lampata&#x27;,
    &#x27;source&#x27;: &#x27;Sentinel-2 imagery; processed with open-source dNBR code, element84...&#x27;,
    &#x27;references&#x27;: &#x27;https://registry.opendata.aws/sentinel-2-l2a-cogs/&#x27;,
    &#x27;comment&#x27;: &#x27;dNBR values represent change in vegetation severity post-fire&#x27;,
    &#x27;standard_name&#x27;: &#x27;difference_normalized_burn_ratio&#x27;,
    &#x27;long_name&#x27;: &#x27;Differenced Normalized Burn Ratio (dNBR)&#x27;,
    &#x27;units&#x27;: &#x27;m&#x27;
})

# Example for burned_ha_mask data variable
dnbr_dataset.burned_ha_mask.attrs.update({
    &#x27;standard_name&#x27;: &#x27;burned_area_mask&#x27;,
    &#x27;long_name&#x27;: &#x27;Burned Area Mask in Hectares&#x27;,
    &#x27;units&#x27;: &#x27;hectares&#x27;,
    &#x27;institution&#x27;: &#x27;Your Institution Name&#x27;,
    &#x27;source&#x27;: &#x27;Derived from wildfire impact analysis&#x27;,
    &#x27;references&#x27;: &#x27;https://example.com/ref&#x27;,
    &#x27;comment&#x27;: &#x27;Burned area mask showing presence of burned areas&#x27;
})
</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="BrffzzsG_hoYO3kEEOjtv" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="zTGbqG06bH" class="myst-jp-nb-block relative group/block"><p>Great! Let’s re-run the linter and see if we’re missing anything.</p><h3 id="data-cube-validation" class="relative group"><span class="heading-text">Data Cube Validation</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#data-cube-validation" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Another useful tool is xcube’s assert cube method which validates our data cube (e.g. dimensions, chunks, grids between dataarray’s match and other checks - see more information at <a target="_blank" rel="noreferrer" href="https://xcube.readthedocs.io/en/latest/cubespec.html#xcube-dataset-convention" class="">https://<wbr/>xcube<wbr/>.readthedocs<wbr/>.io<wbr/>/en<wbr/>/latest<wbr/>/cubespec<wbr/>.html<wbr/>#xcube<wbr/>-dataset<wbr/>-convention</a>). Making sure we validate our data before saving or sharing will ensure that our data can be exploited by different, common EO libraries.</p></div><div id="GbUhan5msW" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">assert_cube(dnbr_dataset)  # raises ValueError if it&#x27;s not xcube-valid</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="mM7LZIiMTcMMNTzWxhW0l" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="myst-jp-error-output text-sm font-thin font-system jupyter-error"><code><span style="color:rgb(187, 0, 0)">---------------------------------------------------------------------------</span><span>
</span><span style="color:rgb(187, 0, 0)">ValueError</span><span>                                Traceback (most recent call last)
Cell </span><span style="color:rgb(0, 187, 0)">In[44], line 1</span><span>
</span><span style="color:rgb(0, 187, 0)">----&gt; 1</span><span> </span><span style="background-color:rgb(187, 187, 0)">assert_cube</span><span style="background-color:rgb(187, 187, 0)">(</span><span style="background-color:rgb(187, 187, 0)">dnbr_dataset</span><span style="background-color:rgb(187, 187, 0)">)</span><span>  </span><span style="color:rgb(95, 135, 135);font-style:italic"># raises ValueError if it&#x27;s not xcube-valid</span><span>

File </span><span style="color:rgb(0, 187, 0)">/home/conda/edc-lps25/44910d9e-1749897073-16-edc_pangeo_env/lib/python3.13/site-packages/xcube/core/verify.py:29</span><span>, in </span><span style="color:rgb(0, 187, 187)">assert_cube</span><span style="color:rgb(0, 0, 187)">(dataset, name)</span><span>
</span><span style="color:rgb(0, 187, 0);font-weight:bold">     27</span><span>     message </span><span style="color:rgb(undefined, undefined, undefined)">+</span><span style="color:rgb(undefined, undefined, undefined)">=</span><span> </span><span style="color:rgb(175, 0, 0)">&quot;</span><span style="color:rgb(175, 0, 0)">is not a valid xcube dataset, because:</span><span style="color:rgb(175, 95, 0);font-weight:bold">\n</span><span style="color:rgb(175, 0, 0)">&quot;</span><span>
</span><span style="color:rgb(0, 187, 0);font-weight:bold">     28</span><span>     message </span><span style="color:rgb(undefined, undefined, undefined)">+</span><span style="color:rgb(undefined, undefined, undefined)">=</span><span> </span><span style="color:rgb(175, 0, 0)">&quot;</span><span style="color:rgb(175, 0, 0)">- </span><span style="color:rgb(175, 0, 0)">&quot;</span><span> </span><span style="color:rgb(undefined, undefined, undefined)">+</span><span> </span><span style="color:rgb(175, 0, 0)">&quot;</span><span style="color:rgb(175, 0, 0)">;</span><span style="color:rgb(175, 95, 0);font-weight:bold">\n</span><span style="color:rgb(175, 0, 0)">- </span><span style="color:rgb(175, 0, 0)">&quot;</span><span style="color:rgb(undefined, undefined, undefined)">.</span><span>join(report) </span><span style="color:rgb(undefined, undefined, undefined)">+</span><span> </span><span style="color:rgb(175, 0, 0)">&quot;</span><span style="color:rgb(175, 0, 0)">.</span><span style="color:rgb(175, 0, 0)">&quot;</span><span>
</span><span style="color:rgb(0, 187, 0)">---&gt; 29</span><span>     </span><span style="color:rgb(0, 135, 0);font-weight:bold">raise</span><span> </span><span style="color:rgb(215, 95, 95);font-weight:bold">ValueError</span><span>(message)
</span><span style="color:rgb(0, 187, 0);font-weight:bold">     31</span><span> </span><span style="color:rgb(0, 135, 0);font-weight:bold">return</span><span> dataset

</span><span style="color:rgb(187, 0, 0)">ValueError</span><span>: Dataset is not a valid xcube dataset, because:
- missing time coordinate variable.</span></code></pre></div></div></div><div id="vb7PrAiTIH" class="myst-jp-nb-block relative group/block"><p>It seems like our data is not actually valid, as we missed timestamping our data burnt area final dataset! There’s not really any information in the data to tell us when this wildfire event actually happened as well. Since deltaNBR highlights the burnt area after a fire, we will add the date of the postfire_ds to the dataset.</p><p>Simple checks like this help us avoid making simple mistakes, and catching/correcting these errors early on is  much easier than at a later stage.</p></div><div id="B2KGZ8PCT1" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">import numpy as np

timestamp = np.datetime64(items[-1].properties[&#x27;created&#x27;])</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="D57XlDuCZqh9j3blpwZsD" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>/tmp/ipykernel_637/786310608.py:3: UserWarning: no explicit representation of timezones available for np.datetime64
  timestamp = np.datetime64(items[-1].properties[&#x27;created&#x27;])
</span></code></pre></div></div></div><div id="HCtAFo5YeH" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># add time
dnbr_dataset = dnbr_dataset.expand_dims(time=[timestamp])</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="8EOxmYYxRyrz1viT0Fm9d" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="srbhSXEB2w" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">dnbr_dataset</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="vmvB-rMJGyVwhfotrrVyF" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="yVaPOevoDx" class="myst-jp-nb-block relative group/block"><h4 id="why-is-this-important" class="relative group"><span class="heading-text">Why is this important?</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#why-is-this-important" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>By ensuring your data follows common standards and FAIR principles, firstly and most importantly you enable make it usable by others and therefore increase its impact!</p><p>You also enable libraries that implement the common standards you follow to use your data. For example, for our dataset above, if we do not apply the corrections (for time specifically) any future applications using xcube won’t be able to open up our dataset. Applications or users trying to understand how we derived our data will not have information, and etc...</p><p>The tools and standards help us along on the way to FAIR-ness!</p></div><div id="D57yrRWh7M" class="myst-jp-nb-block relative group/block"><h3 id="saving-and-chunking" class="relative group"><span class="heading-text">Saving and Chunking</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#saving-and-chunking" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>To make our data easier to use for future users we will chunk it the recommended chunk sizes.</p></div><div id="oXzlTDZGm0" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">dnbr_dataset = dnbr_dataset.chunk({&quot;time&quot;: 1, &quot;y&quot;: 1000, &quot;x&quot;: 1000}).load()
print(type(dnbr_dataset.burned_ha_mask.data)) # check data format </code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="3iVqtt_FkAufMqqWv-1sD" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>&lt;class &#x27;numpy.ndarray&#x27;&gt;
</span></code></pre></div></div></div><div id="dRekHHu9EQ" class="myst-jp-nb-block relative group/block"><p>Finally we create our local zarr store with .to_zarr. This will save the dataset locally.</p><p><em>Note: You can easily store it on cloud storge such as s3 with some slight edits to the code below.</em></p></div><div id="aUfrRG28vp" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">save_at_folder = &#x27;../wildfires&#x27;
if not os.path.exists(save_at_folder):
    os.makedirs(save_at_folder)

# Define the output path within your notebook folder
output_path = os.path.join(save_at_folder, &quot;dnbr_dataset.zarr&quot;)

# save
dnbr_dataset.to_zarr(output_path, mode=&quot;w&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="s6fiD5AZTL_J0vUcIhKb2" class="myst-jp-output max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div class="myst-jp-safe-output-text font-mono text-sm whitespace-pre-wrap"><code><span>&lt;xarray.backends.zarr.ZarrStore at 0x7f28d0a7b640&gt;</span></code></div></div></div><div id="yORFHmL3HE" class="myst-jp-nb-block relative group/block"><h2 id="conclusion" class="relative group"><span class="heading-text">Conclusion</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#conclusion" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Congratulations! You’ve gotten to the end of this notebook. We explored a simple workflow with the <a target="_blank" rel="noreferrer" href="https://pangeo.io/" class="">Pangeo</a> open-source software stack, demonstrated how to fetch and access EarthCODE published data and publically available Sentinel-2 data to generate burn severity maps for the assessment of the areas affected by wildfires. Finally, we saved our work and learned about why FAIRness matters.</p><p>As next steps we recommend reading through the documentation pages of each of the libraries, and going through the example in your own time in more detail!</p><p>exploring the EarthCODE catalog</p></div><div id="I2QIvTs6AA" class="myst-jp-nb-block relative group/block"><h2 id="links-and-refernces" class="relative group"><span class="heading-text">Links and Refernces</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#links-and-refernces" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><ul><li><p><a target="_blank" rel="noreferrer" href="https://earthcode.esa.int/" class="">https://<wbr/>earthcode<wbr/>.esa<wbr/>.int/</a></p></li><li><p><a target="_blank" rel="noreferrer" href="https://opensciencedata.esa.int/" class="">https://<wbr/>opensciencedata<wbr/>.esa<wbr/>.int/</a></p></li><li><p><a target="_blank" rel="noreferrer" href="https://www.sciencedirect.com/science/article/pii/S1470160X22004708#f0035" class="">https://<wbr/>www<wbr/>.sciencedirect<wbr/>.com<wbr/>/science<wbr/>/article<wbr/>/pii<wbr/>/S1470160X22004708<wbr/>#f0035</a></p></li><li><p><a href="https://github.com/yobimania/dea-notebooks/blob/e0ca59f437395f7c9becca74badcf8c49da6ee90/Fire%20Analysis%20Compiled%20Scripts%20(Gadi)/dNBR_full.py" class="italic" target="_blank" rel="noreferrer" data-state="closed">https://github.com/yobimania/dea-notebooks/blob/e0ca59f437395f7c9becca74badcf8c49da6ee90/Fire Analysis Compiled Scripts (Gadi)/dNBR_full.py</a></p></li><li><p><em>Alonso, Lazaro, Gans, Fabian, Karasante, Ilektra, Ahuja, Akanksha, Prapas, Ioannis, Kondylatos, Spyros, Papoutsis, Ioannis, Panagiotou, Eleannna, Michail, Dimitrios, Cremer, Felix, Weber, Ulrich, &amp; Carvalhais, Nuno. (2022). SeasFire Cube: A Global Dataset for Seasonal Fire Modeling in the Earth System (0.4) [Data set]. Zenodo. <cite class="" data-state="closed"><a href="https://doi.org/10.5281/ZENODO.13834057" target="_blank" rel="noreferrer" class="hover-link">Alonso <em>et al.</em> (2024)</a></cite>. The same dataset can also be downloaded from Zenodo: <a target="_blank" rel="noreferrer" href="https://zenodo.org/records/13834057" class="">https://<wbr/>zenodo<wbr/>.org<wbr/>/records<wbr/>/13834057</a></em></p></li><li><p><a target="_blank" rel="noreferrer" href="https://opensciencedata.esa.int/products/seasfire-cube/collection" class="">https://<wbr/>opensciencedata<wbr/>.esa<wbr/>.int<wbr/>/products<wbr/>/seasfire<wbr/>-cube<wbr/>/collection</a>)</p></li><li><p><a target="_blank" rel="noreferrer" href="https://un-spider.org/advisory-support/recommended-practices/recommended-practice-burn-severity/in-detail/normalized-burn-ratio" class="">https://<wbr/>un<wbr/>-spider<wbr/>.org<wbr/>/advisory<wbr/>-support<wbr/>/recommended<wbr/>-practices<wbr/>/recommended<wbr/>-practice<wbr/>-burn<wbr/>-severity<wbr/>/in<wbr/>-detail<wbr/>/normalized<wbr/>-burn<wbr/>-ratio</a>](<a target="_blank" rel="noreferrer" href="https://un-spider.org/advisory-support/recommended-practices/recommended-practice-burn-severity/in-detail/normalized-burn-ratio" class="">https://<wbr/>un<wbr/>-spider<wbr/>.org<wbr/>/advisory<wbr/>-support<wbr/>/recommended<wbr/>-practices<wbr/>/recommended<wbr/>-practice<wbr/>-burn<wbr/>-severity<wbr/>/in<wbr/>-detail<wbr/>/normalized<wbr/>-burn<wbr/>-ratio</a></p></li><li><p><em><a target="_blank" rel="noreferrer" href="https://registry.opendata.aws/sentinel-2-l2a-cogs/" class="">https://<wbr/>registry<wbr/>.opendata<wbr/>.aws<wbr/>/sentinel<wbr/>-2<wbr/>-l2a<wbr/>-cogs/</a></em></p></li><li><p>element84’s STAC API](<a target="_blank" rel="noreferrer" href="https://element84.com/earth-search/" class="">https://<wbr/>element84<wbr/>.com<wbr/>/earth<wbr/>-search/</a>)</p></li><li><p><a target="_blank" rel="noreferrer" href="https://github.com/bcdev/xrlint/tree/main/docs" class="">https://<wbr/>github<wbr/>.com<wbr/>/bcdev<wbr/>/xrlint<wbr/>/tree<wbr/>/main<wbr/>/docs</a></p></li><li><p><a target="_blank" rel="noreferrer" href="https://xcube.readthedocs.io/en/latest/" class="">https://<wbr/>xcube<wbr/>.readthedocs<wbr/>.io<wbr/>/en<wbr/>/latest/</a></p></li><li><p><a target="_blank" rel="noreferrer" href="https://docs.dask.org/en/stable/" class="">https://<wbr/>docs<wbr/>.dask<wbr/>.org<wbr/>/en<wbr/>/stable/</a></p></li><li><p><a target="_blank" rel="noreferrer" href="https://docs.xarray.dev/en/stable" class="">https://<wbr/>docs<wbr/>.xarray<wbr/>.dev<wbr/>/en<wbr/>/stable</a></p></li><li><p><a target="_blank" rel="noreferrer" href="https://zarr.readthedocs.io/en/stable/" class="">https://<wbr/>zarr<wbr/>.readthedocs<wbr/>.io<wbr/>/en<wbr/>/stable/</a></p></li><li><p><a target="_blank" rel="noreferrer" href="https://corteva.github.io/rioxarray/stable/examples/reproject_match.html" class="">https://<wbr/>corteva<wbr/>.github<wbr/>.io<wbr/>/rioxarray<wbr/>/stable<wbr/>/examples<wbr/>/reproject<wbr/>_match<wbr/>.html</a></p></li></ul></div><div class="myst-backmatter-parts"></div><section id="references" class="myst-bibliography article-grid subgrid-gap col-screen"><div><header class="myst-bibliography-header text-lg font-semibold text-stone-900 dark:text-white group">References<a class="no-underline text-inherit hover:text-inherit ml-2 select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#references" title="Link to References" aria-label="Link to References">¶</a></header></div><div class="myst-bibliography-list pl-3 mb-8 text-xs text-stone-500 dark:text-stone-300"><ol><li class="myst-bibliography-item break-words" id="cite-alonso-2024">Alonso, L., Gans, F., Karasante, I., Ahuja, A., Prapas, I., Kondylatos, S., Papoutsis, I., Panagiotou, E., Mihail, D., Cremer, F., Weber, U., & Carvalhais, N. (2024). <i>SeasFire Cube: A Global Dataset for Seasonal Fire Modeling in the Earth System</i>. Zenodo. <a target="_blank" rel="noreferrer" href="https://doi.org/10.5281/ZENODO.13834057">10.5281/ZENODO.13834057</a></li></ol></div></section><div class="myst-footer-links flex pt-10 mb-10 space-x-4"><a class="myst-footer-link flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700 myst-footer-link-prev" href="/tutorials/dask101"><div class="flex h-full align-middle"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="myst-footer-link-icon self-center transition-transform group-hover:-translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"></path></svg><div class="flex-grow text-right"><div class="myst-footer-link-group text-xs text-gray-500 dark:text-gray-400">EarthCODE Tutorials</div>Dask 101</div></div></a><a class="myst-footer-link flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700 myst-footer-link-next" href="/tutorials/publishing"><div class="flex h-full align-middle"><div class="flex-grow"><div class="myst-footer-link-group text-xs text-gray-500 dark:text-gray-400">EarthCODE Tutorials</div>Publishing to EarthCODE</div><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="myst-footer-link-icon self-center transition-transform group-hover:translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"></path></svg></div></a></div></article></main><script>((a,l)=>{if(!window.history.state||!window.history.state.key){let d=Math.random().toString(32).slice(2);window.history.replaceState({key:d},"")}try{let u=JSON.parse(sessionStorage.getItem(a)||"{}")[l||window.history.state.key];typeof u=="number"&&window.scrollTo(0,u)}catch(d){console.error(d),sessionStorage.removeItem(a)}})("positions", null)</script><link rel="modulepreload" href="/tutorials/build/entry.client-PCJPW7TK.js"/><link rel="modulepreload" href="/tutorials/build/_shared/chunk-AQ2CODAG.js"/><link rel="modulepreload" href="/tutorials/build/_shared/chunk-JJXTQVMA.js"/><link rel="modulepreload" href="/tutorials/build/_shared/chunk-OZE3FFNP.js"/><link rel="modulepreload" href="/tutorials/build/_shared/chunk-UGO2RSJF.js"/><link rel="modulepreload" href="/tutorials/build/_shared/chunk-HHKX4TLX.js"/><link rel="modulepreload" href="/tutorials/build/_shared/chunk-YATQFWLS.js"/><link rel="modulepreload" href="/tutorials/build/_shared/chunk-MBMQ6BQC.js"/><link rel="modulepreload" href="/tutorials/build/_shared/chunk-OCWQY3HK.js"/><link rel="modulepreload" href="/tutorials/build/_shared/chunk-CVDX4WR7.js"/><link rel="modulepreload" href="/tutorials/build/_shared/chunk-3EBOCCHJ.js"/><link rel="modulepreload" href="/tutorials/build/_shared/chunk-O4VQNZ62.js"/><link rel="modulepreload" href="/tutorials/build/_shared/chunk-NK7RXO5Q.js"/><link rel="modulepreload" href="/tutorials/build/_shared/chunk-GUCIBHGO.js"/><link rel="modulepreload" href="/tutorials/build/root-TRTRBUUN.js"/><link rel="modulepreload" href="/tutorials/build/_shared/chunk-6NUWI4AQ.js"/><link rel="modulepreload" href="/tutorials/build/_shared/chunk-M5KN76GI.js"/><link rel="modulepreload" href="/tutorials/build/routes/$-VLPGWU3Z.js"/><script>window.__remixContext = {"url":"/pangeo-on-earthcode","state":{"loaderData":{"root":{"config":{"version":2,"myst":"1.6.6","title":"EarthCODE Tutorials","options":{"favicon":"/tutorials/build/EarthCODE_Favicon_32-bc47251d833b0964e754cebdeb37be7c.png","logo":"/tutorials/build/EarthCODE_kv_transpa-199302938cd4e42bfed972a57a6baac2.png","logo_text":"EarthCODE Tutorials","style":"/tutorials/build/esa-style-16495e8c0be1c7c95cceec9c46da4107.css"},"nav":[],"actions":[],"projects":[{"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true},"code":{"id":"MIT","url":"https://opensource.org/licenses/MIT","name":"MIT License","free":true,"osi":true}},"subject":"EarthCODE Tutorials","title":"EarthCODE Tutorials","subtitle":"sub","description":"desc","github":"https://github.com/ESA-EarthCODE/tutorials","id":"7459d850-c3ed-4933-a447-54e8d41b1409","toc":[{"file":"index.md"},{"children":[{"file":"PRR/PRR_STAC_introduction.ipynb"},{"file":"PRR/smartch4_signatures_modified.ipynb"},{"file":"PRR/prr_zarr.ipynb"},{"file":"PRR/Creating STAC Catalog_from_PRR_example.ipynb"},{"file":"PRR/TCCAS_v2.ipynb"},{"file":"PRR/CareHeat_v2.ipynb"},{"file":"PRR/sen4amazonas.ipynb"},{"file":"PRR/waposal.ipynb"},{"file":"PRR/PRR_STAC_download_example.ipynb"}],"file":"PRR/index.md","title":"ESA Project Results Repository (PRR)"},{"children":[{"file":"OSC/git_clerk_example.md"},{"file":"OSC/osc_pr_manual.ipynb"},{"file":"OSC/osc_pr_pystac.ipynb"}],"file":"OSC/index.md","title":"Open Science Catalog (OSC)"},{"children":[{"file":"openeo/1_workflow.ipynb"},{"file":"openeo/2_experiment.ipynb"},{"file":"openeo/3_publication.md"},{"file":"openeo/4_reproduce.ipynb"}],"file":"openeo/index.md","title":"openEO"},{"children":[{"file":"pangeo/introduction/introduction.md"},{"children":[{"file":"pangeo/earthcode101/about_edc_pangeo.md"},{"file":"pangeo/earthcode101/stac_and_data_access.ipynb"}],"file":"pangeo/earthcode101/earthcode101.md"},{"children":[{"file":"pangeo/pangeo101/xarray101.ipynb"},{"file":"pangeo/pangeo101/cloud-native-formats-101.ipynb"},{"file":"pangeo/pangeo101/dask101.ipynb"}],"file":"pangeo/pangeo101/pangeo101.md"},{"file":"pangeo/burnt-area-example/pangeo_on_EarthCODE.ipynb"},{"file":"pangeo/publishing-to-earthcode/publishing.md"}],"file":"pangeo/index.md"}],"exports":[],"bibliography":[],"index":"index","pages":[{"slug":"index-1","title":"ESA Project Results Repository","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"prr-stac-introduction","title":"Generating STAC metadata for the OHC 4d Atlantic dataset","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"smartch4-signatures-modified","title":"SmartCH4 project - δ13CH4 signatures","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"prr-zarr","title":"Generating STAC metadata for the YIPEEO project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"creating-stac-catalog-from-prr-example","title":"Generating metadata for the SRAL Processing over Land Ice Dataset","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"tccas-v2","title":"Generating STAC metadatas for the TCCAS dataset","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"careheat-v2","title":"Generating STAC collections for the CareHeat project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"sen4amazonas","title":"Sen4Amazonas: Time-Series Forest Loss Zarr Cube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"waposal","title":"WAPOSAL - Wave power density, zero-crossing wave period, and significant wave height product","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"prr-stac-download-example","title":"ESA Project Results Repository (PRR) Data Access and Collections Preview","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"index-2","title":"Open Science Catalog","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"git-clerk-example","title":"Open Science Catalog Editor","description":"","date":"","thumbnail":"/tutorials/build/gui_start-e7d117546dd881b393d77023bc2e23d5.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"osc-pr-manual","title":"Adding new content to Open Science Catalogue with Pull Request (PR)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"osc-pr-pystac","title":"Generating OSC information using pystac","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"index-3","title":"openEO","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"workflow","title":"Creating a workflow","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"experiment","title":"Creating an experiment","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"publication","title":"Publishing an experiment to EarthCODE","description":"","date":"","thumbnail":"/tutorials/build/publishing_login-475a7d3534740d7c7a1c1d74badc4b9e.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"reproduce","title":"Reproducing an openEO Experiment published to the EarthCODE Open Science Catalogue","description":"","date":"","thumbnail":"/tutorials/build/reproduce_editor_1-3c67795b7f59bb2c978006c488b75211.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"index-4","title":"Pangeo","description":"This training introduces participants to the EDC Pangeo Cloud Platform and scalable geospatial analysis using Python tools. Participants will learn how to access data programmatically from the EarthCODE Open Science Catalog via the STAC API, explore Zarr-formatted datasets, and use Xarray with Dask for efficient data processing. The session includes a hands-on example and guidance on saving and publishing results back to the EarthCODE Catalog.","date":"","thumbnail":"/tutorials/build/PangeoXEarthCODE-7e7987a7bda27f6421fd9d6fddce5a80.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["FAIR","pangeo","earthCODE"],"level":1},{"slug":"introduction","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"earthcode101","title":"EarthCODE and Pangeo","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"about-edc-pangeo","title":"EDC Pangeo Cloud Platform","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"stac-and-data-access","title":"Accessing EarthCODE Data","description":"","date":"","thumbnail":"/tutorials/build/stacsetup-40bf069bff0317f35880364b2ed88a67.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"pangeo101","title":"Pangeo 101","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"xarray101","title":"Xarray 101","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"cloud-native-formats-101","title":"Zarr 101","description":"","date":"","thumbnail":"/tutorials/build/datasize-3a8a5ad6b17fe3fe587446157bd31204.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"dask101","title":"Dask 101","description":"","date":"","thumbnail":"/tutorials/build/8476ef8dfea9da4ad663e93b475cbbe7.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"pangeo-on-earthcode","title":"Example EarthCODE Workflow","description":"","date":"","thumbnail":"/tutorials/build/2abbd18d64e70642d7c0e83666723e68.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"publishing","title":"Publishing to EarthCODE","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}]},"CONTENT_CDN_PORT":"3100","MODE":"static","BASE_URL":"/tutorials"},"routes/$":{"config":{"version":2,"myst":"1.6.6","title":"EarthCODE Tutorials","options":{"favicon":"/tutorials/build/EarthCODE_Favicon_32-bc47251d833b0964e754cebdeb37be7c.png","logo":"/tutorials/build/EarthCODE_kv_transpa-199302938cd4e42bfed972a57a6baac2.png","logo_text":"EarthCODE Tutorials","style":"/tutorials/build/esa-style-16495e8c0be1c7c95cceec9c46da4107.css"},"nav":[],"actions":[],"projects":[{"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true},"code":{"id":"MIT","url":"https://opensource.org/licenses/MIT","name":"MIT License","free":true,"osi":true}},"subject":"EarthCODE Tutorials","title":"EarthCODE Tutorials","subtitle":"sub","description":"desc","github":"https://github.com/ESA-EarthCODE/tutorials","id":"7459d850-c3ed-4933-a447-54e8d41b1409","toc":[{"file":"index.md"},{"children":[{"file":"PRR/PRR_STAC_introduction.ipynb"},{"file":"PRR/smartch4_signatures_modified.ipynb"},{"file":"PRR/prr_zarr.ipynb"},{"file":"PRR/Creating STAC Catalog_from_PRR_example.ipynb"},{"file":"PRR/TCCAS_v2.ipynb"},{"file":"PRR/CareHeat_v2.ipynb"},{"file":"PRR/sen4amazonas.ipynb"},{"file":"PRR/waposal.ipynb"},{"file":"PRR/PRR_STAC_download_example.ipynb"}],"file":"PRR/index.md","title":"ESA Project Results Repository (PRR)"},{"children":[{"file":"OSC/git_clerk_example.md"},{"file":"OSC/osc_pr_manual.ipynb"},{"file":"OSC/osc_pr_pystac.ipynb"}],"file":"OSC/index.md","title":"Open Science Catalog (OSC)"},{"children":[{"file":"openeo/1_workflow.ipynb"},{"file":"openeo/2_experiment.ipynb"},{"file":"openeo/3_publication.md"},{"file":"openeo/4_reproduce.ipynb"}],"file":"openeo/index.md","title":"openEO"},{"children":[{"file":"pangeo/introduction/introduction.md"},{"children":[{"file":"pangeo/earthcode101/about_edc_pangeo.md"},{"file":"pangeo/earthcode101/stac_and_data_access.ipynb"}],"file":"pangeo/earthcode101/earthcode101.md"},{"children":[{"file":"pangeo/pangeo101/xarray101.ipynb"},{"file":"pangeo/pangeo101/cloud-native-formats-101.ipynb"},{"file":"pangeo/pangeo101/dask101.ipynb"}],"file":"pangeo/pangeo101/pangeo101.md"},{"file":"pangeo/burnt-area-example/pangeo_on_EarthCODE.ipynb"},{"file":"pangeo/publishing-to-earthcode/publishing.md"}],"file":"pangeo/index.md"}],"exports":[],"bibliography":[],"index":"index","pages":[{"slug":"index-1","title":"ESA Project Results Repository","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"prr-stac-introduction","title":"Generating STAC metadata for the OHC 4d Atlantic dataset","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"smartch4-signatures-modified","title":"SmartCH4 project - δ13CH4 signatures","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"prr-zarr","title":"Generating STAC metadata for the YIPEEO project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"creating-stac-catalog-from-prr-example","title":"Generating metadata for the SRAL Processing over Land Ice Dataset","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"tccas-v2","title":"Generating STAC metadatas for the TCCAS dataset","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"careheat-v2","title":"Generating STAC collections for the CareHeat project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"sen4amazonas","title":"Sen4Amazonas: Time-Series Forest Loss Zarr Cube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"waposal","title":"WAPOSAL - Wave power density, zero-crossing wave period, and significant wave height product","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"prr-stac-download-example","title":"ESA Project Results Repository (PRR) Data Access and Collections Preview","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"index-2","title":"Open Science Catalog","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"git-clerk-example","title":"Open Science Catalog Editor","description":"","date":"","thumbnail":"/tutorials/build/gui_start-e7d117546dd881b393d77023bc2e23d5.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"osc-pr-manual","title":"Adding new content to Open Science Catalogue with Pull Request (PR)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"osc-pr-pystac","title":"Generating OSC information using pystac","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"index-3","title":"openEO","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"workflow","title":"Creating a workflow","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"experiment","title":"Creating an experiment","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"publication","title":"Publishing an experiment to EarthCODE","description":"","date":"","thumbnail":"/tutorials/build/publishing_login-475a7d3534740d7c7a1c1d74badc4b9e.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"reproduce","title":"Reproducing an openEO Experiment published to the EarthCODE Open Science Catalogue","description":"","date":"","thumbnail":"/tutorials/build/reproduce_editor_1-3c67795b7f59bb2c978006c488b75211.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"index-4","title":"Pangeo","description":"This training introduces participants to the EDC Pangeo Cloud Platform and scalable geospatial analysis using Python tools. Participants will learn how to access data programmatically from the EarthCODE Open Science Catalog via the STAC API, explore Zarr-formatted datasets, and use Xarray with Dask for efficient data processing. The session includes a hands-on example and guidance on saving and publishing results back to the EarthCODE Catalog.","date":"","thumbnail":"/tutorials/build/PangeoXEarthCODE-7e7987a7bda27f6421fd9d6fddce5a80.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["FAIR","pangeo","earthCODE"],"level":1},{"slug":"introduction","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"earthcode101","title":"EarthCODE and Pangeo","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"about-edc-pangeo","title":"EDC Pangeo Cloud Platform","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"stac-and-data-access","title":"Accessing EarthCODE Data","description":"","date":"","thumbnail":"/tutorials/build/stacsetup-40bf069bff0317f35880364b2ed88a67.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"pangeo101","title":"Pangeo 101","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"xarray101","title":"Xarray 101","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"cloud-native-formats-101","title":"Zarr 101","description":"","date":"","thumbnail":"/tutorials/build/datasize-3a8a5ad6b17fe3fe587446157bd31204.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"dask101","title":"Dask 101","description":"","date":"","thumbnail":"/tutorials/build/8476ef8dfea9da4ad663e93b475cbbe7.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"pangeo-on-earthcode","title":"Example EarthCODE Workflow","description":"","date":"","thumbnail":"/tutorials/build/2abbd18d64e70642d7c0e83666723e68.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"publishing","title":"Publishing to EarthCODE","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}]},"page":{"version":2,"kind":"Notebook","sha256":"6ff23ddd3ca4988259465e4fd3486c4bce3a954f9cf0a8796eb42d273d7a8d0b","slug":"pangeo-on-earthcode","location":"/pangeo/burnt-area-example/pangeo_on_EarthCODE.ipynb","dependencies":[],"frontmatter":{"title":"Example EarthCODE Workflow","content_includes_title":false,"kernelspec":{"name":"conda-env-earthcode-bids-earthcode-bids-edc_pangeo-py","display_name":"earthcode-bids-earthcode-bids-edc_pangeo","language":"python"},"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true},"code":{"id":"MIT","url":"https://opensource.org/licenses/MIT","name":"MIT License","free":true,"osi":true}},"github":"https://github.com/ESA-EarthCODE/tutorials","subject":"EarthCODE Tutorials","numbering":{"title":{"offset":1}},"source_url":"https://github.com/ESA-EarthCODE/tutorials/blob/main/pangeo/burnt-area-example/pangeo_on_EarthCODE.ipynb","edit_url":"https://github.com/ESA-EarthCODE/tutorials/edit/main/pangeo/burnt-area-example/pangeo_on_EarthCODE.ipynb","thumbnail":"/tutorials/build/2abbd18d64e70642d7c0e83666723e68.png","exports":[{"format":"ipynb","filename":"pangeo_on_EarthCODE.ipynb","url":"/tutorials/build/pangeo_on_EarthCODE-e186750af28a8d4d1943af5a4e109a66.ipynb"}]},"widgets":{"application/vnd.jupyter.widget-state+json":{"state":{},"version_major":2,"version_minor":0}},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lniZ2K6mQl"}],"identifier":"context","label":"Context","html_id":"context","implicit":true,"key":"EAjmrZuqi0"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"We will be using the ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"EsJQ9TD0TP"},{"type":"link","url":"https://pangeo.io/","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Pangeo","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"qlTDSrcYOT"}],"urlSource":"https://pangeo.io/","key":"CTuMqpxf8E"},{"type":"text","value":" open-source software stack to demonstrate how to fetch EarthCODE published data and publically available Sentinel-2 data to generate burn severity maps for the assessment of the areas affected by wildfires.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"cEbBDPguUX"}],"key":"FV7IoDuLdC"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"In this workshop, we will be using the ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"UW4Sy0yd1C"},{"type":"link","url":"https://opensciencedata.esa.int/products/seasfire-cube/collection","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"SeasFire Data Cube","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"e5ynSRzy4D"}],"urlSource":"https://opensciencedata.esa.int/products/seasfire-cube/collection","key":"gDjgTDOwsp"},{"type":"text","value":" published to the EarthCODE Open Science Catalog.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"jYGS7muLT6"}],"key":"IxXVju7gvT"},{"type":"heading","depth":4,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Methodology approach","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"lRbWTidW6H"}],"identifier":"methodology-approach","label":"Methodology approach","html_id":"methodology-approach","implicit":true,"key":"dqL9oWnejP"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":8,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Analyse and find burnt areas using SeasFire Data Cube","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"aoWtAcsF29"}],"key":"ZA6abUXUhV"}],"key":"Lor4WpQ6qn"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Access Sentinel-2 L2A cloud optimised dataset through STAC","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"h66gJh7tqt"}],"key":"xUaCrRPrUO"}],"key":"ExkDzvzLQI"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Compute the Normalised Burn Ratio (NBR) index to highlight burned areas","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"BzNglJqlDi"}],"key":"nbLRkIqhfM"}],"key":"v8t6T9hRNw"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Classify burn severity","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"cZSutSpPw3"}],"key":"zDf4EnhYJ9"}],"key":"ZWlpvFyYU8"}],"key":"kGBon4orlw"},{"type":"heading","depth":4,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Highlights","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"J7HYUWJAzh"}],"identifier":"highlights","label":"Highlights","html_id":"highlights","implicit":true,"key":"mnJfUlkWdg"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":14,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Using OSC data","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"TG1YNZVGri"}],"key":"enbba5QjCj"}],"key":"Otm5ryhDrU"},{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"The NBR index uses near-infrared (NIR) and shortwave-infrared (SWIR) wavelengths.","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"YWSD2OXvVM"}],"key":"COJ1bVu2Om"}],"key":"n45yXkckxa"}],"key":"yqT8SJ1s08"},{"type":"heading","depth":3,"position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"Data","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"kZGbHruobM"}],"identifier":"data","label":"Data","html_id":"data","implicit":true,"key":"B76O1EIN54"},{"type":"paragraph","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"We will use Sentinel-2 data accessed via ","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"ee4Z7mUGnL"},{"type":"link","url":"https://element84.com/earth-search/","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"element84’s STAC API","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"ejJwnMmKp1"}],"urlSource":"https://element84.com/earth-search/","key":"aA8DH6JWBH"},{"type":"text","value":" endpoint and the ","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"wfuDw78hN0"},{"type":"link","url":"https://opensciencedata.esa.int/products/seasfire-cube/collection","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"SeasFire Data Cube","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"MCpUH9RScT"}],"urlSource":"https://opensciencedata.esa.int/products/seasfire-cube/collection","key":"Y4OzVIWaTG"},{"type":"text","value":" to find burned areas, inspect them in more detail and generate burn severity maps for the assessment of the areas affected by wildfires.","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"iYKxD6q7sO"}],"key":"V3W0xNt1e8"},{"type":"heading","depth":5,"position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"Related publications","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"og2DRTM2xf"}],"identifier":"related-publications","label":"Related publications","html_id":"related-publications","implicit":true,"key":"YHHfWQcBHi"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":24,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://www.sciencedirect.com/science/article/pii/S1470160X22004708#f0035","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"https://​www​.sciencedirect​.com​/science​/article​/pii​/S1470160X22004708​#f0035","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"uHIzbsfcMA"}],"urlSource":"https://www.sciencedirect.com/science/article/pii/S1470160X22004708#f0035","key":"Pi8Vhf0Qsk"}],"key":"vkRVBpVS9e"}],"key":"epw1uINPRo"},{"type":"listItem","spread":true,"position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://github.com/yobimania/dea-notebooks/blob/e0ca59f437395f7c9becca74badcf8c49da6ee90/Fire%20Analysis%20Compiled%20Scripts%20(Gadi)/dNBR_full.py","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"https://github.com/yobimania/dea-notebooks/blob/e0ca59f437395f7c9becca74badcf8c49da6ee90/Fire Analysis Compiled Scripts (Gadi)/dNBR_full.py","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"twywgrLjXl"}],"urlSource":"https://github.com/yobimania/dea-notebooks/blob/e0ca59f437395f7c9becca74badcf8c49da6ee90/Fire%20Analysis%20Compiled%20Scripts%20(Gadi)/dNBR_full.py","data":{"kind":"file","org":"yobimania","repo":"dea-notebooks","reference":"e0ca59f437395f7c9becca74badcf8c49da6ee90","file":"Fire%20Analysis%20Compiled%20Scripts%20(Gadi)/dNBR_full.py","raw":"https://raw.githubusercontent.com/yobimania/dea-notebooks/e0ca59f437395f7c9becca74badcf8c49da6ee90/Fire%20Analysis%20Compiled%20Scripts%20(Gadi)/dNBR_full.py"},"internal":false,"protocol":"github","key":"Tuk94IJrvq"}],"key":"I71k0VaCfZ"}],"key":"Gpq5GELBcz"},{"type":"listItem","spread":true,"position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"paragraph","children":[{"type":"emphasis","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"Alonso, Lazaro, Gans, Fabian, Karasante, Ilektra, Ahuja, Akanksha, Prapas, Ioannis, Kondylatos, Spyros, Papoutsis, Ioannis, Panagiotou, Eleannna, Michail, Dimitrios, Cremer, Felix, Weber, Ulrich, \u0026 Carvalhais, Nuno. (2022). SeasFire Cube: A Global Dataset for Seasonal Fire Modeling in the Earth System (0.4) [Data set]. Zenodo. ","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"lnEfxoR1os"},{"type":"cite","identifier":"alonso-2024","label":"alonso-2024","kind":"narrative","position":{"start":{"line":26,"column":331},"end":{"line":26,"column":343}},"children":[{"type":"text","value":"Alonso ","key":"F66zXydFLP"},{"type":"emphasis","children":[{"type":"text","value":"et al.","key":"XFGLf5FLxI"}],"key":"CTTCV2jFoa"},{"type":"text","value":" (2024)","key":"QkV6QDzyYo"}],"enumerator":"1","key":"l9fn9XqH0T"},{"type":"text","value":". The same dataset can also be downloaded from Zenodo: ","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"aqFrmJH6QH"},{"type":"link","url":"https://zenodo.org/records/13834057","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"https://​zenodo​.org​/records​/13834057","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"bIGdTioide"}],"urlSource":"https://zenodo.org/records/13834057","key":"cG8UxIeYZm"}],"key":"iazkfscI9B"}],"key":"m1vbDMRXom"}],"key":"JD4FqPE5tw"},{"type":"listItem","spread":true,"position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"paragraph","children":[{"type":"emphasis","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"link","url":"https://registry.opendata.aws/sentinel-2-l2a-cogs/","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"https://​registry​.opendata​.aws​/sentinel​-2​-l2a​-cogs/","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"vrYRBe2D25"}],"urlSource":"https://registry.opendata.aws/sentinel-2-l2a-cogs/","key":"KuQDur4h2Q"}],"key":"Qvmll8sZrf"}],"key":"QL7SHFOvOF"}],"key":"Zf0FV7xWTh"}],"key":"G1IaoSxEPi"}],"key":"oXkIjsg2oH"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Import Packages","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HE8wlauoZo"}],"identifier":"import-packages","label":"Import Packages","html_id":"import-packages","implicit":true,"key":"GLQgsWMpdx"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"As best practices dictate, we recommend that you install and import all the necessary libraries at the top of your Jupyter notebook.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"TZ28IbMLGN"}],"key":"iFNo2xbzJF"}],"key":"JecEQR5iJi"},{"type":"block","kind":"notebook-code","data":{"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"import json\nimport xarray\nimport rasterio\n\nfrom datetime import datetime\nfrom datetime import timedelta\n\nimport numpy as np\nimport pandas as pd\nimport geopandas as gpd\n\nimport hvplot.xarray\nimport dask.distributed\n\nimport matplotlib.pyplot as plt\nimport cartopy.crs as ccrs\nimport shapely\n\nfrom pystac_client import Client as pystac_client\nfrom odc.stac import stac_load\n\nimport os\nimport xrlint.all as xrl\nfrom xcube.core.verify import assert_cube\n","key":"n9XUKlLlwX"},{"type":"output","id":"oCQ-l5xtAECfzE6NqTNxi","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\u003cscript type=\"esms-options\"\u003e{\"shimMode\": true}\u003c/script\u003e\u003cstyle\u003e*[data-root-id],\n*[data-root-id] \u003e * {\n  box-sizing: border-box;\n  font-family: var(--jp-ui-font-family);\n  font-size: var(--jp-ui-font-size1);\n  color: var(--vscode-editor-foreground, var(--jp-ui-font-color1));\n}\n\n/* Override VSCode background color */\n.cell-output-ipywidget-background:has(\n    \u003e .cell-output-ipywidget-background \u003e .lm-Widget \u003e *[data-root-id]\n  ),\n.cell-output-ipywidget-background:has(\u003e .lm-Widget \u003e *[data-root-id]) {\n  background-color: transparent !important;\n}\n\u003c/style\u003e","content_type":"text/html"}}},{"output_type":"display_data","metadata":{},"data":{"application/javascript":{"content":"(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n  const py_version = '3.7.3'.replace('rc', '-rc.').replace('.dev', '-dev.');\n  const reloading = false;\n  const Bokeh = root.Bokeh;\n\n  // Set a timeout for this load but only if we are not already initializing\n  if (typeof (root._bokeh_timeout) === \"undefined\" || (force || !root._bokeh_is_initializing)) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks;\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, js_modules, js_exports, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n    if (js_modules == null) js_modules = [];\n    if (js_exports == null) js_exports = {};\n\n    root._bokeh_onload_callbacks.push(callback);\n\n    if (root._bokeh_is_loading \u003e 0) {\n      // Don't load bokeh if it is still initializing\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    } else if (js_urls.length === 0 \u0026\u0026 js_modules.length === 0 \u0026\u0026 Object.keys(js_exports).length === 0) {\n      // There is nothing to load\n      run_callbacks();\n      return null;\n    }\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n    window._bokeh_on_load = on_load\n\n    function on_error(e) {\n      const src_el = e.srcElement\n      console.error(\"failed to load \" + (src_el.href || src_el.src));\n    }\n\n    const skip = [];\n    if (window.requirejs) {\n      window.requirejs.config({'packages': {}, 'paths': {}, 'shim': {}});\n      root._bokeh_is_loading = css_urls.length + 0;\n    } else {\n      root._bokeh_is_loading = css_urls.length + js_urls.length + js_modules.length + Object.keys(js_exports).length;\n    }\n\n    const existing_stylesheets = []\n    const links = document.getElementsByTagName('link')\n    for (let i = 0; i \u003c links.length; i++) {\n      const link = links[i]\n      if (link.href != null) {\n        existing_stylesheets.push(link.href)\n      }\n    }\n    for (let i = 0; i \u003c css_urls.length; i++) {\n      const url = css_urls[i];\n      const escaped = encodeURI(url)\n      if (existing_stylesheets.indexOf(escaped) !== -1) {\n        on_load()\n        continue;\n      }\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error;\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }    var existing_scripts = []\n    const scripts = document.getElementsByTagName('script')\n    for (let i = 0; i \u003c scripts.length; i++) {\n      var script = scripts[i]\n      if (script.src != null) {\n        existing_scripts.push(script.src)\n      }\n    }\n    for (let i = 0; i \u003c js_urls.length; i++) {\n      const url = js_urls[i];\n      const escaped = encodeURI(url)\n      if (skip.indexOf(escaped) !== -1 || existing_scripts.indexOf(escaped) !== -1) {\n        if (!window.requirejs) {\n          on_load();\n        }\n        continue;\n      }\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error;\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n    for (let i = 0; i \u003c js_modules.length; i++) {\n      const url = js_modules[i];\n      const escaped = encodeURI(url)\n      if (skip.indexOf(escaped) !== -1 || existing_scripts.indexOf(escaped) !== -1) {\n        if (!window.requirejs) {\n          on_load();\n        }\n        continue;\n      }\n      var element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error;\n      element.async = false;\n      element.src = url;\n      element.type = \"module\";\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n    for (const name in js_exports) {\n      const url = js_exports[name];\n      const escaped = encodeURI(url)\n      if (skip.indexOf(escaped) \u003e= 0 || root[name] != null) {\n        if (!window.requirejs) {\n          on_load();\n        }\n        continue;\n      }\n      var element = document.createElement('script');\n      element.onerror = on_error;\n      element.async = false;\n      element.type = \"module\";\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      element.textContent = `\n      import ${name} from \"${url}\"\n      window.${name} = ${name}\n      window._bokeh_on_load()\n      `\n      document.head.appendChild(element);\n    }\n    if (!js_urls.length \u0026\u0026 !js_modules.length) {\n      on_load()\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  const js_urls = [\"https://cdn.holoviz.org/panel/1.7.0/dist/bundled/reactiveesm/es-module-shims@^1.10.0/dist/es-module-shims.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-3.7.3.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.7.3.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.7.3.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.7.3.min.js\", \"https://cdn.holoviz.org/panel/1.7.0/dist/panel.min.js\"];\n  const js_modules = [];\n  const js_exports = {};\n  const css_urls = [];\n  const inline_js = [    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\nfunction(Bokeh) {} // ensure no trailing comma for IE\n  ];\n\n  function run_inline_js() {\n    if ((root.Bokeh !== undefined) || (force === true)) {\n      for (let i = 0; i \u003c inline_js.length; i++) {\n        try {\n          inline_js[i].call(root, root.Bokeh);\n        } catch(e) {\n          if (!reloading) {\n            throw e;\n          }\n        }\n      }\n      // Cache old bokeh versions\n      if (Bokeh != undefined \u0026\u0026 !reloading) {\n        var NewBokeh = root.Bokeh;\n        if (Bokeh.versions === undefined) {\n          Bokeh.versions = new Map();\n        }\n        if (NewBokeh.version !== Bokeh.version) {\n          Bokeh.versions.set(NewBokeh.version, NewBokeh)\n        }\n        root.Bokeh = Bokeh;\n      }\n    } else if (Date.now() \u003c root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    }\n    root._bokeh_is_initializing = false\n  }\n\n  function load_or_wait() {\n    // Implement a backoff loop that tries to ensure we do not load multiple\n    // versions of Bokeh and its dependencies at the same time.\n    // In recent versions we use the root._bokeh_is_initializing flag\n    // to determine whether there is an ongoing attempt to initialize\n    // bokeh, however for backward compatibility we also try to ensure\n    // that we do not start loading a newer (Panel\u003e=1.0 and Bokeh\u003e3) version\n    // before older versions are fully initialized.\n    if (root._bokeh_is_initializing \u0026\u0026 Date.now() \u003e root._bokeh_timeout) {\n      // If the timeout and bokeh was not successfully loaded we reset\n      // everything and try loading again\n      root._bokeh_timeout = Date.now() + 5000;\n      root._bokeh_is_initializing = false;\n      root._bokeh_onload_callbacks = undefined;\n      root._bokeh_is_loading = 0\n      console.log(\"Bokeh: BokehJS was loaded multiple times but one version failed to initialize.\");\n      load_or_wait();\n    } else if (root._bokeh_is_initializing || (typeof root._bokeh_is_initializing === \"undefined\" \u0026\u0026 root._bokeh_onload_callbacks !== undefined)) {\n      setTimeout(load_or_wait, 100);\n    } else {\n      root._bokeh_is_initializing = true\n      root._bokeh_onload_callbacks = []\n      const bokeh_loaded = root.Bokeh != null \u0026\u0026 (root.Bokeh.version === py_version || (root.Bokeh.versions !== undefined \u0026\u0026 root.Bokeh.versions.has(py_version)));\n      if (!reloading \u0026\u0026 !bokeh_loaded) {\n        if (root.Bokeh) {\n          root.Bokeh = undefined;\n        }\n        console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n      }\n      load_libs(css_urls, js_urls, js_modules, js_exports, function() {\n        console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n        run_inline_js();\n      });\n    }\n  }\n  // Give older versions of the autoload script a head-start to ensure\n  // they initialize before we start loading newer version.\n  setTimeout(load_or_wait, 100)\n}(window));","content_type":"application/javascript"},"application/vnd.holoviews_load.v0+json":{"content":"","content_type":"application/vnd.holoviews_load.v0+json"}}},{"output_type":"display_data","metadata":{},"data":{"application/javascript":{"content":"\nif ((window.PyViz === undefined) || (window.PyViz instanceof HTMLElement)) {\n  window.PyViz = {comms: {}, comm_status:{}, kernels:{}, receivers: {}, plot_index: []}\n}\n\n\n    function JupyterCommManager() {\n    }\n\n    JupyterCommManager.prototype.register_target = function(plot_id, comm_id, msg_handler) {\n      if (window.comm_manager || ((window.Jupyter !== undefined) \u0026\u0026 (Jupyter.notebook.kernel != null))) {\n        var comm_manager = window.comm_manager || Jupyter.notebook.kernel.comm_manager;\n        comm_manager.register_target(comm_id, function(comm) {\n          comm.on_msg(msg_handler);\n        });\n      } else if ((plot_id in window.PyViz.kernels) \u0026\u0026 (window.PyViz.kernels[plot_id])) {\n        window.PyViz.kernels[plot_id].registerCommTarget(comm_id, function(comm) {\n          comm.onMsg = msg_handler;\n        });\n      } else if (typeof google != 'undefined' \u0026\u0026 google.colab.kernel != null) {\n        google.colab.kernel.comms.registerTarget(comm_id, (comm) =\u003e {\n          var messages = comm.messages[Symbol.asyncIterator]();\n          function processIteratorResult(result) {\n            var message = result.value;\n            console.log(message)\n            var content = {data: message.data, comm_id};\n            var buffers = []\n            for (var buffer of message.buffers || []) {\n              buffers.push(new DataView(buffer))\n            }\n            var metadata = message.metadata || {};\n            var msg = {content, buffers, metadata}\n            msg_handler(msg);\n            return messages.next().then(processIteratorResult);\n          }\n          return messages.next().then(processIteratorResult);\n        })\n      }\n    }\n\n    JupyterCommManager.prototype.get_client_comm = function(plot_id, comm_id, msg_handler) {\n      if (comm_id in window.PyViz.comms) {\n        return window.PyViz.comms[comm_id];\n      } else if (window.comm_manager || ((window.Jupyter !== undefined) \u0026\u0026 (Jupyter.notebook.kernel != null))) {\n        var comm_manager = window.comm_manager || Jupyter.notebook.kernel.comm_manager;\n        var comm = comm_manager.new_comm(comm_id, {}, {}, {}, comm_id);\n        if (msg_handler) {\n          comm.on_msg(msg_handler);\n        }\n      } else if ((plot_id in window.PyViz.kernels) \u0026\u0026 (window.PyViz.kernels[plot_id])) {\n        var comm = window.PyViz.kernels[plot_id].connectToComm(comm_id);\n        comm.open();\n        if (msg_handler) {\n          comm.onMsg = msg_handler;\n        }\n      } else if (typeof google != 'undefined' \u0026\u0026 google.colab.kernel != null) {\n        var comm_promise = google.colab.kernel.comms.open(comm_id)\n        comm_promise.then((comm) =\u003e {\n          window.PyViz.comms[comm_id] = comm;\n          if (msg_handler) {\n            var messages = comm.messages[Symbol.asyncIterator]();\n            function processIteratorResult(result) {\n              var message = result.value;\n              var content = {data: message.data};\n              var metadata = message.metadata || {comm_id};\n              var msg = {content, metadata}\n              msg_handler(msg);\n              return messages.next().then(processIteratorResult);\n            }\n            return messages.next().then(processIteratorResult);\n          }\n        })\n        var sendClosure = (data, metadata, buffers, disposeOnDone) =\u003e {\n          return comm_promise.then((comm) =\u003e {\n            comm.send(data, metadata, buffers, disposeOnDone);\n          });\n        };\n        var comm = {\n          send: sendClosure\n        };\n      }\n      window.PyViz.comms[comm_id] = comm;\n      return comm;\n    }\n    window.PyViz.comm_manager = new JupyterCommManager();\n    \n\n\nvar JS_MIME_TYPE = 'application/javascript';\nvar HTML_MIME_TYPE = 'text/html';\nvar EXEC_MIME_TYPE = 'application/vnd.holoviews_exec.v0+json';\nvar CLASS_NAME = 'output';\n\n/**\n * Render data to the DOM node\n */\nfunction render(props, node) {\n  var div = document.createElement(\"div\");\n  var script = document.createElement(\"script\");\n  node.appendChild(div);\n  node.appendChild(script);\n}\n\n/**\n * Handle when a new output is added\n */\nfunction handle_add_output(event, handle) {\n  var output_area = handle.output_area;\n  var output = handle.output;\n  if ((output.data == undefined) || (!output.data.hasOwnProperty(EXEC_MIME_TYPE))) {\n    return\n  }\n  var id = output.metadata[EXEC_MIME_TYPE][\"id\"];\n  var toinsert = output_area.element.find(\".\" + CLASS_NAME.split(' ')[0]);\n  if (id !== undefined) {\n    var nchildren = toinsert.length;\n    var html_node = toinsert[nchildren-1].children[0];\n    html_node.innerHTML = output.data[HTML_MIME_TYPE];\n    var scripts = [];\n    var nodelist = html_node.querySelectorAll(\"script\");\n    for (var i in nodelist) {\n      if (nodelist.hasOwnProperty(i)) {\n        scripts.push(nodelist[i])\n      }\n    }\n\n    scripts.forEach( function (oldScript) {\n      var newScript = document.createElement(\"script\");\n      var attrs = [];\n      var nodemap = oldScript.attributes;\n      for (var j in nodemap) {\n        if (nodemap.hasOwnProperty(j)) {\n          attrs.push(nodemap[j])\n        }\n      }\n      attrs.forEach(function(attr) { newScript.setAttribute(attr.name, attr.value) });\n      newScript.appendChild(document.createTextNode(oldScript.innerHTML));\n      oldScript.parentNode.replaceChild(newScript, oldScript);\n    });\n    if (JS_MIME_TYPE in output.data) {\n      toinsert[nchildren-1].children[1].textContent = output.data[JS_MIME_TYPE];\n    }\n    output_area._hv_plot_id = id;\n    if ((window.Bokeh !== undefined) \u0026\u0026 (id in Bokeh.index)) {\n      window.PyViz.plot_index[id] = Bokeh.index[id];\n    } else {\n      window.PyViz.plot_index[id] = null;\n    }\n  } else if (output.metadata[EXEC_MIME_TYPE][\"server_id\"] !== undefined) {\n    var bk_div = document.createElement(\"div\");\n    bk_div.innerHTML = output.data[HTML_MIME_TYPE];\n    var script_attrs = bk_div.children[0].attributes;\n    for (var i = 0; i \u003c script_attrs.length; i++) {\n      toinsert[toinsert.length - 1].childNodes[1].setAttribute(script_attrs[i].name, script_attrs[i].value);\n    }\n    // store reference to server id on output_area\n    output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE][\"server_id\"];\n  }\n}\n\n/**\n * Handle when an output is cleared or removed\n */\nfunction handle_clear_output(event, handle) {\n  var id = handle.cell.output_area._hv_plot_id;\n  var server_id = handle.cell.output_area._bokeh_server_id;\n  if (((id === undefined) || !(id in PyViz.plot_index)) \u0026\u0026 (server_id !== undefined)) { return; }\n  var comm = window.PyViz.comm_manager.get_client_comm(\"hv-extension-comm\", \"hv-extension-comm\", function () {});\n  if (server_id !== null) {\n    comm.send({event_type: 'server_delete', 'id': server_id});\n    return;\n  } else if (comm !== null) {\n    comm.send({event_type: 'delete', 'id': id});\n  }\n  delete PyViz.plot_index[id];\n  if ((window.Bokeh !== undefined) \u0026 (id in window.Bokeh.index)) {\n    var doc = window.Bokeh.index[id].model.document\n    doc.clear();\n    const i = window.Bokeh.documents.indexOf(doc);\n    if (i \u003e -1) {\n      window.Bokeh.documents.splice(i, 1);\n    }\n  }\n}\n\n/**\n * Handle kernel restart event\n */\nfunction handle_kernel_cleanup(event, handle) {\n  delete PyViz.comms[\"hv-extension-comm\"];\n  window.PyViz.plot_index = {}\n}\n\n/**\n * Handle update_display_data messages\n */\nfunction handle_update_output(event, handle) {\n  handle_clear_output(event, {cell: {output_area: handle.output_area}})\n  handle_add_output(event, handle)\n}\n\nfunction register_renderer(events, OutputArea) {\n  function append_mime(data, metadata, element) {\n    // create a DOM node to render to\n    var toinsert = this.create_output_subarea(\n    metadata,\n    CLASS_NAME,\n    EXEC_MIME_TYPE\n    );\n    this.keyboard_manager.register_events(toinsert);\n    // Render to node\n    var props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};\n    render(props, toinsert[0]);\n    element.append(toinsert);\n    return toinsert\n  }\n\n  events.on('output_added.OutputArea', handle_add_output);\n  events.on('output_updated.OutputArea', handle_update_output);\n  events.on('clear_output.CodeCell', handle_clear_output);\n  events.on('delete.Cell', handle_clear_output);\n  events.on('kernel_ready.Kernel', handle_kernel_cleanup);\n\n  OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {\n    safe: true,\n    index: 0\n  });\n}\n\nif (window.Jupyter !== undefined) {\n  try {\n    var events = require('base/js/events');\n    var OutputArea = require('notebook/js/outputarea').OutputArea;\n    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {\n      register_renderer(events, OutputArea);\n    }\n  } catch(err) {\n  }\n}\n","content_type":"application/javascript"},"application/vnd.holoviews_load.v0+json":{"content":"","content_type":"application/vnd.holoviews_load.v0+json"}}},{"output_type":"display_data","metadata":{"application/vnd.holoviews_exec.v0+json":{"id":"701aa0be-056e-43a8-93bc-0dc5e074737d"}},"data":{"application/vnd.holoviews_exec.v0+json":{"content":"","content_type":"application/vnd.holoviews_exec.v0+json"},"text/html":{"content":"\u003cdiv id='701aa0be-056e-43a8-93bc-0dc5e074737d'\u003e\n  \u003cdiv id=\"cbe18ada-1895-4d23-9fc3-3bc28a12bcdd\" data-root-id=\"701aa0be-056e-43a8-93bc-0dc5e074737d\" style=\"display: contents;\"\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cscript type=\"application/javascript\"\u003e(function(root) {\n  var docs_json = {\"28553146-2e72-4f4c-a497-44ecb1114fe8\":{\"version\":\"3.7.3\",\"title\":\"Bokeh Application\",\"roots\":[{\"type\":\"object\",\"name\":\"panel.models.browser.BrowserInfo\",\"id\":\"701aa0be-056e-43a8-93bc-0dc5e074737d\"},{\"type\":\"object\",\"name\":\"panel.models.comm_manager.CommManager\",\"id\":\"dbc3edfc-4795-4210-abce-164b4e450acd\",\"attributes\":{\"plot_id\":\"701aa0be-056e-43a8-93bc-0dc5e074737d\",\"comm_id\":\"6fd6bb6906a747b19f19d8c3a39bdb12\",\"client_comm_id\":\"fdfa81a990b7470e83fcaf129efbe17b\"}}],\"defs\":[{\"type\":\"model\",\"name\":\"ReactiveHTML1\"},{\"type\":\"model\",\"name\":\"FlexBox1\",\"properties\":[{\"name\":\"align_content\",\"kind\":\"Any\",\"default\":\"flex-start\"},{\"name\":\"align_items\",\"kind\":\"Any\",\"default\":\"flex-start\"},{\"name\":\"flex_direction\",\"kind\":\"Any\",\"default\":\"row\"},{\"name\":\"flex_wrap\",\"kind\":\"Any\",\"default\":\"wrap\"},{\"name\":\"gap\",\"kind\":\"Any\",\"default\":\"\"},{\"name\":\"justify_content\",\"kind\":\"Any\",\"default\":\"flex-start\"}]},{\"type\":\"model\",\"name\":\"FloatPanel1\",\"properties\":[{\"name\":\"config\",\"kind\":\"Any\",\"default\":{\"type\":\"map\"}},{\"name\":\"contained\",\"kind\":\"Any\",\"default\":true},{\"name\":\"position\",\"kind\":\"Any\",\"default\":\"right-top\"},{\"name\":\"offsetx\",\"kind\":\"Any\",\"default\":null},{\"name\":\"offsety\",\"kind\":\"Any\",\"default\":null},{\"name\":\"theme\",\"kind\":\"Any\",\"default\":\"primary\"},{\"name\":\"status\",\"kind\":\"Any\",\"default\":\"normalized\"}]},{\"type\":\"model\",\"name\":\"GridStack1\",\"properties\":[{\"name\":\"ncols\",\"kind\":\"Any\",\"default\":null},{\"name\":\"nrows\",\"kind\":\"Any\",\"default\":null},{\"name\":\"allow_resize\",\"kind\":\"Any\",\"default\":true},{\"name\":\"allow_drag\",\"kind\":\"Any\",\"default\":true},{\"name\":\"state\",\"kind\":\"Any\",\"default\":[]}]},{\"type\":\"model\",\"name\":\"drag1\",\"properties\":[{\"name\":\"slider_width\",\"kind\":\"Any\",\"default\":5},{\"name\":\"slider_color\",\"kind\":\"Any\",\"default\":\"black\"},{\"name\":\"value\",\"kind\":\"Any\",\"default\":50}]},{\"type\":\"model\",\"name\":\"click1\",\"properties\":[{\"name\":\"terminal_output\",\"kind\":\"Any\",\"default\":\"\"},{\"name\":\"debug_name\",\"kind\":\"Any\",\"default\":\"\"},{\"name\":\"clears\",\"kind\":\"Any\",\"default\":0}]},{\"type\":\"model\",\"name\":\"FastWrapper1\",\"properties\":[{\"name\":\"object\",\"kind\":\"Any\",\"default\":null},{\"name\":\"style\",\"kind\":\"Any\",\"default\":null}]},{\"type\":\"model\",\"name\":\"NotificationArea1\",\"properties\":[{\"name\":\"js_events\",\"kind\":\"Any\",\"default\":{\"type\":\"map\"}},{\"name\":\"max_notifications\",\"kind\":\"Any\",\"default\":5},{\"name\":\"notifications\",\"kind\":\"Any\",\"default\":[]},{\"name\":\"position\",\"kind\":\"Any\",\"default\":\"bottom-right\"},{\"name\":\"_clear\",\"kind\":\"Any\",\"default\":0},{\"name\":\"types\",\"kind\":\"Any\",\"default\":[{\"type\":\"map\",\"entries\":[[\"type\",\"warning\"],[\"background\",\"#ffc107\"],[\"icon\",{\"type\":\"map\",\"entries\":[[\"className\",\"fas fa-exclamation-triangle\"],[\"tagName\",\"i\"],[\"color\",\"white\"]]}]]},{\"type\":\"map\",\"entries\":[[\"type\",\"info\"],[\"background\",\"#007bff\"],[\"icon\",{\"type\":\"map\",\"entries\":[[\"className\",\"fas fa-info-circle\"],[\"tagName\",\"i\"],[\"color\",\"white\"]]}]]}]}]},{\"type\":\"model\",\"name\":\"Notification\",\"properties\":[{\"name\":\"background\",\"kind\":\"Any\",\"default\":null},{\"name\":\"duration\",\"kind\":\"Any\",\"default\":3000},{\"name\":\"icon\",\"kind\":\"Any\",\"default\":null},{\"name\":\"message\",\"kind\":\"Any\",\"default\":\"\"},{\"name\":\"notification_type\",\"kind\":\"Any\",\"default\":null},{\"name\":\"_rendered\",\"kind\":\"Any\",\"default\":false},{\"name\":\"_destroyed\",\"kind\":\"Any\",\"default\":false}]},{\"type\":\"model\",\"name\":\"TemplateActions1\",\"properties\":[{\"name\":\"open_modal\",\"kind\":\"Any\",\"default\":0},{\"name\":\"close_modal\",\"kind\":\"Any\",\"default\":0}]},{\"type\":\"model\",\"name\":\"BootstrapTemplateActions1\",\"properties\":[{\"name\":\"open_modal\",\"kind\":\"Any\",\"default\":0},{\"name\":\"close_modal\",\"kind\":\"Any\",\"default\":0}]},{\"type\":\"model\",\"name\":\"TemplateEditor1\",\"properties\":[{\"name\":\"layout\",\"kind\":\"Any\",\"default\":[]}]},{\"type\":\"model\",\"name\":\"MaterialTemplateActions1\",\"properties\":[{\"name\":\"open_modal\",\"kind\":\"Any\",\"default\":0},{\"name\":\"close_modal\",\"kind\":\"Any\",\"default\":0}]},{\"type\":\"model\",\"name\":\"ReactiveESM1\",\"properties\":[{\"name\":\"esm_constants\",\"kind\":\"Any\",\"default\":{\"type\":\"map\"}}]},{\"type\":\"model\",\"name\":\"JSComponent1\",\"properties\":[{\"name\":\"esm_constants\",\"kind\":\"Any\",\"default\":{\"type\":\"map\"}}]},{\"type\":\"model\",\"name\":\"ReactComponent1\",\"properties\":[{\"name\":\"esm_constants\",\"kind\":\"Any\",\"default\":{\"type\":\"map\"}}]},{\"type\":\"model\",\"name\":\"AnyWidgetComponent1\",\"properties\":[{\"name\":\"esm_constants\",\"kind\":\"Any\",\"default\":{\"type\":\"map\"}}]},{\"type\":\"model\",\"name\":\"request_value1\",\"properties\":[{\"name\":\"fill\",\"kind\":\"Any\",\"default\":\"none\"},{\"name\":\"_synced\",\"kind\":\"Any\",\"default\":null},{\"name\":\"_request_sync\",\"kind\":\"Any\",\"default\":0}]}]}};\n  var render_items = [{\"docid\":\"28553146-2e72-4f4c-a497-44ecb1114fe8\",\"roots\":{\"701aa0be-056e-43a8-93bc-0dc5e074737d\":\"cbe18ada-1895-4d23-9fc3-3bc28a12bcdd\"},\"root_ids\":[\"701aa0be-056e-43a8-93bc-0dc5e074737d\"]}];\n  var docs = Object.values(docs_json)\n  if (!docs) {\n    return\n  }\n  const py_version = docs[0].version.replace('rc', '-rc.').replace('.dev', '-dev.')\n  async function embed_document(root) {\n    var Bokeh = get_bokeh(root)\n    await Bokeh.embed.embed_items_notebook(docs_json, render_items);\n    for (const render_item of render_items) {\n      for (const root_id of render_item.root_ids) {\n\tconst id_el = document.getElementById(root_id)\n\tif (id_el.children.length \u0026\u0026 id_el.children[0].hasAttribute('data-root-id')) {\n\t  const root_el = id_el.children[0]\n\t  root_el.id = root_el.id + '-rendered'\n\t  for (const child of root_el.children) {\n            // Ensure JupyterLab does not capture keyboard shortcuts\n            // see: https://jupyterlab.readthedocs.io/en/4.1.x/extension/notebook.html#keyboard-interaction-model\n\t    child.setAttribute('data-lm-suppress-shortcuts', 'true')\n\t  }\n\t}\n      }\n    }\n  }\n  function get_bokeh(root) {\n    if (root.Bokeh === undefined) {\n      return null\n    } else if (root.Bokeh.version !== py_version) {\n      if (root.Bokeh.versions === undefined || !root.Bokeh.versions.has(py_version)) {\n\treturn null\n      }\n      return root.Bokeh.versions.get(py_version);\n    } else if (root.Bokeh.version === py_version) {\n      return root.Bokeh\n    }\n    return null\n  }\n  function is_loaded(root) {\n    var Bokeh = get_bokeh(root)\n    return (Bokeh != null \u0026\u0026 Bokeh.Panel !== undefined)\n  }\n  if (is_loaded(root)) {\n    embed_document(root);\n  } else {\n    var attempts = 0;\n    var timer = setInterval(function(root) {\n      if (is_loaded(root)) {\n        clearInterval(timer);\n        embed_document(root);\n      } else if (document.readyState == \"complete\") {\n        attempts++;\n        if (attempts \u003e 200) {\n          clearInterval(timer);\n\t  var Bokeh = get_bokeh(root)\n\t  if (Bokeh == null || Bokeh.Panel == null) {\n            console.warn(\"Panel: ERROR: Unable to run Panel code because Bokeh or Panel library is missing\");\n\t  } else {\n\t    console.warn(\"Panel: WARNING: Attempting to render but not all required libraries could be resolved.\")\n\t    embed_document(root)\n\t  }\n        }\n      }\n    }, 25, root)\n  }\n})(window);\u003c/script\u003e","content_type":"text/html"}}}],"key":"vndP48yXAc"}],"key":"yLVbIQeLbC"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Create and startup your Dask Cluster","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"K2wrMCF235"}],"identifier":"create-and-startup-your-dask-cluster","label":"Create and startup your Dask Cluster","html_id":"create-and-startup-your-dask-cluster","implicit":true,"key":"TRsHwInOXc"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Create dask cluster as described in the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"MlbmkyUuRH"},{"type":"link","url":"/dask101","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"dask 101 guide","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"I4JuBrVhXz"}],"urlSource":"../pangeo101/dask101.ipynb","dataUrl":"/dask101.json","internal":true,"protocol":"file","key":"hiVCs1rJ1K"},{"type":"text","value":".","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"beCWkLy7zP"}],"key":"FciXlWIl7Y"}],"key":"lDX9I9KPp8"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from dask_gateway import Gateway\ngateway = Gateway()","key":"wqIRO5JBVo"},{"type":"output","id":"DGZdbvVBlij6Nu5NcQAPs","data":[],"key":"h5xmB6IazE"}],"key":"sfzFRKZGOL"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"cluster_options = gateway.cluster_options()\ncluster_options.profile = 'medium'\ncluster_options","key":"NRKVMJIU18"},{"type":"output","id":"4g5RpOyZ2mF1Vt6Riw_Up","data":[{"output_type":"display_data","metadata":{},"data":{"application/vnd.jupyter.widget-view+json":{"content":"{\"model_id\":\"ffa53c8ae8644c2d98b7e15b3038054f\",\"version_major\":2,\"version_minor\":0}","content_type":"application/vnd.jupyter.widget-view+json"},"text/plain":{"content":"VBox(children=(HTML(value='\u003ch2\u003eCluster Options\u003c/h2\u003e'), GridBox(children=(HTML(value=\"\u003cp style='font-weight: bo…","content_type":"text/plain"}}}],"key":"nxI39u2Hsm"}],"key":"BA9wiBLhmv"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"cluster = gateway.new_cluster(cluster_options=cluster_options)\ncluster.scale(2)\ncluster","key":"fXyrwf44J4"},{"type":"output","id":"dFT6Y2IBYAez-3E4Bcpt6","data":[{"output_type":"display_data","metadata":{},"data":{"application/vnd.jupyter.widget-view+json":{"content":"{\"model_id\":\"b8b8fee1d0dc4c40a3751ce834598574\",\"version_major\":2,\"version_minor\":0}","content_type":"application/vnd.jupyter.widget-view+json"},"text/plain":{"content":"VBox(children=(HTML(value='\u003ch2\u003eGatewayCluster\u003c/h2\u003e'), HBox(children=(HTML(value='\\n\u003cdiv\u003e\\n\u003cstyle scoped\u003e\\n    …","content_type":"text/plain"}}}],"key":"wMPMD9XXtr"}],"key":"EzK7EUjO21"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"client = cluster.get_client()\nclient","key":"fN0T4syESs"},{"type":"output","id":"GG81ptYM6qA2GruHmBkTV","data":[{"output_type":"execute_result","execution_count":5,"metadata":{},"data":{"text/html":{"content":"\u003cdiv\u003e\n    \u003cdiv style=\"width: 24px; height: 24px; background-color: #e1e1e1; border: 3px solid #9D9D9D; border-radius: 5px; position: absolute;\"\u003e \u003c/div\u003e\n    \u003cdiv style=\"margin-left: 48px;\"\u003e\n        \u003ch3 style=\"margin-bottom: 0px;\"\u003eClient\u003c/h3\u003e\n        \u003cp style=\"color: #9D9D9D; margin-bottom: 0px;\"\u003eClient-517a7cd4-9ad9-11f0-83e8-0255ac10005f\u003c/p\u003e\n        \u003ctable style=\"width: 100%; text-align: left;\"\u003e\n\n        \u003ctr\u003e\n        \n            \u003ctd style=\"text-align: left;\"\u003e\u003cstrong\u003eConnection method:\u003c/strong\u003e Cluster object\u003c/td\u003e\n            \u003ctd style=\"text-align: left;\"\u003e\u003cstrong\u003eCluster type:\u003c/strong\u003e dask_gateway.GatewayCluster\u003c/td\u003e\n        \n        \u003c/tr\u003e\n\n        \n            \u003ctr\u003e\n                \u003ctd style=\"text-align: left;\"\u003e\n                    \u003cstrong\u003eDashboard: \u003c/strong\u003e \u003ca href=\"https://hub-otc-sc.eox.at/services/eoxhub-gateway/earthcode-bids/traefik-dask-gateway/clusters/earthcode-bids.813dadac246942feb61c49073c8e779b/status\" target=\"_blank\"\u003ehttps://hub-otc-sc.eox.at/services/eoxhub-gateway/earthcode-bids/traefik-dask-gateway/clusters/earthcode-bids.813dadac246942feb61c49073c8e779b/status\u003c/a\u003e\n                \u003c/td\u003e\n                \u003ctd style=\"text-align: left;\"\u003e\u003c/td\u003e\n            \u003c/tr\u003e\n        \n\n        \u003c/table\u003e\n\n        \n\n        \n            \u003cdetails\u003e\n            \u003csummary style=\"margin-bottom: 20px;\"\u003e\u003ch3 style=\"display: inline;\"\u003eCluster Info\u003c/h3\u003e\u003c/summary\u003e\n            \u003cdiv style='background-color: #f2f2f2; display: inline-block; padding: 10px; border: 1px solid #999999;'\u003e\n  \u003ch3\u003eGatewayCluster\u003c/h3\u003e\n  \u003cul\u003e\n    \u003cli\u003e\u003cb\u003eName: \u003c/b\u003eearthcode-bids.813dadac246942feb61c49073c8e779b\n    \u003cli\u003e\u003cb\u003eDashboard: \u003c/b\u003e\u003ca href='https://hub-otc-sc.eox.at/services/eoxhub-gateway/earthcode-bids/traefik-dask-gateway/clusters/earthcode-bids.813dadac246942feb61c49073c8e779b/status' target='_blank'\u003ehttps://hub-otc-sc.eox.at/services/eoxhub-gateway/earthcode-bids/traefik-dask-gateway/clusters/earthcode-bids.813dadac246942feb61c49073c8e779b/status\u003c/a\u003e\n  \u003c/ul\u003e\n\u003c/div\u003e\n\n            \u003c/details\u003e\n        \n\n    \u003c/div\u003e\n\u003c/div\u003e","content_type":"text/html"},"text/plain":{"content":"\u003cClient: 'tls://172.16.0.88:8786' processes=0 threads=0, memory=0 B\u003e","content_type":"text/plain"}}}],"key":"MuynWFtIqT"}],"key":"bgwuniyTYo"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# or create a local dask cluster on a local machine.\n\n# from dask.distributed import Client\n# client = Client()   \n# client\n# # client.close()","key":"OYNk1hO0SK"},{"type":"output","id":"nN69HbRMpGbVjetZRuWj0","data":[],"key":"PEvWgru3Dc"}],"key":"wJrS0x59Bx"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Load the Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YwW0GaqwmK"}],"identifier":"load-the-data","label":"Load the Data","html_id":"load-the-data","implicit":true,"key":"FS8rMW6GGK"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Lazy load in data in Xarray as described in the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"FnuEiWgpLR"},{"type":"link","url":"/xarray101","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"xarray 101 guide","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"A5WrKIOyQu"}],"urlSource":"../pangeo101/xarray101.ipynb","dataUrl":"/xarray101.json","internal":true,"protocol":"file","key":"t9B5ZxlqGu"},{"type":"text","value":". Note that the SeasFire data is +100GB and hosted remotely, we are just loading metadata, xarray will load only the chunks (dask data arrays) needed for our computations as discussed in the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"E9y5Ypq3HB"},{"type":"link","url":"/dask101","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"dask 101 guide","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"kvP7uKvFqI"}],"urlSource":"../pangeo101/dask101.ipynb","dataUrl":"/dask101.json","internal":true,"protocol":"file","key":"XAXHLyoHeD"},{"type":"text","value":".","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"d5RldZ0Y6G"}],"key":"fNazTIhb9l"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"The SeasFire Cube contains various variables for forecasting seasonal fires across the globe, we will specifically be using it to access historical wildfire data:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"F4IBfAHP4l"}],"key":"IpDC3NHl20"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"The SeasFire Cube is a scientific datacube for seasonal fire forecasting around the globe. It has been created for the SeasFire project, that adresses ‘Earth System Deep Learning for Seasonal Fire Forecasting’ and is funded by the European Space Agency (ESA)  in the context of ESA Future EO-1 Science for Society Call. It contains almost 20 years of data (2001-2021) in an 8-days time resolution and 0.25 degrees grid resolution. It has a diverse range of seasonal fire drivers. It expands from atmospheric and climatological ones to vegetation variables, socioeconomic and the target variables related to wildfires such as burned areas, fire radiative power, and wildfire-related CO2 emissions.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"MsxzZKgU8a"}],"key":"aZoDQUDrb9"}],"key":"dkyrpgQ4Gj"}],"key":"mbnvTnyy0r"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"http_url = \"https://s3.waw4-1.cloudferro.com/EarthCODE/OSCAssets/seasfire/seasfire_v0.4.zarr/\"\n\nds = xarray.open_dataset(\n\thttp_url,\n\tengine='zarr',\n    chunks={},\n\tconsolidated=True\n\t# storage_options = {'token': 'anon'}\n)\nds","key":"TFSLljgcp7"},{"type":"output","id":"49NKku-vwuXe2V6yj1Rzt","data":[{"output_type":"execute_result","execution_count":7,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"f421e53f98d2d7a01749d9566bb629cd","path":"/tutorials/build/f421e53f98d2d7a01749d9566bb629cd.html"},"text/plain":{"content":"\u003cxarray.Dataset\u003e Size: 164GB\nDimensions:                         (latitude: 720, longitude: 1440, time: 966)\nCoordinates:\n  * latitude                        (latitude) float64 6kB 89.88 ... -89.88\n  * longitude                       (longitude) float64 12kB -179.9 ... 179.9\n  * time                            (time) datetime64[ns] 8kB 2001-01-01 ... ...\nData variables: (12/59)\n    area                            (latitude, longitude) float32 4MB dask.array\u003cchunksize=(180, 360), meta=np.ndarray\u003e\n    biomes                          (latitude, longitude) float32 4MB dask.array\u003cchunksize=(180, 360), meta=np.ndarray\u003e\n    cams_co2fire                    (time, latitude, longitude) float32 4GB dask.array\u003cchunksize=(966, 180, 360), meta=np.ndarray\u003e\n    cams_frpfire                    (time, latitude, longitude) float32 4GB dask.array\u003cchunksize=(966, 180, 360), meta=np.ndarray\u003e\n    drought_code_max                (time, latitude, longitude) float32 4GB dask.array\u003cchunksize=(966, 180, 360), meta=np.ndarray\u003e\n    drought_code_mean               (time, latitude, longitude) float32 4GB dask.array\u003cchunksize=(966, 180, 360), meta=np.ndarray\u003e\n    ...                              ...\n    t2m_max                         (time, latitude, longitude) float32 4GB dask.array\u003cchunksize=(966, 180, 360), meta=np.ndarray\u003e\n    t2m_mean                        (time, latitude, longitude) float32 4GB dask.array\u003cchunksize=(966, 180, 360), meta=np.ndarray\u003e\n    t2m_min                         (time, latitude, longitude) float32 4GB dask.array\u003cchunksize=(966, 180, 360), meta=np.ndarray\u003e\n    tp                              (time, latitude, longitude) float32 4GB dask.array\u003cchunksize=(966, 180, 360), meta=np.ndarray\u003e\n    vpd                             (time, latitude, longitude) float32 4GB dask.array\u003cchunksize=(966, 180, 360), meta=np.ndarray\u003e\n    ws10                            (time, latitude, longitude) float32 4GB dask.array\u003cchunksize=(966, 180, 360), meta=np.ndarray\u003e\nAttributes:\n    crs:          EPSG:4326\n    description:  The SeasFire Cube is a scientific datacube for seasonal fir...\n    title:        SeasFire Cube: A Global Dataset for Seasonal Fire Modeling ...","content_type":"text/plain"}}}],"key":"x6UjYC0kc3"}],"key":"UMKDWnP4WO"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Analyse Wildfires","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aVi9UWzNrl"}],"identifier":"analyse-wildfires","label":"Analyse Wildfires","html_id":"analyse-wildfires","implicit":true,"key":"KH8eVy05DB"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Our first task will be to find the date of the largest burnt area over the region we were previously exploring, so that we may analyse it in detail.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"Yk9MLrPSMO"}],"key":"AMJDr2xhFI"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"One of the data variables from the SeasFire DataCube is the Burned Areas data from Global Wildfire Information System (GWIS). Each entry gives us the hectares (ha) of burnt area in that region. Note that our input resolution is 0.25 degrees (approx. 28x28 km per pixel), spanning 20 years (2001-2021) at an 8 days time resolution.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"y3addrkNx4"}],"key":"SpFsBcGD4g"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"First we lazy load just the GWIS dataset in a variable for convenience (note that again, this does not take up a large amount of memory since we’re just working with the metadata at this point)","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"KEmREEJXFp"}],"key":"mb7jQFBVnU"}],"key":"gqvnd82aNv"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"gwis = ds.gwis_ba\ngwis","key":"r5kJbr0C0P"},{"type":"output","id":"OLpcQi6XCy4XsB8YNIJT-","data":[{"output_type":"execute_result","execution_count":8,"metadata":{},"data":{"text/html":{"content":"\u003cdiv\u003e\u003csvg style=\"position: absolute; width: 0; height: 0; overflow: hidden\"\u003e\n\u003cdefs\u003e\n\u003csymbol id=\"icon-database\" viewBox=\"0 0 32 32\"\u003e\n\u003cpath d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"\u003e\u003c/path\u003e\n\u003cpath d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"\u003e\u003c/path\u003e\n\u003cpath d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"\u003e\u003c/path\u003e\n\u003c/symbol\u003e\n\u003csymbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\"\u003e\n\u003cpath d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"\u003e\u003c/path\u003e\n\u003cpath d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"\u003e\u003c/path\u003e\n\u003cpath d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"\u003e\u003c/path\u003e\n\u003cpath d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"\u003e\u003c/path\u003e\n\u003c/symbol\u003e\n\u003c/defs\u003e\n\u003c/svg\u003e\n\u003cstyle\u003e/* CSS stylesheet for displaying xarray objects in jupyterlab.\n *\n */\n\n:root {\n  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));\n  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));\n  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));\n  --xr-border-color: var(--jp-border-color2, #e0e0e0);\n  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);\n  --xr-background-color: var(--jp-layout-color0, white);\n  --xr-background-color-row-even: var(--jp-layout-color1, white);\n  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);\n}\n\nhtml[theme=\"dark\"],\nhtml[data-theme=\"dark\"],\nbody[data-theme=\"dark\"],\nbody.vscode-dark {\n  --xr-font-color0: rgba(255, 255, 255, 1);\n  --xr-font-color2: rgba(255, 255, 255, 0.54);\n  --xr-font-color3: rgba(255, 255, 255, 0.38);\n  --xr-border-color: #1f1f1f;\n  --xr-disabled-color: #515151;\n  --xr-background-color: #111111;\n  --xr-background-color-row-even: #111111;\n  --xr-background-color-row-odd: #313131;\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header \u003e div,\n.xr-header \u003e ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-array-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: inline-block;\n  opacity: 0;\n  height: 0;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:focus + label {\n  border: 2px solid var(--xr-font-color0);\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary \u003e span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: \"►\";\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: \"▼\";\n}\n\n.xr-section-summary-in:checked + label \u003e span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap \u003e label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: \"(\";\n}\n\n.xr-dim-list:after {\n  content: \")\";\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: \",\";\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item \u003e div,\n.xr-var-item label,\n.xr-var-item \u003e .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  margin-bottom: 0;\n}\n\n.xr-var-item \u003e .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list \u003e li:nth-child(odd) \u003e div,\n.xr-var-list \u003e li:nth-child(odd) \u003e label,\n.xr-var-list \u003e li:nth-child(odd) \u003e .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  background-color: var(--xr-background-color) !important;\n  padding-bottom: 5px !important;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data \u003e table {\n  float: right;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\u003c/style\u003e\u003cpre class='xr-text-repr-fallback'\u003e\u0026lt;xarray.DataArray \u0026#x27;gwis_ba\u0026#x27; (time: 966, latitude: 720, longitude: 1440)\u0026gt; Size: 4GB\ndask.array\u0026lt;open_dataset-gwis_ba, shape=(966, 720, 1440), dtype=float32, chunksize=(966, 180, 360), chunktype=numpy.ndarray\u0026gt;\nCoordinates:\n  * latitude   (latitude) float64 6kB 89.88 89.62 89.38 ... -89.38 -89.62 -89.88\n  * longitude  (longitude) float64 12kB -179.9 -179.6 -179.4 ... 179.6 179.9\n  * time       (time) datetime64[ns] 8kB 2001-01-01 2001-01-09 ... 2021-12-27\nAttributes:\n    aggregation:      Spatio-Temporal | sum\n    creator_notes:    The missing data for the year 2001 has been filled with...\n    downloaded_from:  https://gwis.jrc.ec.europa.eu/apps/country.profile/down...\n    long_name:        Burned Areas from GWIS\n    provider:         Global Wildfire Information System (GWIS)\n    units:            hectares (ha)\u003c/pre\u003e\u003cdiv class='xr-wrap' style='display:none'\u003e\u003cdiv class='xr-header'\u003e\u003cdiv class='xr-obj-type'\u003exarray.DataArray\u003c/div\u003e\u003cdiv class='xr-array-name'\u003e'gwis_ba'\u003c/div\u003e\u003cul class='xr-dim-list'\u003e\u003cli\u003e\u003cspan class='xr-has-index'\u003etime\u003c/span\u003e: 966\u003c/li\u003e\u003cli\u003e\u003cspan class='xr-has-index'\u003elatitude\u003c/span\u003e: 720\u003c/li\u003e\u003cli\u003e\u003cspan class='xr-has-index'\u003elongitude\u003c/span\u003e: 1440\u003c/li\u003e\u003c/ul\u003e\u003c/div\u003e\u003cul class='xr-sections'\u003e\u003cli class='xr-section-item'\u003e\u003cdiv class='xr-array-wrap'\u003e\u003cinput id='section-973ac46d-a167-4958-874e-730f30ee23b0' class='xr-array-in' type='checkbox' checked\u003e\u003clabel for='section-973ac46d-a167-4958-874e-730f30ee23b0' title='Show/hide data repr'\u003e\u003csvg class='icon xr-icon-database'\u003e\u003cuse xlink:href='#icon-database'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cdiv class='xr-array-preview xr-preview'\u003e\u003cspan\u003edask.array\u0026lt;chunksize=(966, 180, 360), meta=np.ndarray\u0026gt;\u003c/span\u003e\u003c/div\u003e\u003cdiv class='xr-array-data'\u003e\u003ctable\u003e\n    \u003ctr\u003e\n        \u003ctd\u003e\n            \u003ctable style=\"border-collapse: collapse;\"\u003e\n                \u003cthead\u003e\n                    \u003ctr\u003e\n                        \u003ctd\u003e \u003c/td\u003e\n                        \u003cth\u003e Array \u003c/th\u003e\n                        \u003cth\u003e Chunk \u003c/th\u003e\n                    \u003c/tr\u003e\n                \u003c/thead\u003e\n                \u003ctbody\u003e\n                    \n                    \u003ctr\u003e\n                        \u003cth\u003e Bytes \u003c/th\u003e\n                        \u003ctd\u003e 3.73 GiB \u003c/td\u003e\n                        \u003ctd\u003e 238.79 MiB \u003c/td\u003e\n                    \u003c/tr\u003e\n                    \n                    \u003ctr\u003e\n                        \u003cth\u003e Shape \u003c/th\u003e\n                        \u003ctd\u003e (966, 720, 1440) \u003c/td\u003e\n                        \u003ctd\u003e (966, 180, 360) \u003c/td\u003e\n                    \u003c/tr\u003e\n                    \u003ctr\u003e\n                        \u003cth\u003e Dask graph \u003c/th\u003e\n                        \u003ctd colspan=\"2\"\u003e 16 chunks in 2 graph layers \u003c/td\u003e\n                    \u003c/tr\u003e\n                    \u003ctr\u003e\n                        \u003cth\u003e Data type \u003c/th\u003e\n                        \u003ctd colspan=\"2\"\u003e float32 numpy.ndarray \u003c/td\u003e\n                    \u003c/tr\u003e\n                \u003c/tbody\u003e\n            \u003c/table\u003e\n        \u003c/td\u003e\n        \u003ctd\u003e\n        \u003csvg width=\"227\" height=\"157\" style=\"stroke:rgb(0,0,0);stroke-width:1\" \u003e\n\n  \u003c!-- Horizontal lines --\u003e\n  \u003cline x1=\"10\" y1=\"0\" x2=\"57\" y2=\"47\" style=\"stroke-width:2\" /\u003e\n  \u003cline x1=\"10\" y1=\"15\" x2=\"57\" y2=\"62\" /\u003e\n  \u003cline x1=\"10\" y1=\"30\" x2=\"57\" y2=\"77\" /\u003e\n  \u003cline x1=\"10\" y1=\"45\" x2=\"57\" y2=\"92\" /\u003e\n  \u003cline x1=\"10\" y1=\"60\" x2=\"57\" y2=\"107\" style=\"stroke-width:2\" /\u003e\n\n  \u003c!-- Vertical lines --\u003e\n  \u003cline x1=\"10\" y1=\"0\" x2=\"10\" y2=\"60\" style=\"stroke-width:2\" /\u003e\n  \u003cline x1=\"57\" y1=\"47\" x2=\"57\" y2=\"107\" style=\"stroke-width:2\" /\u003e\n\n  \u003c!-- Colored Rectangle --\u003e\n  \u003cpolygon points=\"10.0,0.0 57.35294117647059,47.35294117647059 57.35294117647059,107.35294117647058 10.0,60.0\" style=\"fill:#ECB172A0;stroke-width:0\"/\u003e\n\n  \u003c!-- Horizontal lines --\u003e\n  \u003cline x1=\"10\" y1=\"0\" x2=\"130\" y2=\"0\" style=\"stroke-width:2\" /\u003e\n  \u003cline x1=\"57\" y1=\"47\" x2=\"177\" y2=\"47\" style=\"stroke-width:2\" /\u003e\n\n  \u003c!-- Vertical lines --\u003e\n  \u003cline x1=\"10\" y1=\"0\" x2=\"57\" y2=\"47\" style=\"stroke-width:2\" /\u003e\n  \u003cline x1=\"40\" y1=\"0\" x2=\"87\" y2=\"47\" /\u003e\n  \u003cline x1=\"70\" y1=\"0\" x2=\"117\" y2=\"47\" /\u003e\n  \u003cline x1=\"100\" y1=\"0\" x2=\"147\" y2=\"47\" /\u003e\n  \u003cline x1=\"130\" y1=\"0\" x2=\"177\" y2=\"47\" style=\"stroke-width:2\" /\u003e\n\n  \u003c!-- Colored Rectangle --\u003e\n  \u003cpolygon points=\"10.0,0.0 130.0,0.0 177.35294117647058,47.35294117647059 57.35294117647059,47.35294117647059\" style=\"fill:#ECB172A0;stroke-width:0\"/\u003e\n\n  \u003c!-- Horizontal lines --\u003e\n  \u003cline x1=\"57\" y1=\"47\" x2=\"177\" y2=\"47\" style=\"stroke-width:2\" /\u003e\n  \u003cline x1=\"57\" y1=\"62\" x2=\"177\" y2=\"62\" /\u003e\n  \u003cline x1=\"57\" y1=\"77\" x2=\"177\" y2=\"77\" /\u003e\n  \u003cline x1=\"57\" y1=\"92\" x2=\"177\" y2=\"92\" /\u003e\n  \u003cline x1=\"57\" y1=\"107\" x2=\"177\" y2=\"107\" style=\"stroke-width:2\" /\u003e\n\n  \u003c!-- Vertical lines --\u003e\n  \u003cline x1=\"57\" y1=\"47\" x2=\"57\" y2=\"107\" style=\"stroke-width:2\" /\u003e\n  \u003cline x1=\"87\" y1=\"47\" x2=\"87\" y2=\"107\" /\u003e\n  \u003cline x1=\"117\" y1=\"47\" x2=\"117\" y2=\"107\" /\u003e\n  \u003cline x1=\"147\" y1=\"47\" x2=\"147\" y2=\"107\" /\u003e\n  \u003cline x1=\"177\" y1=\"47\" x2=\"177\" y2=\"107\" style=\"stroke-width:2\" /\u003e\n\n  \u003c!-- Colored Rectangle --\u003e\n  \u003cpolygon points=\"57.35294117647059,47.35294117647059 177.35294117647058,47.35294117647059 177.35294117647058,107.35294117647058 57.35294117647059,107.35294117647058\" style=\"fill:#ECB172A0;stroke-width:0\"/\u003e\n\n  \u003c!-- Text --\u003e\n  \u003ctext x=\"117.352941\" y=\"127.352941\" font-size=\"1.0rem\" font-weight=\"100\" text-anchor=\"middle\" \u003e1440\u003c/text\u003e\n  \u003ctext x=\"197.352941\" y=\"77.352941\" font-size=\"1.0rem\" font-weight=\"100\" text-anchor=\"middle\" transform=\"rotate(-90,197.352941,77.352941)\"\u003e720\u003c/text\u003e\n  \u003ctext x=\"23.676471\" y=\"103.676471\" font-size=\"1.0rem\" font-weight=\"100\" text-anchor=\"middle\" transform=\"rotate(45,23.676471,103.676471)\"\u003e966\u003c/text\u003e\n\u003c/svg\u003e\n        \u003c/td\u003e\n    \u003c/tr\u003e\n\u003c/table\u003e\u003c/div\u003e\u003c/div\u003e\u003c/li\u003e\u003cli class='xr-section-item'\u003e\u003cinput id='section-4e3f1c73-1a19-486a-b987-6829b448c5b9' class='xr-section-summary-in' type='checkbox'  checked\u003e\u003clabel for='section-4e3f1c73-1a19-486a-b987-6829b448c5b9' class='xr-section-summary' \u003eCoordinates: \u003cspan\u003e(3)\u003c/span\u003e\u003c/label\u003e\u003cdiv class='xr-section-inline-details'\u003e\u003c/div\u003e\u003cdiv class='xr-section-details'\u003e\u003cul class='xr-var-list'\u003e\u003cli class='xr-var-item'\u003e\u003cdiv class='xr-var-name'\u003e\u003cspan class='xr-has-index'\u003elatitude\u003c/span\u003e\u003c/div\u003e\u003cdiv class='xr-var-dims'\u003e(latitude)\u003c/div\u003e\u003cdiv class='xr-var-dtype'\u003efloat64\u003c/div\u003e\u003cdiv class='xr-var-preview xr-preview'\u003e89.88 89.62 89.38 ... -89.62 -89.88\u003c/div\u003e\u003cinput id='attrs-6fa7ad99-0169-4bb8-b962-c901ea8f312f' class='xr-var-attrs-in' type='checkbox' \u003e\u003clabel for='attrs-6fa7ad99-0169-4bb8-b962-c901ea8f312f' title='Show/Hide attributes'\u003e\u003csvg class='icon xr-icon-file-text2'\u003e\u003cuse xlink:href='#icon-file-text2'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cinput id='data-0eef11fd-eb08-4c68-b81e-14e53e5573b0' class='xr-var-data-in' type='checkbox'\u003e\u003clabel for='data-0eef11fd-eb08-4c68-b81e-14e53e5573b0' title='Show/Hide data repr'\u003e\u003csvg class='icon xr-icon-database'\u003e\u003cuse xlink:href='#icon-database'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cdiv class='xr-var-attrs'\u003e\u003cdl class='xr-attrs'\u003e\u003cdt\u003e\u003cspan\u003eunits :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003edegrees\u003c/dd\u003e\u003c/dl\u003e\u003c/div\u003e\u003cdiv class='xr-var-data'\u003e\u003cpre\u003earray([ 89.875,  89.625,  89.375, ..., -89.375, -89.625, -89.875], shape=(720,))\u003c/pre\u003e\u003c/div\u003e\u003c/li\u003e\u003cli class='xr-var-item'\u003e\u003cdiv class='xr-var-name'\u003e\u003cspan class='xr-has-index'\u003elongitude\u003c/span\u003e\u003c/div\u003e\u003cdiv class='xr-var-dims'\u003e(longitude)\u003c/div\u003e\u003cdiv class='xr-var-dtype'\u003efloat64\u003c/div\u003e\u003cdiv class='xr-var-preview xr-preview'\u003e-179.9 -179.6 ... 179.6 179.9\u003c/div\u003e\u003cinput id='attrs-bfe19176-ec5d-4b94-99c4-8ff19810f9fd' class='xr-var-attrs-in' type='checkbox' \u003e\u003clabel for='attrs-bfe19176-ec5d-4b94-99c4-8ff19810f9fd' title='Show/Hide attributes'\u003e\u003csvg class='icon xr-icon-file-text2'\u003e\u003cuse xlink:href='#icon-file-text2'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cinput id='data-8ff2cb69-016d-4fd3-8ae3-1abdce6aeeae' class='xr-var-data-in' type='checkbox'\u003e\u003clabel for='data-8ff2cb69-016d-4fd3-8ae3-1abdce6aeeae' title='Show/Hide data repr'\u003e\u003csvg class='icon xr-icon-database'\u003e\u003cuse xlink:href='#icon-database'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cdiv class='xr-var-attrs'\u003e\u003cdl class='xr-attrs'\u003e\u003cdt\u003e\u003cspan\u003eunits :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003edegrees\u003c/dd\u003e\u003c/dl\u003e\u003c/div\u003e\u003cdiv class='xr-var-data'\u003e\u003cpre\u003earray([-179.875, -179.625, -179.375, ...,  179.375,  179.625,  179.875],\n      shape=(1440,))\u003c/pre\u003e\u003c/div\u003e\u003c/li\u003e\u003cli class='xr-var-item'\u003e\u003cdiv class='xr-var-name'\u003e\u003cspan class='xr-has-index'\u003etime\u003c/span\u003e\u003c/div\u003e\u003cdiv class='xr-var-dims'\u003e(time)\u003c/div\u003e\u003cdiv class='xr-var-dtype'\u003edatetime64[ns]\u003c/div\u003e\u003cdiv class='xr-var-preview xr-preview'\u003e2001-01-01 ... 2021-12-27\u003c/div\u003e\u003cinput id='attrs-a1ca1e5d-3b96-4f03-b6f7-a4ccdb0815a7' class='xr-var-attrs-in' type='checkbox' \u003e\u003clabel for='attrs-a1ca1e5d-3b96-4f03-b6f7-a4ccdb0815a7' title='Show/Hide attributes'\u003e\u003csvg class='icon xr-icon-file-text2'\u003e\u003cuse xlink:href='#icon-file-text2'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cinput id='data-b36310b3-368f-4eaf-9d06-dd6058e16ccb' class='xr-var-data-in' type='checkbox'\u003e\u003clabel for='data-b36310b3-368f-4eaf-9d06-dd6058e16ccb' title='Show/Hide data repr'\u003e\u003csvg class='icon xr-icon-database'\u003e\u003cuse xlink:href='#icon-database'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cdiv class='xr-var-attrs'\u003e\u003cdl class='xr-attrs'\u003e\u003cdt\u003e\u003cspan\u003edescription :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003eEach datetime initializes the first date of the 8 days time resolution. Ex. the 2001-01-01 has all information until 2001-01-07. It\u0026#x27;s year consists of 46 8-days datetimes, and every year begins from first of January (01-01). The last datetime (number 46) of each year, corresponds to 26 or 27 of December, depending if the year is a leap year or not. This means that it contains information for only 6 or 5 days respectively and not for 8 days as the rest.\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003eformat :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003eYYYY-MM-DD\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003etype :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003edatetime\u003c/dd\u003e\u003c/dl\u003e\u003c/div\u003e\u003cdiv class='xr-var-data'\u003e\u003cpre\u003earray([\u0026#x27;2001-01-01T00:00:00.000000000\u0026#x27;, \u0026#x27;2001-01-09T00:00:00.000000000\u0026#x27;,\n       \u0026#x27;2001-01-17T00:00:00.000000000\u0026#x27;, ..., \u0026#x27;2021-12-11T00:00:00.000000000\u0026#x27;,\n       \u0026#x27;2021-12-19T00:00:00.000000000\u0026#x27;, \u0026#x27;2021-12-27T00:00:00.000000000\u0026#x27;],\n      shape=(966,), dtype=\u0026#x27;datetime64[ns]\u0026#x27;)\u003c/pre\u003e\u003c/div\u003e\u003c/li\u003e\u003c/ul\u003e\u003c/div\u003e\u003c/li\u003e\u003cli class='xr-section-item'\u003e\u003cinput id='section-b0d55ba0-7430-4713-a5a9-8008aaabb9ef' class='xr-section-summary-in' type='checkbox'  \u003e\u003clabel for='section-b0d55ba0-7430-4713-a5a9-8008aaabb9ef' class='xr-section-summary' \u003eIndexes: \u003cspan\u003e(3)\u003c/span\u003e\u003c/label\u003e\u003cdiv class='xr-section-inline-details'\u003e\u003c/div\u003e\u003cdiv class='xr-section-details'\u003e\u003cul class='xr-var-list'\u003e\u003cli class='xr-var-item'\u003e\u003cdiv class='xr-index-name'\u003e\u003cdiv\u003elatitude\u003c/div\u003e\u003c/div\u003e\u003cdiv class='xr-index-preview'\u003ePandasIndex\u003c/div\u003e\u003cinput type='checkbox' disabled/\u003e\u003clabel\u003e\u003c/label\u003e\u003cinput id='index-fc1b2fad-ad22-4db2-ad98-7360ae84c3d8' class='xr-index-data-in' type='checkbox'/\u003e\u003clabel for='index-fc1b2fad-ad22-4db2-ad98-7360ae84c3d8' title='Show/Hide index repr'\u003e\u003csvg class='icon xr-icon-database'\u003e\u003cuse xlink:href='#icon-database'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cdiv class='xr-index-data'\u003e\u003cpre\u003ePandasIndex(Index([ 89.875,  89.625,  89.375,  89.125,  88.875,  88.625,  88.375,  88.125,\n        87.875,  87.625,\n       ...\n       -87.625, -87.875, -88.125, -88.375, -88.625, -88.875, -89.125, -89.375,\n       -89.625, -89.875],\n      dtype=\u0026#x27;float64\u0026#x27;, name=\u0026#x27;latitude\u0026#x27;, length=720))\u003c/pre\u003e\u003c/div\u003e\u003c/li\u003e\u003cli class='xr-var-item'\u003e\u003cdiv class='xr-index-name'\u003e\u003cdiv\u003elongitude\u003c/div\u003e\u003c/div\u003e\u003cdiv class='xr-index-preview'\u003ePandasIndex\u003c/div\u003e\u003cinput type='checkbox' disabled/\u003e\u003clabel\u003e\u003c/label\u003e\u003cinput id='index-ee455593-cc11-4b53-9963-cc69fa18588b' class='xr-index-data-in' type='checkbox'/\u003e\u003clabel for='index-ee455593-cc11-4b53-9963-cc69fa18588b' title='Show/Hide index repr'\u003e\u003csvg class='icon xr-icon-database'\u003e\u003cuse xlink:href='#icon-database'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cdiv class='xr-index-data'\u003e\u003cpre\u003ePandasIndex(Index([-179.875, -179.625, -179.375, -179.125, -178.875, -178.625, -178.375,\n       -178.125, -177.875, -177.625,\n       ...\n        177.625,  177.875,  178.125,  178.375,  178.625,  178.875,  179.125,\n        179.375,  179.625,  179.875],\n      dtype=\u0026#x27;float64\u0026#x27;, name=\u0026#x27;longitude\u0026#x27;, length=1440))\u003c/pre\u003e\u003c/div\u003e\u003c/li\u003e\u003cli class='xr-var-item'\u003e\u003cdiv class='xr-index-name'\u003e\u003cdiv\u003etime\u003c/div\u003e\u003c/div\u003e\u003cdiv class='xr-index-preview'\u003ePandasIndex\u003c/div\u003e\u003cinput type='checkbox' disabled/\u003e\u003clabel\u003e\u003c/label\u003e\u003cinput id='index-acaca2a7-9f75-4971-866e-653218099082' class='xr-index-data-in' type='checkbox'/\u003e\u003clabel for='index-acaca2a7-9f75-4971-866e-653218099082' title='Show/Hide index repr'\u003e\u003csvg class='icon xr-icon-database'\u003e\u003cuse xlink:href='#icon-database'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cdiv class='xr-index-data'\u003e\u003cpre\u003ePandasIndex(DatetimeIndex([\u0026#x27;2001-01-01\u0026#x27;, \u0026#x27;2001-01-09\u0026#x27;, \u0026#x27;2001-01-17\u0026#x27;, \u0026#x27;2001-01-25\u0026#x27;,\n               \u0026#x27;2001-02-02\u0026#x27;, \u0026#x27;2001-02-10\u0026#x27;, \u0026#x27;2001-02-18\u0026#x27;, \u0026#x27;2001-02-26\u0026#x27;,\n               \u0026#x27;2001-03-06\u0026#x27;, \u0026#x27;2001-03-14\u0026#x27;,\n               ...\n               \u0026#x27;2021-10-16\u0026#x27;, \u0026#x27;2021-10-24\u0026#x27;, \u0026#x27;2021-11-01\u0026#x27;, \u0026#x27;2021-11-09\u0026#x27;,\n               \u0026#x27;2021-11-17\u0026#x27;, \u0026#x27;2021-11-25\u0026#x27;, \u0026#x27;2021-12-03\u0026#x27;, \u0026#x27;2021-12-11\u0026#x27;,\n               \u0026#x27;2021-12-19\u0026#x27;, \u0026#x27;2021-12-27\u0026#x27;],\n              dtype=\u0026#x27;datetime64[ns]\u0026#x27;, name=\u0026#x27;time\u0026#x27;, length=966, freq=None))\u003c/pre\u003e\u003c/div\u003e\u003c/li\u003e\u003c/ul\u003e\u003c/div\u003e\u003c/li\u003e\u003cli class='xr-section-item'\u003e\u003cinput id='section-ab5749bb-9824-4e6e-a0e6-2561b4a87647' class='xr-section-summary-in' type='checkbox'  checked\u003e\u003clabel for='section-ab5749bb-9824-4e6e-a0e6-2561b4a87647' class='xr-section-summary' \u003eAttributes: \u003cspan\u003e(6)\u003c/span\u003e\u003c/label\u003e\u003cdiv class='xr-section-inline-details'\u003e\u003c/div\u003e\u003cdiv class='xr-section-details'\u003e\u003cdl class='xr-attrs'\u003e\u003cdt\u003e\u003cspan\u003eaggregation :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003eSpatio-Temporal | sum\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003ecreator_notes :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003eThe missing data for the year 2001 has been filled with NaN values. The dataset is constructed using the ignition dates of the burned areas shapefiles. Each year is divided into 46 periods of 8 days, with the last period in December consisting of either 5 or 6 days, depending on whether it is a leap year.\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003edownloaded_from :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003ehttps://gwis.jrc.ec.europa.eu/apps/country.profile/downloads\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003elong_name :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003eBurned Areas from GWIS\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003eprovider :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003eGlobal Wildfire Information System (GWIS)\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003eunits :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003ehectares (ha)\u003c/dd\u003e\u003c/dl\u003e\u003c/div\u003e\u003c/li\u003e\u003c/ul\u003e\u003c/div\u003e\u003c/div\u003e","content_type":"text/html"},"text/plain":{"content":"\u003cxarray.DataArray 'gwis_ba' (time: 966, latitude: 720, longitude: 1440)\u003e Size: 4GB\ndask.array\u003copen_dataset-gwis_ba, shape=(966, 720, 1440), dtype=float32, chunksize=(966, 180, 360), chunktype=numpy.ndarray\u003e\nCoordinates:\n  * latitude   (latitude) float64 6kB 89.88 89.62 89.38 ... -89.38 -89.62 -89.88\n  * longitude  (longitude) float64 12kB -179.9 -179.6 -179.4 ... 179.6 179.9\n  * time       (time) datetime64[ns] 8kB 2001-01-01 2001-01-09 ... 2021-12-27\nAttributes:\n    aggregation:      Spatio-Temporal | sum\n    creator_notes:    The missing data for the year 2001 has been filled with...\n    downloaded_from:  https://gwis.jrc.ec.europa.eu/apps/country.profile/down...\n    long_name:        Burned Areas from GWIS\n    provider:         Global Wildfire Information System (GWIS)\n    units:            hectares (ha)","content_type":"text/plain"}}}],"key":"H2vaVJTxgU"}],"key":"iVJBQjvUj3"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Spatial and Temporal Subsetting","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"V6GPenVUFD"}],"identifier":"spatial-and-temporal-subsetting","label":"Spatial and Temporal Subsetting","html_id":"spatial-and-temporal-subsetting","implicit":true,"key":"bZoV08wsOo"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"It’s best practice to subset only the relevant data before doing computations, to reduce needed computations and data downloads. Especialyl when working with larger datasets. We will select an area of interest (aoi) as below using the polygon we previously downloaded from the xcube viewer.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"x5c2mx8VpU"}],"key":"zXiKgezxCj"}],"key":"ZUq8lSYY2j"},{"type":"block","kind":"notebook-code","data":{"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"# Spatial Slices\nepsg = 4326 # our data's projection\n\ngdf = gpd.read_file(\"../aoi/feature.geojson\")\ngdf = gdf.set_crs(epsg=epsg)\ngdf.explore()","key":"qfpWk08i9h"},{"type":"output","id":"lGALUewXIeojws3JdmA_P","data":[{"output_type":"execute_result","execution_count":9,"metadata":{},"data":{"text/html":{"content":"\u003cdiv style=\"width:100%;\"\u003e\u003cdiv style=\"position:relative;width:100%;height:0;padding-bottom:60%;\"\u003e\u003cspan style=\"color:#565656\"\u003eMake this Notebook Trusted to load map: File -\u003e Trust Notebook\u003c/span\u003e\u003ciframe srcdoc=\"\u0026lt;!DOCTYPE html\u0026gt;\n\u0026lt;html\u0026gt;\n\u0026lt;head\u0026gt;\n    \n    \u0026lt;meta http-equiv=\u0026quot;content-type\u0026quot; content=\u0026quot;text/html; charset=UTF-8\u0026quot; /\u0026gt;\n    \n        \u0026lt;script\u0026gt;\n            L_NO_TOUCH = false;\n            L_DISABLE_3D = false;\n        \u0026lt;/script\u0026gt;\n    \n    \u0026lt;style\u0026gt;html, body {width: 100%;height: 100%;margin: 0;padding: 0;}\u0026lt;/style\u0026gt;\n    \u0026lt;style\u0026gt;#map {position:absolute;top:0;bottom:0;right:0;left:0;}\u0026lt;/style\u0026gt;\n    \u0026lt;script src=\u0026quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js\u0026quot;\u0026gt;\u0026lt;/script\u0026gt;\n    \u0026lt;script src=\u0026quot;https://code.jquery.com/jquery-3.7.1.min.js\u0026quot;\u0026gt;\u0026lt;/script\u0026gt;\n    \u0026lt;script src=\u0026quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js\u0026quot;\u0026gt;\u0026lt;/script\u0026gt;\n    \u0026lt;script src=\u0026quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js\u0026quot;\u0026gt;\u0026lt;/script\u0026gt;\n    \u0026lt;link rel=\u0026quot;stylesheet\u0026quot; href=\u0026quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css\u0026quot;/\u0026gt;\n    \u0026lt;link rel=\u0026quot;stylesheet\u0026quot; href=\u0026quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css\u0026quot;/\u0026gt;\n    \u0026lt;link rel=\u0026quot;stylesheet\u0026quot; href=\u0026quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css\u0026quot;/\u0026gt;\n    \u0026lt;link rel=\u0026quot;stylesheet\u0026quot; href=\u0026quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css\u0026quot;/\u0026gt;\n    \u0026lt;link rel=\u0026quot;stylesheet\u0026quot; href=\u0026quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css\u0026quot;/\u0026gt;\n    \u0026lt;link rel=\u0026quot;stylesheet\u0026quot; href=\u0026quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css\u0026quot;/\u0026gt;\n    \n            \u0026lt;meta name=\u0026quot;viewport\u0026quot; content=\u0026quot;width=device-width,\n                initial-scale=1.0, maximum-scale=1.0, user-scalable=no\u0026quot; /\u0026gt;\n            \u0026lt;style\u0026gt;\n                #map_f82fec5ec54f7cbd8399f1bd686f1652 {\n                    position: relative;\n                    width: 100.0%;\n                    height: 100.0%;\n                    left: 0.0%;\n                    top: 0.0%;\n                }\n                .leaflet-container { font-size: 1rem; }\n            \u0026lt;/style\u0026gt;\n        \n    \n                    \u0026lt;style\u0026gt;\n                        .foliumtooltip {\n                            \n                        }\n                       .foliumtooltip table{\n                            margin: auto;\n                        }\n                        .foliumtooltip tr{\n                            text-align: left;\n                        }\n                        .foliumtooltip th{\n                            padding: 2px; padding-right: 8px;\n                        }\n                    \u0026lt;/style\u0026gt;\n            \n\u0026lt;/head\u0026gt;\n\u0026lt;body\u0026gt;\n    \n    \n            \u0026lt;div class=\u0026quot;folium-map\u0026quot; id=\u0026quot;map_f82fec5ec54f7cbd8399f1bd686f1652\u0026quot; \u0026gt;\u0026lt;/div\u0026gt;\n        \n\u0026lt;/body\u0026gt;\n\u0026lt;script\u0026gt;\n    \n    \n            var map_f82fec5ec54f7cbd8399f1bd686f1652 = L.map(\n                \u0026quot;map_f82fec5ec54f7cbd8399f1bd686f1652\u0026quot;,\n                {\n                    center: [41.749958454337275, -7.996767585316725],\n                    crs: L.CRS.EPSG3857,\n                    ...{\n  \u0026quot;zoom\u0026quot;: 10,\n  \u0026quot;zoomControl\u0026quot;: true,\n  \u0026quot;preferCanvas\u0026quot;: false,\n}\n\n                }\n            );\n            L.control.scale().addTo(map_f82fec5ec54f7cbd8399f1bd686f1652);\n\n            \n\n        \n    \n            var tile_layer_a67fd9b79270175a590ce41f7a1bf05e = L.tileLayer(\n                \u0026quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png\u0026quot;,\n                {\n  \u0026quot;minZoom\u0026quot;: 0,\n  \u0026quot;maxZoom\u0026quot;: 19,\n  \u0026quot;maxNativeZoom\u0026quot;: 19,\n  \u0026quot;noWrap\u0026quot;: false,\n  \u0026quot;attribution\u0026quot;: \u0026quot;\\u0026copy; \\u003ca href=\\\u0026quot;https://www.openstreetmap.org/copyright\\\u0026quot;\\u003eOpenStreetMap\\u003c/a\\u003e contributors\u0026quot;,\n  \u0026quot;subdomains\u0026quot;: \u0026quot;abc\u0026quot;,\n  \u0026quot;detectRetina\u0026quot;: false,\n  \u0026quot;tms\u0026quot;: false,\n  \u0026quot;opacity\u0026quot;: 1,\n}\n\n            );\n        \n    \n            tile_layer_a67fd9b79270175a590ce41f7a1bf05e.addTo(map_f82fec5ec54f7cbd8399f1bd686f1652);\n        \n    \n            map_f82fec5ec54f7cbd8399f1bd686f1652.fitBounds(\n                [[41.62546618757381, -8.151080551544425], [41.87445072110074, -7.842454619089026]],\n                {}\n            );\n        \n    \n        function geo_json_ecb7d76bfe8b6a0d682ac1be6fdeb6b9_styler(feature) {\n            switch(feature.id) {\n                default:\n                    return {\u0026quot;fillOpacity\u0026quot;: 0.5, \u0026quot;weight\u0026quot;: 2};\n            }\n        }\n        function geo_json_ecb7d76bfe8b6a0d682ac1be6fdeb6b9_highlighter(feature) {\n            switch(feature.id) {\n                default:\n                    return {\u0026quot;fillOpacity\u0026quot;: 0.75};\n            }\n        }\n        function geo_json_ecb7d76bfe8b6a0d682ac1be6fdeb6b9_pointToLayer(feature, latlng) {\n            var opts = {\u0026quot;bubblingMouseEvents\u0026quot;: true, \u0026quot;color\u0026quot;: \u0026quot;#3388ff\u0026quot;, \u0026quot;dashArray\u0026quot;: null, \u0026quot;dashOffset\u0026quot;: null, \u0026quot;fill\u0026quot;: true, \u0026quot;fillColor\u0026quot;: \u0026quot;#3388ff\u0026quot;, \u0026quot;fillOpacity\u0026quot;: 0.2, \u0026quot;fillRule\u0026quot;: \u0026quot;evenodd\u0026quot;, \u0026quot;lineCap\u0026quot;: \u0026quot;round\u0026quot;, \u0026quot;lineJoin\u0026quot;: \u0026quot;round\u0026quot;, \u0026quot;opacity\u0026quot;: 1.0, \u0026quot;radius\u0026quot;: 2, \u0026quot;stroke\u0026quot;: true, \u0026quot;weight\u0026quot;: 3};\n            \n            let style = geo_json_ecb7d76bfe8b6a0d682ac1be6fdeb6b9_styler(feature)\n            Object.assign(opts, style)\n            \n            return new L.CircleMarker(latlng, opts)\n        }\n\n        function geo_json_ecb7d76bfe8b6a0d682ac1be6fdeb6b9_onEachFeature(feature, layer) {\n            layer.on({\n                mouseout: function(e) {\n                    if(typeof e.target.setStyle === \u0026quot;function\u0026quot;){\n                            geo_json_ecb7d76bfe8b6a0d682ac1be6fdeb6b9.resetStyle(e.target);\n                    }\n                },\n                mouseover: function(e) {\n                    if(typeof e.target.setStyle === \u0026quot;function\u0026quot;){\n                        const highlightStyle = geo_json_ecb7d76bfe8b6a0d682ac1be6fdeb6b9_highlighter(e.target.feature)\n                        e.target.setStyle(highlightStyle);\n                    }\n                },\n            });\n        };\n        var geo_json_ecb7d76bfe8b6a0d682ac1be6fdeb6b9 = L.geoJson(null, {\n                onEachFeature: geo_json_ecb7d76bfe8b6a0d682ac1be6fdeb6b9_onEachFeature,\n            \n                style: geo_json_ecb7d76bfe8b6a0d682ac1be6fdeb6b9_styler,\n                pointToLayer: geo_json_ecb7d76bfe8b6a0d682ac1be6fdeb6b9_pointToLayer,\n            ...{\n}\n        });\n\n        function geo_json_ecb7d76bfe8b6a0d682ac1be6fdeb6b9_add (data) {\n            geo_json_ecb7d76bfe8b6a0d682ac1be6fdeb6b9\n                .addData(data);\n        }\n            geo_json_ecb7d76bfe8b6a0d682ac1be6fdeb6b9_add({\u0026quot;bbox\u0026quot;: [-8.151080551544425, 41.62546618757381, -7.842454619089026, 41.87445072110074], \u0026quot;features\u0026quot;: [{\u0026quot;bbox\u0026quot;: [-8.151080551544425, 41.62546618757381, -7.842454619089026, 41.87445072110074], \u0026quot;geometry\u0026quot;: {\u0026quot;coordinates\u0026quot;: [[[-8.146996977155997, 41.86752176608837], [-8.151080551544425, 41.62546618757381], [-7.842454619089026, 41.63184962633949], [-7.846980686058243, 41.87445072110074], [-8.146996977155997, 41.86752176608837]]], \u0026quot;type\u0026quot;: \u0026quot;Polygon\u0026quot;}, \u0026quot;id\u0026quot;: \u0026quot;0\u0026quot;, \u0026quot;properties\u0026quot;: {\u0026quot;color\u0026quot;: \u0026quot;red\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;user-polygon-6c12f10a067368\u0026quot;, \u0026quot;label\u0026quot;: \u0026quot;Polygon 1\u0026quot;}, \u0026quot;type\u0026quot;: \u0026quot;Feature\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;FeatureCollection\u0026quot;});\n\n        \n    \n    geo_json_ecb7d76bfe8b6a0d682ac1be6fdeb6b9.bindTooltip(\n    function(layer){\n    let div = L.DomUtil.create(\u0026#x27;div\u0026#x27;);\n    \n    let handleObject = feature=\u0026gt;typeof(feature)==\u0026#x27;object\u0026#x27; ? JSON.stringify(feature) : feature;\n    let fields = [\u0026quot;id\u0026quot;, \u0026quot;label\u0026quot;, \u0026quot;color\u0026quot;];\n    let aliases = [\u0026quot;id\u0026quot;, \u0026quot;label\u0026quot;, \u0026quot;color\u0026quot;];\n    let table = \u0026#x27;\u0026lt;table\u0026gt;\u0026#x27; +\n        String(\n        fields.map(\n        (v,i)=\u0026gt;\n        `\u0026lt;tr\u0026gt;\n            \u0026lt;th\u0026gt;${aliases[i]}\u0026lt;/th\u0026gt;\n            \n            \u0026lt;td\u0026gt;${handleObject(layer.feature.properties[v])}\u0026lt;/td\u0026gt;\n        \u0026lt;/tr\u0026gt;`).join(\u0026#x27;\u0026#x27;))\n    +\u0026#x27;\u0026lt;/table\u0026gt;\u0026#x27;;\n    div.innerHTML=table;\n    \n    return div\n    }\n    ,{\n  \u0026quot;sticky\u0026quot;: true,\n  \u0026quot;className\u0026quot;: \u0026quot;foliumtooltip\u0026quot;,\n});\n                     \n    \n            geo_json_ecb7d76bfe8b6a0d682ac1be6fdeb6b9.addTo(map_f82fec5ec54f7cbd8399f1bd686f1652);\n        \n\u0026lt;/script\u0026gt;\n\u0026lt;/html\u0026gt;\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;\" allowfullscreen webkitallowfullscreen mozallowfullscreen\u003e\u003c/iframe\u003e\u003c/div\u003e\u003c/div\u003e","content_type":"text/html"},"text/plain":{"content":"\u003cfolium.folium.Map at 0x7efba3d20050\u003e","content_type":"text/plain"}}}],"key":"hyWKtpIN4X"}],"key":"nNlVvqONZq"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"\n\nmin_lon, min_lat, max_lon, max_lat = gdf.total_bounds\n\n# find the nearest points on our grid\nlat_start = gwis.latitude.sel(latitude=max_lat, method=\"nearest\").item()\nlat_stop  = gwis.latitude.sel(latitude=min_lat, method=\"nearest\").item()\nlon_start = gwis.longitude.sel(longitude=min_lon, method=\"nearest\").item()\nlon_stop  = gwis.longitude.sel(longitude=max_lon, method=\"nearest\").item()\n\nlat_slice = slice(lat_start, lat_stop)\nlon_slice = slice(lon_start, lon_stop)\n\nlon_start, lat_start, lon_stop, lat_stop","key":"XW4Tb5jySu"},{"type":"output","id":"WiwJk6NOM_XUgOG3b5Bih","data":[{"output_type":"execute_result","execution_count":10,"metadata":{},"data":{"text/plain":{"content":"(-8.125, 41.875, -7.875, 41.625)","content_type":"text/plain"}}}],"key":"uQxFERgJuj"}],"key":"tOq8rN2iQ6"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"bbox=[lon_stop , lat_stop , lon_start, lat_start]","key":"njoFRWnfPC"},{"type":"output","id":"RyagR3uGApwJWzh-AgWjU","data":[],"key":"PLYlf4I37Q"}],"key":"BbrIjERpaM"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We additionally will subest our data temporally to fetch only more recent periods from 2018 - 2021.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"duv6v3rDDI"}],"key":"MdFj2UdVVb"}],"key":"LCLDwSNQ3A"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"time_slice = slice('2018-01-01','2021-01-01')","key":"MkMPqQipNk"},{"type":"output","id":"hD6ihIE8uJVCdmlOYBUK_","data":[],"key":"RUDGyAh9Yf"}],"key":"eirj2TT31a"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We now simply subset the data using the slices we created. Note how the data of our computation has reduced significantly","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"gmWAhKOYOX"}],"key":"qP1NuHAWuU"}],"key":"nCRV4MBdwq"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# spatio temporal subset\ngwis_aoi = gwis.sel(time=time_slice, latitude=lat_slice,longitude=lon_slice)\ngwis_aoi","key":"JGqDNc8GmC"},{"type":"output","id":"CMUFFuowcdzDY4QP-nySX","data":[{"output_type":"execute_result","execution_count":13,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"31f124723c211a0bd2242592e805b0f8","path":"/tutorials/build/31f124723c211a0bd2242592e805b0f8.html"},"text/plain":{"content":"\u003cxarray.DataArray 'gwis_ba' (time: 139, latitude: 2, longitude: 2)\u003e Size: 2kB\ndask.array\u003cgetitem, shape=(139, 2, 2), dtype=float32, chunksize=(139, 2, 2), chunktype=numpy.ndarray\u003e\nCoordinates:\n  * latitude   (latitude) float64 16B 41.88 41.62\n  * longitude  (longitude) float64 16B -8.125 -7.875\n  * time       (time) datetime64[ns] 1kB 2018-01-01 2018-01-09 ... 2021-01-01\nAttributes:\n    aggregation:      Spatio-Temporal | sum\n    creator_notes:    The missing data for the year 2001 has been filled with...\n    downloaded_from:  https://gwis.jrc.ec.europa.eu/apps/country.profile/down...\n    long_name:        Burned Areas from GWIS\n    provider:         Global Wildfire Information System (GWIS)\n    units:            hectares (ha)","content_type":"text/plain"}}}],"key":"EPIeqp42rk"}],"key":"KpDGHfztHs"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Finding the date with the most burnt area","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YWsuMjcxpq"}],"identifier":"finding-the-date-with-the-most-burnt-area","label":"Finding the date with the most burnt area","html_id":"finding-the-date-with-the-most-burnt-area","implicit":true,"key":"FQVEpcJJG5"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"To find the date with the most burnt area we first do a spatial sum over our data for each period; this will return an dataarray with the total amount of ha of burnt area for each day. We will then fetch the date with the max burned area using idmax.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"XkEjlS7k3S"}],"key":"jBfsRSu70j"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Note idmax is equivalent to doing ds.sel(time=ds.argmax.item(dim=‘time’)) where argmax returns the index of the max item","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"a80J6FHtoS"}],"key":"dVEevX3AHg"}],"key":"t57e3NIr4k"}],"key":"Vo8GzaLY23"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# date where the sum of burnt area is the highest\ndate_max_fire = gwis_aoi.sum(dim={'latitude','longitude'}).idxmax(dim='time')","key":"kSyjC1qV7H"},{"type":"output","id":"Twr-rg6iiFLLLJYVHNs-r","data":[],"key":"s1TRHRfgsd"}],"key":"Hciwb2eM6U"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"By subsetting only to the relevant data, we have reduced our dataset from 3.7 GB to a very small managable chunk of relevant data. Note that up to this point, we have not downloaded any data or done any computations over it. We (via the Dask Client) have just built up in the background the dask task graph.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"AhW4b2fgBs"}],"key":"sKdi68n4FE"}],"key":"HNHKOwUPtW"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"date_max_fire.data.visualize(optimize_graph=True)","key":"JRMa0Io4VN"},{"type":"output","id":"bQ_WmVB382qe0qTkqqHSt","data":[{"output_type":"execute_result","execution_count":15,"metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"5067e55b8d0c0cb3d85ac04268ad050a","path":"/tutorials/build/5067e55b8d0c0cb3d85ac04268ad050a.png"},"text/plain":{"content":"\u003cIPython.core.display.Image object\u003e","content_type":"text/plain"}}}],"key":"Dc2503uuGz"}],"key":"VK7EHe5xPj"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Let’s start computing!","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Q0fbFFRpsW"}],"identifier":"lets-start-computing","label":"Let’s start computing!","html_id":"lets-start-computing","implicit":true,"key":"jwyS28mCcX"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Let’s get our date by forcing dask to execute the above task graph using .compute()","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Lv01uhxTiS"}],"key":"VP6bSMuv8y"}],"key":"fxucFyxI22"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"date_max_fire = date_max_fire.compute()\ndate_max_fire","key":"BZMCJKsLAU"},{"type":"output","id":"sI5TZ1obvzxI5VeCGuBAZ","data":[{"output_type":"execute_result","execution_count":16,"metadata":{},"data":{"text/html":{"content":"\u003cdiv\u003e\u003csvg style=\"position: absolute; width: 0; height: 0; overflow: hidden\"\u003e\n\u003cdefs\u003e\n\u003csymbol id=\"icon-database\" viewBox=\"0 0 32 32\"\u003e\n\u003cpath d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"\u003e\u003c/path\u003e\n\u003cpath d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"\u003e\u003c/path\u003e\n\u003cpath d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"\u003e\u003c/path\u003e\n\u003c/symbol\u003e\n\u003csymbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\"\u003e\n\u003cpath d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"\u003e\u003c/path\u003e\n\u003cpath d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"\u003e\u003c/path\u003e\n\u003cpath d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"\u003e\u003c/path\u003e\n\u003cpath d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"\u003e\u003c/path\u003e\n\u003c/symbol\u003e\n\u003c/defs\u003e\n\u003c/svg\u003e\n\u003cstyle\u003e/* CSS stylesheet for displaying xarray objects in jupyterlab.\n *\n */\n\n:root {\n  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));\n  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));\n  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));\n  --xr-border-color: var(--jp-border-color2, #e0e0e0);\n  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);\n  --xr-background-color: var(--jp-layout-color0, white);\n  --xr-background-color-row-even: var(--jp-layout-color1, white);\n  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);\n}\n\nhtml[theme=\"dark\"],\nhtml[data-theme=\"dark\"],\nbody[data-theme=\"dark\"],\nbody.vscode-dark {\n  --xr-font-color0: rgba(255, 255, 255, 1);\n  --xr-font-color2: rgba(255, 255, 255, 0.54);\n  --xr-font-color3: rgba(255, 255, 255, 0.38);\n  --xr-border-color: #1f1f1f;\n  --xr-disabled-color: #515151;\n  --xr-background-color: #111111;\n  --xr-background-color-row-even: #111111;\n  --xr-background-color-row-odd: #313131;\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header \u003e div,\n.xr-header \u003e ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-array-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: inline-block;\n  opacity: 0;\n  height: 0;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:focus + label {\n  border: 2px solid var(--xr-font-color0);\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary \u003e span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: \"►\";\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: \"▼\";\n}\n\n.xr-section-summary-in:checked + label \u003e span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap \u003e label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: \"(\";\n}\n\n.xr-dim-list:after {\n  content: \")\";\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: \",\";\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item \u003e div,\n.xr-var-item label,\n.xr-var-item \u003e .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  margin-bottom: 0;\n}\n\n.xr-var-item \u003e .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list \u003e li:nth-child(odd) \u003e div,\n.xr-var-list \u003e li:nth-child(odd) \u003e label,\n.xr-var-list \u003e li:nth-child(odd) \u003e .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  background-color: var(--xr-background-color) !important;\n  padding-bottom: 5px !important;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data \u003e table {\n  float: right;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\u003c/style\u003e\u003cpre class='xr-text-repr-fallback'\u003e\u0026lt;xarray.DataArray \u0026#x27;time\u0026#x27; ()\u0026gt; Size: 8B\narray(\u0026#x27;2020-09-13T00:00:00.000000000\u0026#x27;, dtype=\u0026#x27;datetime64[ns]\u0026#x27;)\u003c/pre\u003e\u003cdiv class='xr-wrap' style='display:none'\u003e\u003cdiv class='xr-header'\u003e\u003cdiv class='xr-obj-type'\u003exarray.DataArray\u003c/div\u003e\u003cdiv class='xr-array-name'\u003e'time'\u003c/div\u003e\u003c/div\u003e\u003cul class='xr-sections'\u003e\u003cli class='xr-section-item'\u003e\u003cdiv class='xr-array-wrap'\u003e\u003cinput id='section-9d0e154f-306b-47ef-8dde-cbc7e748b872' class='xr-array-in' type='checkbox' checked\u003e\u003clabel for='section-9d0e154f-306b-47ef-8dde-cbc7e748b872' title='Show/hide data repr'\u003e\u003csvg class='icon xr-icon-database'\u003e\u003cuse xlink:href='#icon-database'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cdiv class='xr-array-preview xr-preview'\u003e\u003cspan\u003e2020-09-13\u003c/span\u003e\u003c/div\u003e\u003cdiv class='xr-array-data'\u003e\u003cpre\u003earray(\u0026#x27;2020-09-13T00:00:00.000000000\u0026#x27;, dtype=\u0026#x27;datetime64[ns]\u0026#x27;)\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\u003c/li\u003e\u003cli class='xr-section-item'\u003e\u003cinput id='section-e348f0ae-f78b-415a-8a96-ed354e4869f1' class='xr-section-summary-in' type='checkbox' disabled \u003e\u003clabel for='section-e348f0ae-f78b-415a-8a96-ed354e4869f1' class='xr-section-summary'  title='Expand/collapse section'\u003eCoordinates: \u003cspan\u003e(0)\u003c/span\u003e\u003c/label\u003e\u003cdiv class='xr-section-inline-details'\u003e\u003c/div\u003e\u003cdiv class='xr-section-details'\u003e\u003cul class='xr-var-list'\u003e\u003c/ul\u003e\u003c/div\u003e\u003c/li\u003e\u003cli class='xr-section-item'\u003e\u003cinput id='section-840bbc10-4f3f-4076-bfdb-a5ad2702f1df' class='xr-section-summary-in' type='checkbox' disabled \u003e\u003clabel for='section-840bbc10-4f3f-4076-bfdb-a5ad2702f1df' class='xr-section-summary'  title='Expand/collapse section'\u003eIndexes: \u003cspan\u003e(0)\u003c/span\u003e\u003c/label\u003e\u003cdiv class='xr-section-inline-details'\u003e\u003c/div\u003e\u003cdiv class='xr-section-details'\u003e\u003cul class='xr-var-list'\u003e\u003c/ul\u003e\u003c/div\u003e\u003c/li\u003e\u003cli class='xr-section-item'\u003e\u003cinput id='section-32c03cc2-f9cb-4fb2-8334-52a2352b6ccd' class='xr-section-summary-in' type='checkbox' disabled \u003e\u003clabel for='section-32c03cc2-f9cb-4fb2-8334-52a2352b6ccd' class='xr-section-summary'  title='Expand/collapse section'\u003eAttributes: \u003cspan\u003e(0)\u003c/span\u003e\u003c/label\u003e\u003cdiv class='xr-section-inline-details'\u003e\u003c/div\u003e\u003cdiv class='xr-section-details'\u003e\u003cdl class='xr-attrs'\u003e\u003c/dl\u003e\u003c/div\u003e\u003c/li\u003e\u003c/ul\u003e\u003c/div\u003e\u003c/div\u003e","content_type":"text/html"},"text/plain":{"content":"\u003cxarray.DataArray 'time' ()\u003e Size: 8B\narray('2020-09-13T00:00:00.000000000', dtype='datetime64[ns]')","content_type":"text/plain"}}}],"key":"J7q5VTSNva"}],"key":"ixk6081AwG"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Exploring the Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aA7zi2nzz3"}],"identifier":"exploring-the-data","label":"Exploring the Data","html_id":"exploring-the-data","implicit":true,"key":"mv70d9K4TC"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Great, we’ve found the date with the most burnt areas, now let’s explore the data","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"wTQR2VKOOO"}],"key":"B5OYsyoaOQ"}],"key":"oMKEoOUDn4"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"biggest_fire_aoi = gwis_aoi.sel(time=date_max_fire)\nbiggest_fire_aoi","key":"ujKmripolw"},{"type":"output","id":"NX12ZyKDpg8pyznO1cX1K","data":[{"output_type":"execute_result","execution_count":17,"metadata":{},"data":{"text/html":{"content":"\u003cdiv\u003e\u003csvg style=\"position: absolute; width: 0; height: 0; overflow: hidden\"\u003e\n\u003cdefs\u003e\n\u003csymbol id=\"icon-database\" viewBox=\"0 0 32 32\"\u003e\n\u003cpath d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"\u003e\u003c/path\u003e\n\u003cpath d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"\u003e\u003c/path\u003e\n\u003cpath d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"\u003e\u003c/path\u003e\n\u003c/symbol\u003e\n\u003csymbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\"\u003e\n\u003cpath d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"\u003e\u003c/path\u003e\n\u003cpath d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"\u003e\u003c/path\u003e\n\u003cpath d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"\u003e\u003c/path\u003e\n\u003cpath d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"\u003e\u003c/path\u003e\n\u003c/symbol\u003e\n\u003c/defs\u003e\n\u003c/svg\u003e\n\u003cstyle\u003e/* CSS stylesheet for displaying xarray objects in jupyterlab.\n *\n */\n\n:root {\n  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));\n  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));\n  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));\n  --xr-border-color: var(--jp-border-color2, #e0e0e0);\n  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);\n  --xr-background-color: var(--jp-layout-color0, white);\n  --xr-background-color-row-even: var(--jp-layout-color1, white);\n  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);\n}\n\nhtml[theme=\"dark\"],\nhtml[data-theme=\"dark\"],\nbody[data-theme=\"dark\"],\nbody.vscode-dark {\n  --xr-font-color0: rgba(255, 255, 255, 1);\n  --xr-font-color2: rgba(255, 255, 255, 0.54);\n  --xr-font-color3: rgba(255, 255, 255, 0.38);\n  --xr-border-color: #1f1f1f;\n  --xr-disabled-color: #515151;\n  --xr-background-color: #111111;\n  --xr-background-color-row-even: #111111;\n  --xr-background-color-row-odd: #313131;\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header \u003e div,\n.xr-header \u003e ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-array-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: inline-block;\n  opacity: 0;\n  height: 0;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:focus + label {\n  border: 2px solid var(--xr-font-color0);\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary \u003e span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: \"►\";\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: \"▼\";\n}\n\n.xr-section-summary-in:checked + label \u003e span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap \u003e label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: \"(\";\n}\n\n.xr-dim-list:after {\n  content: \")\";\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: \",\";\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item \u003e div,\n.xr-var-item label,\n.xr-var-item \u003e .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  margin-bottom: 0;\n}\n\n.xr-var-item \u003e .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list \u003e li:nth-child(odd) \u003e div,\n.xr-var-list \u003e li:nth-child(odd) \u003e label,\n.xr-var-list \u003e li:nth-child(odd) \u003e .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  background-color: var(--xr-background-color) !important;\n  padding-bottom: 5px !important;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data \u003e table {\n  float: right;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\u003c/style\u003e\u003cpre class='xr-text-repr-fallback'\u003e\u0026lt;xarray.DataArray \u0026#x27;gwis_ba\u0026#x27; (latitude: 2, longitude: 2)\u0026gt; Size: 16B\ndask.array\u0026lt;getitem, shape=(2, 2), dtype=float32, chunksize=(2, 2), chunktype=numpy.ndarray\u0026gt;\nCoordinates:\n  * latitude   (latitude) float64 16B 41.88 41.62\n  * longitude  (longitude) float64 16B -8.125 -7.875\n    time       datetime64[ns] 8B 2020-09-13\nAttributes:\n    aggregation:      Spatio-Temporal | sum\n    creator_notes:    The missing data for the year 2001 has been filled with...\n    downloaded_from:  https://gwis.jrc.ec.europa.eu/apps/country.profile/down...\n    long_name:        Burned Areas from GWIS\n    provider:         Global Wildfire Information System (GWIS)\n    units:            hectares (ha)\u003c/pre\u003e\u003cdiv class='xr-wrap' style='display:none'\u003e\u003cdiv class='xr-header'\u003e\u003cdiv class='xr-obj-type'\u003exarray.DataArray\u003c/div\u003e\u003cdiv class='xr-array-name'\u003e'gwis_ba'\u003c/div\u003e\u003cul class='xr-dim-list'\u003e\u003cli\u003e\u003cspan class='xr-has-index'\u003elatitude\u003c/span\u003e: 2\u003c/li\u003e\u003cli\u003e\u003cspan class='xr-has-index'\u003elongitude\u003c/span\u003e: 2\u003c/li\u003e\u003c/ul\u003e\u003c/div\u003e\u003cul class='xr-sections'\u003e\u003cli class='xr-section-item'\u003e\u003cdiv class='xr-array-wrap'\u003e\u003cinput id='section-474dabdf-66ae-4735-bd2b-2c80e13080f7' class='xr-array-in' type='checkbox' checked\u003e\u003clabel for='section-474dabdf-66ae-4735-bd2b-2c80e13080f7' title='Show/hide data repr'\u003e\u003csvg class='icon xr-icon-database'\u003e\u003cuse xlink:href='#icon-database'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cdiv class='xr-array-preview xr-preview'\u003e\u003cspan\u003edask.array\u0026lt;chunksize=(2, 2), meta=np.ndarray\u0026gt;\u003c/span\u003e\u003c/div\u003e\u003cdiv class='xr-array-data'\u003e\u003ctable\u003e\n    \u003ctr\u003e\n        \u003ctd\u003e\n            \u003ctable style=\"border-collapse: collapse;\"\u003e\n                \u003cthead\u003e\n                    \u003ctr\u003e\n                        \u003ctd\u003e \u003c/td\u003e\n                        \u003cth\u003e Array \u003c/th\u003e\n                        \u003cth\u003e Chunk \u003c/th\u003e\n                    \u003c/tr\u003e\n                \u003c/thead\u003e\n                \u003ctbody\u003e\n                    \n                    \u003ctr\u003e\n                        \u003cth\u003e Bytes \u003c/th\u003e\n                        \u003ctd\u003e 16 B \u003c/td\u003e\n                        \u003ctd\u003e 16 B \u003c/td\u003e\n                    \u003c/tr\u003e\n                    \n                    \u003ctr\u003e\n                        \u003cth\u003e Shape \u003c/th\u003e\n                        \u003ctd\u003e (2, 2) \u003c/td\u003e\n                        \u003ctd\u003e (2, 2) \u003c/td\u003e\n                    \u003c/tr\u003e\n                    \u003ctr\u003e\n                        \u003cth\u003e Dask graph \u003c/th\u003e\n                        \u003ctd colspan=\"2\"\u003e 1 chunks in 4 graph layers \u003c/td\u003e\n                    \u003c/tr\u003e\n                    \u003ctr\u003e\n                        \u003cth\u003e Data type \u003c/th\u003e\n                        \u003ctd colspan=\"2\"\u003e float32 numpy.ndarray \u003c/td\u003e\n                    \u003c/tr\u003e\n                \u003c/tbody\u003e\n            \u003c/table\u003e\n        \u003c/td\u003e\n        \u003ctd\u003e\n        \u003csvg width=\"170\" height=\"170\" style=\"stroke:rgb(0,0,0);stroke-width:1\" \u003e\n\n  \u003c!-- Horizontal lines --\u003e\n  \u003cline x1=\"0\" y1=\"0\" x2=\"120\" y2=\"0\" style=\"stroke-width:2\" /\u003e\n  \u003cline x1=\"0\" y1=\"120\" x2=\"120\" y2=\"120\" style=\"stroke-width:2\" /\u003e\n\n  \u003c!-- Vertical lines --\u003e\n  \u003cline x1=\"0\" y1=\"0\" x2=\"0\" y2=\"120\" style=\"stroke-width:2\" /\u003e\n  \u003cline x1=\"120\" y1=\"0\" x2=\"120\" y2=\"120\" style=\"stroke-width:2\" /\u003e\n\n  \u003c!-- Colored Rectangle --\u003e\n  \u003cpolygon points=\"0.0,0.0 120.0,0.0 120.0,120.0 0.0,120.0\" style=\"fill:#ECB172A0;stroke-width:0\"/\u003e\n\n  \u003c!-- Text --\u003e\n  \u003ctext x=\"60.000000\" y=\"140.000000\" font-size=\"1.0rem\" font-weight=\"100\" text-anchor=\"middle\" \u003e2\u003c/text\u003e\n  \u003ctext x=\"140.000000\" y=\"60.000000\" font-size=\"1.0rem\" font-weight=\"100\" text-anchor=\"middle\" transform=\"rotate(0,140.000000,60.000000)\"\u003e2\u003c/text\u003e\n\u003c/svg\u003e\n        \u003c/td\u003e\n    \u003c/tr\u003e\n\u003c/table\u003e\u003c/div\u003e\u003c/div\u003e\u003c/li\u003e\u003cli class='xr-section-item'\u003e\u003cinput id='section-4c2c1f1d-3304-4d65-83a0-f5874ffb645f' class='xr-section-summary-in' type='checkbox'  checked\u003e\u003clabel for='section-4c2c1f1d-3304-4d65-83a0-f5874ffb645f' class='xr-section-summary' \u003eCoordinates: \u003cspan\u003e(3)\u003c/span\u003e\u003c/label\u003e\u003cdiv class='xr-section-inline-details'\u003e\u003c/div\u003e\u003cdiv class='xr-section-details'\u003e\u003cul class='xr-var-list'\u003e\u003cli class='xr-var-item'\u003e\u003cdiv class='xr-var-name'\u003e\u003cspan class='xr-has-index'\u003elatitude\u003c/span\u003e\u003c/div\u003e\u003cdiv class='xr-var-dims'\u003e(latitude)\u003c/div\u003e\u003cdiv class='xr-var-dtype'\u003efloat64\u003c/div\u003e\u003cdiv class='xr-var-preview xr-preview'\u003e41.88 41.62\u003c/div\u003e\u003cinput id='attrs-506651f9-cd72-4679-865d-829af428cd26' class='xr-var-attrs-in' type='checkbox' \u003e\u003clabel for='attrs-506651f9-cd72-4679-865d-829af428cd26' title='Show/Hide attributes'\u003e\u003csvg class='icon xr-icon-file-text2'\u003e\u003cuse xlink:href='#icon-file-text2'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cinput id='data-513f4d03-ac18-43a4-bf7f-c5ba3824db11' class='xr-var-data-in' type='checkbox'\u003e\u003clabel for='data-513f4d03-ac18-43a4-bf7f-c5ba3824db11' title='Show/Hide data repr'\u003e\u003csvg class='icon xr-icon-database'\u003e\u003cuse xlink:href='#icon-database'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cdiv class='xr-var-attrs'\u003e\u003cdl class='xr-attrs'\u003e\u003cdt\u003e\u003cspan\u003eunits :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003edegrees\u003c/dd\u003e\u003c/dl\u003e\u003c/div\u003e\u003cdiv class='xr-var-data'\u003e\u003cpre\u003earray([41.875, 41.625])\u003c/pre\u003e\u003c/div\u003e\u003c/li\u003e\u003cli class='xr-var-item'\u003e\u003cdiv class='xr-var-name'\u003e\u003cspan class='xr-has-index'\u003elongitude\u003c/span\u003e\u003c/div\u003e\u003cdiv class='xr-var-dims'\u003e(longitude)\u003c/div\u003e\u003cdiv class='xr-var-dtype'\u003efloat64\u003c/div\u003e\u003cdiv class='xr-var-preview xr-preview'\u003e-8.125 -7.875\u003c/div\u003e\u003cinput id='attrs-e01a77a8-1afa-48fa-a8a5-e4e515637223' class='xr-var-attrs-in' type='checkbox' \u003e\u003clabel for='attrs-e01a77a8-1afa-48fa-a8a5-e4e515637223' title='Show/Hide attributes'\u003e\u003csvg class='icon xr-icon-file-text2'\u003e\u003cuse xlink:href='#icon-file-text2'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cinput id='data-feacf9aa-e65f-4ea5-b0e8-385225bba191' class='xr-var-data-in' type='checkbox'\u003e\u003clabel for='data-feacf9aa-e65f-4ea5-b0e8-385225bba191' title='Show/Hide data repr'\u003e\u003csvg class='icon xr-icon-database'\u003e\u003cuse xlink:href='#icon-database'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cdiv class='xr-var-attrs'\u003e\u003cdl class='xr-attrs'\u003e\u003cdt\u003e\u003cspan\u003eunits :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003edegrees\u003c/dd\u003e\u003c/dl\u003e\u003c/div\u003e\u003cdiv class='xr-var-data'\u003e\u003cpre\u003earray([-8.125, -7.875])\u003c/pre\u003e\u003c/div\u003e\u003c/li\u003e\u003cli class='xr-var-item'\u003e\u003cdiv class='xr-var-name'\u003e\u003cspan\u003etime\u003c/span\u003e\u003c/div\u003e\u003cdiv class='xr-var-dims'\u003e()\u003c/div\u003e\u003cdiv class='xr-var-dtype'\u003edatetime64[ns]\u003c/div\u003e\u003cdiv class='xr-var-preview xr-preview'\u003e2020-09-13\u003c/div\u003e\u003cinput id='attrs-ee4ee559-91b2-4cdc-8e7f-ca7ddfc2266b' class='xr-var-attrs-in' type='checkbox' \u003e\u003clabel for='attrs-ee4ee559-91b2-4cdc-8e7f-ca7ddfc2266b' title='Show/Hide attributes'\u003e\u003csvg class='icon xr-icon-file-text2'\u003e\u003cuse xlink:href='#icon-file-text2'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cinput id='data-39c9ad97-3f49-40a6-9e13-50f9b94feab3' class='xr-var-data-in' type='checkbox'\u003e\u003clabel for='data-39c9ad97-3f49-40a6-9e13-50f9b94feab3' title='Show/Hide data repr'\u003e\u003csvg class='icon xr-icon-database'\u003e\u003cuse xlink:href='#icon-database'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cdiv class='xr-var-attrs'\u003e\u003cdl class='xr-attrs'\u003e\u003cdt\u003e\u003cspan\u003edescription :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003eEach datetime initializes the first date of the 8 days time resolution. Ex. the 2001-01-01 has all information until 2001-01-07. It\u0026#x27;s year consists of 46 8-days datetimes, and every year begins from first of January (01-01). The last datetime (number 46) of each year, corresponds to 26 or 27 of December, depending if the year is a leap year or not. This means that it contains information for only 6 or 5 days respectively and not for 8 days as the rest.\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003eformat :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003eYYYY-MM-DD\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003etype :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003edatetime\u003c/dd\u003e\u003c/dl\u003e\u003c/div\u003e\u003cdiv class='xr-var-data'\u003e\u003cpre\u003earray(\u0026#x27;2020-09-13T00:00:00.000000000\u0026#x27;, dtype=\u0026#x27;datetime64[ns]\u0026#x27;)\u003c/pre\u003e\u003c/div\u003e\u003c/li\u003e\u003c/ul\u003e\u003c/div\u003e\u003c/li\u003e\u003cli class='xr-section-item'\u003e\u003cinput id='section-ef4a0451-9f7b-4070-be90-5d7f65eddc26' class='xr-section-summary-in' type='checkbox'  \u003e\u003clabel for='section-ef4a0451-9f7b-4070-be90-5d7f65eddc26' class='xr-section-summary' \u003eIndexes: \u003cspan\u003e(2)\u003c/span\u003e\u003c/label\u003e\u003cdiv class='xr-section-inline-details'\u003e\u003c/div\u003e\u003cdiv class='xr-section-details'\u003e\u003cul class='xr-var-list'\u003e\u003cli class='xr-var-item'\u003e\u003cdiv class='xr-index-name'\u003e\u003cdiv\u003elatitude\u003c/div\u003e\u003c/div\u003e\u003cdiv class='xr-index-preview'\u003ePandasIndex\u003c/div\u003e\u003cinput type='checkbox' disabled/\u003e\u003clabel\u003e\u003c/label\u003e\u003cinput id='index-276854ac-71f7-46f4-b7e9-8ff0a30e8843' class='xr-index-data-in' type='checkbox'/\u003e\u003clabel for='index-276854ac-71f7-46f4-b7e9-8ff0a30e8843' title='Show/Hide index repr'\u003e\u003csvg class='icon xr-icon-database'\u003e\u003cuse xlink:href='#icon-database'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cdiv class='xr-index-data'\u003e\u003cpre\u003ePandasIndex(Index([41.875, 41.625], dtype=\u0026#x27;float64\u0026#x27;, name=\u0026#x27;latitude\u0026#x27;))\u003c/pre\u003e\u003c/div\u003e\u003c/li\u003e\u003cli class='xr-var-item'\u003e\u003cdiv class='xr-index-name'\u003e\u003cdiv\u003elongitude\u003c/div\u003e\u003c/div\u003e\u003cdiv class='xr-index-preview'\u003ePandasIndex\u003c/div\u003e\u003cinput type='checkbox' disabled/\u003e\u003clabel\u003e\u003c/label\u003e\u003cinput id='index-704a183b-69a3-499d-9297-2e6eef7e79bd' class='xr-index-data-in' type='checkbox'/\u003e\u003clabel for='index-704a183b-69a3-499d-9297-2e6eef7e79bd' title='Show/Hide index repr'\u003e\u003csvg class='icon xr-icon-database'\u003e\u003cuse xlink:href='#icon-database'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cdiv class='xr-index-data'\u003e\u003cpre\u003ePandasIndex(Index([-8.125, -7.875], dtype=\u0026#x27;float64\u0026#x27;, name=\u0026#x27;longitude\u0026#x27;))\u003c/pre\u003e\u003c/div\u003e\u003c/li\u003e\u003c/ul\u003e\u003c/div\u003e\u003c/li\u003e\u003cli class='xr-section-item'\u003e\u003cinput id='section-6591c3d1-5961-4aed-9a34-42d728efff53' class='xr-section-summary-in' type='checkbox'  checked\u003e\u003clabel for='section-6591c3d1-5961-4aed-9a34-42d728efff53' class='xr-section-summary' \u003eAttributes: \u003cspan\u003e(6)\u003c/span\u003e\u003c/label\u003e\u003cdiv class='xr-section-inline-details'\u003e\u003c/div\u003e\u003cdiv class='xr-section-details'\u003e\u003cdl class='xr-attrs'\u003e\u003cdt\u003e\u003cspan\u003eaggregation :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003eSpatio-Temporal | sum\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003ecreator_notes :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003eThe missing data for the year 2001 has been filled with NaN values. The dataset is constructed using the ignition dates of the burned areas shapefiles. Each year is divided into 46 periods of 8 days, with the last period in December consisting of either 5 or 6 days, depending on whether it is a leap year.\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003edownloaded_from :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003ehttps://gwis.jrc.ec.europa.eu/apps/country.profile/downloads\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003elong_name :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003eBurned Areas from GWIS\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003eprovider :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003eGlobal Wildfire Information System (GWIS)\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003eunits :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003ehectares (ha)\u003c/dd\u003e\u003c/dl\u003e\u003c/div\u003e\u003c/li\u003e\u003c/ul\u003e\u003c/div\u003e\u003c/div\u003e","content_type":"text/html"},"text/plain":{"content":"\u003cxarray.DataArray 'gwis_ba' (latitude: 2, longitude: 2)\u003e Size: 16B\ndask.array\u003cgetitem, shape=(2, 2), dtype=float32, chunksize=(2, 2), chunktype=numpy.ndarray\u003e\nCoordinates:\n  * latitude   (latitude) float64 16B 41.88 41.62\n  * longitude  (longitude) float64 16B -8.125 -7.875\n    time       datetime64[ns] 8B 2020-09-13\nAttributes:\n    aggregation:      Spatio-Temporal | sum\n    creator_notes:    The missing data for the year 2001 has been filled with...\n    downloaded_from:  https://gwis.jrc.ec.europa.eu/apps/country.profile/down...\n    long_name:        Burned Areas from GWIS\n    provider:         Global Wildfire Information System (GWIS)\n    units:            hectares (ha)","content_type":"text/plain"}}}],"key":"E6XBJeoCLX"}],"key":"NJw4EIUGOu"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot the forest fire areas to get an idea about our data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Vn9VvmKdMD"}],"key":"Prn5ywpOe8"}],"key":"L6R4eL5gE5"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Let’s plot our data to explore it a bit further","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"k5HKgaqbOU"}],"key":"GzLB1nXx1P"}],"key":"yJEdHbTk6Y"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"biggest_fire_aoi.plot()","key":"smSCCIN14a"},{"type":"output","id":"ThHACoZfUZKPNzJm3o5U6","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"28e7d315ec17a583a470191282e65c1c","path":"/tutorials/build/28e7d315ec17a583a470191282e65c1c.png"},"text/plain":{"content":"\u003cFigure size 640x480 with 2 Axes\u003e","content_type":"text/plain"}}}],"key":"upCRm3Qq2K"}],"key":"zIqCITxvew"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The image above does not really give us a detailed view of which areas have been burned and to what degree, as the resolution of each pixel is approx 28km. To get some more context of our data we can plot it on a base map.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RxoIbpgvOn"}],"key":"jx69bMNm0J"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"In the Pangeo stack there are visualization tools that can help us easily plot data in a more interactive way, with a simple interface - such as hvplot.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"G1pfbQEzj8"}],"key":"yJnbMlPCJM"}],"key":"Kgq22l0KTc"},{"type":"block","kind":"notebook-code","data":{"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"# Plot it interactively, with some context\nbiggest_fire_aoi.hvplot(\n    x='longitude',\n    y='latitude',\n    cmap='viridis',\n    colorbar=True,\n    frame_width=600,\n    frame_height=400,\n    geo=True,\n    tiles='OSM',\n    alpha=0.5\n)\n","key":"AtimhifDVJ"},{"type":"output","id":"XpW-Sk9gTTjb0zKiQTGX_","data":[{"output_type":"display_data","metadata":{},"data":{}},{"output_type":"execute_result","execution_count":19,"metadata":{"application/vnd.holoviews_exec.v0+json":{"id":"125f3484-ea15-4fc9-b1f4-c1de42eeabec"}},"data":{"application/vnd.holoviews_exec.v0+json":{"content":"","content_type":"application/vnd.holoviews_exec.v0+json"},"text/html":{"content":"\u003cdiv id='125f3484-ea15-4fc9-b1f4-c1de42eeabec'\u003e\n  \u003cdiv id=\"c6a7520a-3aec-459f-b0e6-dcb62c7379c0\" data-root-id=\"125f3484-ea15-4fc9-b1f4-c1de42eeabec\" style=\"display: contents;\"\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cscript type=\"application/javascript\"\u003e(function(root) {\n  var docs_json = {\"36fbad59-5097-4c5b-b01c-3ea279e47b05\":{\"version\":\"3.7.2\",\"title\":\"Bokeh Application\",\"roots\":[{\"type\":\"object\",\"name\":\"Row\",\"id\":\"125f3484-ea15-4fc9-b1f4-c1de42eeabec\",\"attributes\":{\"name\":\"Row00375\",\"tags\":[\"embedded\"],\"stylesheets\":[\"\\n:host(.pn-loading):before, .pn-loading:before {\\n  background-color: #c3c3c3;\\n  mask-size: auto calc(min(50%, 400px));\\n  -webkit-mask-size: auto calc(min(50%, 400px));\\n}\",{\"type\":\"object\",\"name\":\"ImportedStyleSheet\",\"id\":\"b2cc6384-ff99-48bc-8a86-e5aca7e3cd50\",\"attributes\":{\"url\":\"https://cdn.holoviz.org/panel/1.6.3/dist/css/loading.css\"}},{\"type\":\"object\",\"name\":\"ImportedStyleSheet\",\"id\":\"6598038f-27ec-4d33-8a37-faf209dc78a5\",\"attributes\":{\"url\":\"https://cdn.holoviz.org/panel/1.6.3/dist/css/listpanel.css\"}},{\"type\":\"object\",\"name\":\"ImportedStyleSheet\",\"id\":\"5072dc66-469d-445d-86f5-db28d0db7882\",\"attributes\":{\"url\":\"https://cdn.holoviz.org/panel/1.6.3/dist/bundled/theme/default.css\"}},{\"type\":\"object\",\"name\":\"ImportedStyleSheet\",\"id\":\"eae94d15-b635-4d49-8d6f-664839602275\",\"attributes\":{\"url\":\"https://cdn.holoviz.org/panel/1.6.3/dist/bundled/theme/native.css\"}}],\"margin\":0,\"sizing_mode\":\"stretch_width\",\"align\":\"start\",\"children\":[{\"type\":\"object\",\"name\":\"Spacer\",\"id\":\"ed3e3db8-3986-436f-89b4-60e34dd26588\",\"attributes\":{\"name\":\"HSpacer00379\",\"stylesheets\":[\"\\n:host(.pn-loading):before, .pn-loading:before {\\n  background-color: #c3c3c3;\\n  mask-size: auto calc(min(50%, 400px));\\n  -webkit-mask-size: auto calc(min(50%, 400px));\\n}\",{\"id\":\"b2cc6384-ff99-48bc-8a86-e5aca7e3cd50\"},{\"id\":\"5072dc66-469d-445d-86f5-db28d0db7882\"},{\"id\":\"eae94d15-b635-4d49-8d6f-664839602275\"}],\"margin\":0,\"sizing_mode\":\"stretch_width\",\"align\":\"start\"}},{\"type\":\"object\",\"name\":\"Figure\",\"id\":\"92ac76c7-14bc-4597-9c10-a785c266bcf9\",\"attributes\":{\"width\":null,\"height\":null,\"margin\":[5,10],\"sizing_mode\":\"fixed\",\"align\":\"start\",\"x_range\":{\"type\":\"object\",\"name\":\"Range1d\",\"id\":\"5bc9874c-c937-4567-936e-252b6bd37e01\",\"attributes\":{\"name\":\"Longitude\",\"tags\":[[[\"Longitude\",null]],[]],\"start\":-957700.8730470914,\"end\":-823410.9796452926,\"reset_start\":-957700.8730470914,\"reset_end\":-823410.9796452926,\"min_interval\":5}},\"y_range\":{\"type\":\"object\",\"name\":\"Range1d\",\"id\":\"6fe935bb-52a0-4fd4-9281-b5098151745f\",\"attributes\":{\"name\":\"Latitude\",\"tags\":[[[\"Latitude\",null]],{\"type\":\"map\",\"entries\":[[\"invert_yaxis\",false],[\"autorange\",false]]}],\"start\":5078913.248286891,\"end\":5168439.84388809,\"reset_start\":5078913.248286891,\"reset_end\":5168439.84388809,\"min_interval\":5}},\"x_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"13e91205-a812-4ef0-a17d-bec05bbcaef1\"},\"y_scale\":{\"type\":\"object\",\"name\":\"LinearScale\",\"id\":\"d56ec068-4424-478a-b33e-b59e46cdf7d0\"},\"title\":{\"type\":\"object\",\"name\":\"Title\",\"id\":\"66ff0d80-0656-44a5-9191-84867a4c77ca\",\"attributes\":{\"text\":\"time = 2020-09-13\",\"text_color\":\"black\",\"text_font_size\":\"12pt\"}},\"renderers\":[{\"type\":\"object\",\"name\":\"TileRenderer\",\"id\":\"6178fe8f-f44a-4583-8e29-231913a1e8e3\",\"attributes\":{\"level\":\"underlay\",\"tile_source\":{\"type\":\"object\",\"name\":\"WMTSTileSource\",\"id\":\"6be801b6-f6f2-4f37-85e6-bf709c6463de\",\"attributes\":{\"url\":\"https://c.tile.openstreetmap.org/{Z}/{X}/{Y}.png\",\"attribution\":\"\u0026copy; \u003ca href=\\\"https://www.openstreetmap.org/copyright\\\"\u003eOpenStreetMap\u003c/a\u003e contributors\"}}}},{\"type\":\"object\",\"name\":\"GlyphRenderer\",\"id\":\"021efe7b-0eb7-4dc6-91d2-02bae8405586\",\"attributes\":{\"data_source\":{\"type\":\"object\",\"name\":\"ColumnDataSource\",\"id\":\"33e25552-5530-472b-8dfd-59b4c7e5055a\",\"attributes\":{\"selected\":{\"type\":\"object\",\"name\":\"Selection\",\"id\":\"7f8bb4b6-bbc7-474e-b9df-860315d37264\",\"attributes\":{\"indices\":[],\"line_indices\":[]}},\"selection_policy\":{\"type\":\"object\",\"name\":\"UnionRenderers\",\"id\":\"db1779d9-da49-427f-924c-5febb0d668e0\"},\"data\":{\"type\":\"map\",\"entries\":[[\"x\",[-918385.6877249428]],[\"y\",[5086373.79792065]],[\"dw\",[55659.522757501574]],[\"dh\",[74605.49633368105]],[\"image\",[{\"type\":\"ndarray\",\"array\":{\"type\":\"bytes\",\"data\":\"VPirQQAAAABwDAlFAAAAAA==\"},\"shape\":[2,2],\"dtype\":\"float32\",\"order\":\"little\"}]]]}}},\"view\":{\"type\":\"object\",\"name\":\"CDSView\",\"id\":\"7ad04b44-f701-4485-89c5-d04141f8108d\",\"attributes\":{\"filter\":{\"type\":\"object\",\"name\":\"AllIndices\",\"id\":\"bb1d8339-27a2-4c46-8a77-88f988987583\"}}},\"glyph\":{\"type\":\"object\",\"name\":\"Image\",\"id\":\"72f13524-00ad-4b26-b763-5b8c6ab8bb06\",\"attributes\":{\"tags\":[\"apply_ranges\"],\"x\":{\"type\":\"field\",\"field\":\"x\"},\"y\":{\"type\":\"field\",\"field\":\"y\"},\"dw\":{\"type\":\"field\",\"field\":\"dw\"},\"dh\":{\"type\":\"field\",\"field\":\"dh\"},\"global_alpha\":{\"type\":\"value\",\"value\":0.5},\"image\":{\"type\":\"field\",\"field\":\"image\"},\"color_mapper\":{\"type\":\"object\",\"name\":\"LinearColorMapper\",\"id\":\"c8aa17cc-6b70-4e99-8a34-d209fc22f5e1\",\"attributes\":{\"palette\":[\"#440154\",\"#440255\",\"#440357\",\"#450558\",\"#45065a\",\"#45085b\",\"#46095c\",\"#460b5e\",\"#460c5f\",\"#460e61\",\"#470f62\",\"#471163\",\"#471265\",\"#471466\",\"#471567\",\"#471669\",\"#47186a\",\"#48196b\",\"#481a6c\",\"#481c6e\",\"#481d6f\",\"#481e70\",\"#482071\",\"#482172\",\"#482273\",\"#482374\",\"#472575\",\"#472676\",\"#472777\",\"#472878\",\"#472a79\",\"#472b7a\",\"#472c7b\",\"#462d7c\",\"#462f7c\",\"#46307d\",\"#46317e\",\"#45327f\",\"#45347f\",\"#453580\",\"#453681\",\"#443781\",\"#443982\",\"#433a83\",\"#433b83\",\"#433c84\",\"#423d84\",\"#423e85\",\"#424085\",\"#414186\",\"#414286\",\"#404387\",\"#404487\",\"#3f4587\",\"#3f4788\",\"#3e4888\",\"#3e4989\",\"#3d4a89\",\"#3d4b89\",\"#3d4c89\",\"#3c4d8a\",\"#3c4e8a\",\"#3b508a\",\"#3b518a\",\"#3a528b\",\"#3a538b\",\"#39548b\",\"#39558b\",\"#38568b\",\"#38578c\",\"#37588c\",\"#37598c\",\"#365a8c\",\"#365b8c\",\"#355c8c\",\"#355d8c\",\"#345e8d\",\"#345f8d\",\"#33608d\",\"#33618d\",\"#32628d\",\"#32638d\",\"#31648d\",\"#31658d\",\"#31668d\",\"#30678d\",\"#30688d\",\"#2f698d\",\"#2f6a8d\",\"#2e6b8e\",\"#2e6c8e\",\"#2e6d8e\",\"#2d6e8e\",\"#2d6f8e\",\"#2c708e\",\"#2c718e\",\"#2c728e\",\"#2b738e\",\"#2b748e\",\"#2a758e\",\"#2a768e\",\"#2a778e\",\"#29788e\",\"#29798e\",\"#287a8e\",\"#287a8e\",\"#287b8e\",\"#277c8e\",\"#277d8e\",\"#277e8e\",\"#267f8e\",\"#26808e\",\"#26818e\",\"#25828e\",\"#25838d\",\"#24848d\",\"#24858d\",\"#24868d\",\"#23878d\",\"#23888d\",\"#23898d\",\"#22898d\",\"#228a8d\",\"#228b8d\",\"#218c8d\",\"#218d8c\",\"#218e8c\",\"#208f8c\",\"#20908c\",\"#20918c\",\"#1f928c\",\"#1f938b\",\"#1f948b\",\"#1f958b\",\"#1f968b\",\"#1e978a\",\"#1e988a\",\"#1e998a\",\"#1e998a\",\"#1e9a89\",\"#1e9b89\",\"#1e9c89\",\"#1e9d88\",\"#1e9e88\",\"#1e9f88\",\"#1ea087\",\"#1fa187\",\"#1fa286\",\"#1fa386\",\"#20a485\",\"#20a585\",\"#21a685\",\"#21a784\",\"#22a784\",\"#23a883\",\"#23a982\",\"#24aa82\",\"#25ab81\",\"#26ac81\",\"#27ad80\",\"#28ae7f\",\"#29af7f\",\"#2ab07e\",\"#2bb17d\",\"#2cb17d\",\"#2eb27c\",\"#2fb37b\",\"#30b47a\",\"#32b57a\",\"#33b679\",\"#35b778\",\"#36b877\",\"#38b976\",\"#39b976\",\"#3bba75\",\"#3dbb74\",\"#3ebc73\",\"#40bd72\",\"#42be71\",\"#44be70\",\"#45bf6f\",\"#47c06e\",\"#49c16d\",\"#4bc26c\",\"#4dc26b\",\"#4fc369\",\"#51c468\",\"#53c567\",\"#55c666\",\"#57c665\",\"#59c764\",\"#5bc862\",\"#5ec961\",\"#60c960\",\"#62ca5f\",\"#64cb5d\",\"#67cc5c\",\"#69cc5b\",\"#6bcd59\",\"#6dce58\",\"#70ce56\",\"#72cf55\",\"#74d054\",\"#77d052\",\"#79d151\",\"#7cd24f\",\"#7ed24e\",\"#81d34c\",\"#83d34b\",\"#86d449\",\"#88d547\",\"#8bd546\",\"#8dd644\",\"#90d643\",\"#92d741\",\"#95d73f\",\"#97d83e\",\"#9ad83c\",\"#9dd93a\",\"#9fd938\",\"#a2da37\",\"#a5da35\",\"#a7db33\",\"#aadb32\",\"#addc30\",\"#afdc2e\",\"#b2dd2c\",\"#b5dd2b\",\"#b7dd29\",\"#bade27\",\"#bdde26\",\"#bfdf24\",\"#c2df22\",\"#c5df21\",\"#c7e01f\",\"#cae01e\",\"#cde01d\",\"#cfe11c\",\"#d2e11b\",\"#d4e11a\",\"#d7e219\",\"#dae218\",\"#dce218\",\"#dfe318\",\"#e1e318\",\"#e4e318\",\"#e7e419\",\"#e9e419\",\"#ece41a\",\"#eee51b\",\"#f1e51c\",\"#f3e51e\",\"#f6e61f\",\"#f8e621\",\"#fae622\",\"#fde724\"],\"nan_color\":\"rgba(0, 0, 0, 0)\",\"low\":0.0,\"high\":2192.77734375}}}},\"selection_glyph\":{\"type\":\"object\",\"name\":\"Image\",\"id\":\"4957736e-703f-40fb-801f-c9e8075d768a\",\"attributes\":{\"tags\":[\"apply_ranges\"],\"x\":{\"type\":\"field\",\"field\":\"x\"},\"y\":{\"type\":\"field\",\"field\":\"y\"},\"dw\":{\"type\":\"field\",\"field\":\"dw\"},\"dh\":{\"type\":\"field\",\"field\":\"dh\"},\"global_alpha\":{\"type\":\"value\",\"value\":0.5},\"image\":{\"type\":\"field\",\"field\":\"image\"},\"color_mapper\":{\"id\":\"c8aa17cc-6b70-4e99-8a34-d209fc22f5e1\"}}},\"nonselection_glyph\":{\"type\":\"object\",\"name\":\"Image\",\"id\":\"9c50c4fe-edcf-4eb4-8c6d-d46fd3b68b91\",\"attributes\":{\"tags\":[\"apply_ranges\"],\"x\":{\"type\":\"field\",\"field\":\"x\"},\"y\":{\"type\":\"field\",\"field\":\"y\"},\"dw\":{\"type\":\"field\",\"field\":\"dw\"},\"dh\":{\"type\":\"field\",\"field\":\"dh\"},\"global_alpha\":{\"type\":\"value\",\"value\":0.5},\"image\":{\"type\":\"field\",\"field\":\"image\"},\"color_mapper\":{\"id\":\"c8aa17cc-6b70-4e99-8a34-d209fc22f5e1\"}}},\"muted_glyph\":{\"type\":\"object\",\"name\":\"Image\",\"id\":\"f8106456-9e0e-4d00-8167-98620c1ff29c\",\"attributes\":{\"tags\":[\"apply_ranges\"],\"x\":{\"type\":\"field\",\"field\":\"x\"},\"y\":{\"type\":\"field\",\"field\":\"y\"},\"dw\":{\"type\":\"field\",\"field\":\"dw\"},\"dh\":{\"type\":\"field\",\"field\":\"dh\"},\"global_alpha\":{\"type\":\"value\",\"value\":0.5},\"image\":{\"type\":\"field\",\"field\":\"image\"},\"color_mapper\":{\"id\":\"c8aa17cc-6b70-4e99-8a34-d209fc22f5e1\"}}}}}],\"toolbar\":{\"type\":\"object\",\"name\":\"Toolbar\",\"id\":\"5a7c945f-5013-437c-8da1-b7390325bc11\",\"attributes\":{\"tools\":[{\"type\":\"object\",\"name\":\"WheelZoomTool\",\"id\":\"7fd9274e-0739-4088-83cc-4efc1d3b648e\",\"attributes\":{\"renderers\":\"auto\",\"zoom_on_axis\":false}},{\"type\":\"object\",\"name\":\"BoxZoomTool\",\"id\":\"d065861f-3beb-44c9-939d-416c4ffa19f0\",\"attributes\":{\"overlay\":{\"type\":\"object\",\"name\":\"BoxAnnotation\",\"id\":\"2db07eb4-c6fa-43dc-9655-13d195006779\",\"attributes\":{\"syncable\":false,\"line_color\":\"black\",\"line_alpha\":1.0,\"line_width\":2,\"line_dash\":[4,4],\"fill_color\":\"lightgrey\",\"fill_alpha\":0.5,\"level\":\"overlay\",\"visible\":false,\"left\":{\"type\":\"number\",\"value\":\"nan\"},\"right\":{\"type\":\"number\",\"value\":\"nan\"},\"top\":{\"type\":\"number\",\"value\":\"nan\"},\"bottom\":{\"type\":\"number\",\"value\":\"nan\"},\"left_units\":\"canvas\",\"right_units\":\"canvas\",\"top_units\":\"canvas\",\"bottom_units\":\"canvas\",\"handles\":{\"type\":\"object\",\"name\":\"BoxInteractionHandles\",\"id\":\"818ca4d0-9e1f-442a-8152-8b73397ab5d5\",\"attributes\":{\"all\":{\"type\":\"object\",\"name\":\"AreaVisuals\",\"id\":\"54105c0a-ae65-4762-b0a6-2ea3db746221\",\"attributes\":{\"fill_color\":\"white\",\"hover_fill_color\":\"lightgray\"}}}}}},\"match_aspect\":true}},{\"type\":\"object\",\"name\":\"HoverTool\",\"id\":\"32a3c13d-579d-4cd9-8169-1563ee9c3628\",\"attributes\":{\"tags\":[\"hv_created\"],\"renderers\":[{\"id\":\"021efe7b-0eb7-4dc6-91d2-02bae8405586\"}],\"tooltips\":[[\"longitude (degrees)\",\"$x{custom}\"],[\"latitude (degrees)\",\"$y{custom}\"],[\"Burned Areas from GWIS (hectares (ha))\",\"@image\"]],\"formatters\":{\"type\":\"map\",\"entries\":[[\"$x\",{\"type\":\"object\",\"name\":\"CustomJSHover\",\"id\":\"2d06a8e2-4881-4bcb-9b7e-39009e1fb1e8\",\"attributes\":{\"code\":\"\\n        const projections = Bokeh.require(\\\"core/util/projections\\\");\\n        const {snap_x, snap_y} = special_vars\\n        const coords = projections.wgs84_mercator.invert(snap_x, snap_y)\\n        return \\\"\\\" + (coords[0]).toFixed(4)\\n    \"}}],[\"$y\",{\"type\":\"object\",\"name\":\"CustomJSHover\",\"id\":\"6104f2f3-7526-4f8b-9556-80f5153a889a\",\"attributes\":{\"code\":\"\\n        const projections = Bokeh.require(\\\"core/util/projections\\\");\\n        const {snap_x, snap_y} = special_vars\\n        const coords = projections.wgs84_mercator.invert(snap_x, snap_y)\\n        return \\\"\\\" + (coords[1]).toFixed(4)\\n    \"}}]]}}},{\"type\":\"object\",\"name\":\"PanTool\",\"id\":\"2f9a1749-cdd6-4ce9-bbff-7f286f9dbc52\"},{\"type\":\"object\",\"name\":\"ResetTool\",\"id\":\"4f691ec8-8a53-4bf3-b02d-5c2b490adc69\"}],\"active_drag\":{\"id\":\"2f9a1749-cdd6-4ce9-bbff-7f286f9dbc52\"}}},\"left\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"64c4d2d2-9a3b-4b39-af42-aae79c459c84\",\"attributes\":{\"ticker\":{\"type\":\"object\",\"name\":\"MercatorTicker\",\"id\":\"85a041d7-32ae-4f9a-b532-fdb3ef84f09f\",\"attributes\":{\"mantissas\":[1,2,5],\"dimension\":\"lat\"}},\"formatter\":{\"type\":\"object\",\"name\":\"MercatorTickFormatter\",\"id\":\"72e8f6c7-2b9a-4a14-be53-75fff17ae936\",\"attributes\":{\"dimension\":\"lat\"}},\"axis_label\":\"Latitude\",\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"e9e77081-79c6-4f5e-b70d-455598abca40\"}}}],\"right\":[{\"type\":\"object\",\"name\":\"ColorBar\",\"id\":\"9caedc88-169e-45f3-b661-90fdf38a12a7\",\"attributes\":{\"location\":[0,0],\"ticker\":{\"type\":\"object\",\"name\":\"BasicTicker\",\"id\":\"730c13bc-6a18-4e4f-bd97-398a225231cc\",\"attributes\":{\"mantissas\":[1,2,5]}},\"major_label_policy\":{\"type\":\"object\",\"name\":\"NoOverlap\",\"id\":\"c4fe3082-8ae2-41d5-a5ae-cb0c4ac92ccb\"},\"label_standoff\":8,\"major_tick_line_color\":\"black\",\"bar_line_color\":\"black\",\"color_mapper\":{\"id\":\"c8aa17cc-6b70-4e99-8a34-d209fc22f5e1\"}}}],\"below\":[{\"type\":\"object\",\"name\":\"LinearAxis\",\"id\":\"00666fd4-7aed-4430-a835-f8512433af2e\",\"attributes\":{\"ticker\":{\"type\":\"object\",\"name\":\"MercatorTicker\",\"id\":\"74cb5ee2-c740-42e4-ba07-27d32e75c3bc\",\"attributes\":{\"mantissas\":[1,2,5],\"dimension\":\"lon\"}},\"formatter\":{\"type\":\"object\",\"name\":\"MercatorTickFormatter\",\"id\":\"91d425aa-829b-4149-b0c6-3e47a6ae0e4d\",\"attributes\":{\"dimension\":\"lon\"}},\"axis_label\":\"Longitude\",\"major_label_policy\":{\"type\":\"object\",\"name\":\"AllLabels\",\"id\":\"13a0a836-4fac-4dcb-8f49-1d44af645194\"}}}],\"center\":[{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"63956c90-623e-46e2-a0fe-88cc15087a9b\",\"attributes\":{\"axis\":{\"id\":\"00666fd4-7aed-4430-a835-f8512433af2e\"},\"grid_line_color\":null}},{\"type\":\"object\",\"name\":\"Grid\",\"id\":\"f0be8082-e446-4ecb-aac0-e0847f0b4ea8\",\"attributes\":{\"dimension\":1,\"axis\":{\"id\":\"64c4d2d2-9a3b-4b39-af42-aae79c459c84\"},\"grid_line_color\":null}}],\"frame_width\":600,\"frame_height\":400,\"min_border_top\":10,\"min_border_bottom\":10,\"min_border_left\":10,\"min_border_right\":10,\"output_backend\":\"webgl\",\"match_aspect\":true}},{\"type\":\"object\",\"name\":\"Spacer\",\"id\":\"53178ccc-56e6-4f1a-b43c-ee7779b09ad8\",\"attributes\":{\"name\":\"HSpacer00380\",\"stylesheets\":[\"\\n:host(.pn-loading):before, .pn-loading:before {\\n  background-color: #c3c3c3;\\n  mask-size: auto calc(min(50%, 400px));\\n  -webkit-mask-size: auto calc(min(50%, 400px));\\n}\",{\"id\":\"b2cc6384-ff99-48bc-8a86-e5aca7e3cd50\"},{\"id\":\"5072dc66-469d-445d-86f5-db28d0db7882\"},{\"id\":\"eae94d15-b635-4d49-8d6f-664839602275\"}],\"margin\":0,\"sizing_mode\":\"stretch_width\",\"align\":\"start\"}}]}}],\"defs\":[{\"type\":\"model\",\"name\":\"ReactiveHTML1\"},{\"type\":\"model\",\"name\":\"FlexBox1\",\"properties\":[{\"name\":\"align_content\",\"kind\":\"Any\",\"default\":\"flex-start\"},{\"name\":\"align_items\",\"kind\":\"Any\",\"default\":\"flex-start\"},{\"name\":\"flex_direction\",\"kind\":\"Any\",\"default\":\"row\"},{\"name\":\"flex_wrap\",\"kind\":\"Any\",\"default\":\"wrap\"},{\"name\":\"gap\",\"kind\":\"Any\",\"default\":\"\"},{\"name\":\"justify_content\",\"kind\":\"Any\",\"default\":\"flex-start\"}]},{\"type\":\"model\",\"name\":\"FloatPanel1\",\"properties\":[{\"name\":\"config\",\"kind\":\"Any\",\"default\":{\"type\":\"map\"}},{\"name\":\"contained\",\"kind\":\"Any\",\"default\":true},{\"name\":\"position\",\"kind\":\"Any\",\"default\":\"right-top\"},{\"name\":\"offsetx\",\"kind\":\"Any\",\"default\":null},{\"name\":\"offsety\",\"kind\":\"Any\",\"default\":null},{\"name\":\"theme\",\"kind\":\"Any\",\"default\":\"primary\"},{\"name\":\"status\",\"kind\":\"Any\",\"default\":\"normalized\"}]},{\"type\":\"model\",\"name\":\"GridStack1\",\"properties\":[{\"name\":\"ncols\",\"kind\":\"Any\",\"default\":null},{\"name\":\"nrows\",\"kind\":\"Any\",\"default\":null},{\"name\":\"allow_resize\",\"kind\":\"Any\",\"default\":true},{\"name\":\"allow_drag\",\"kind\":\"Any\",\"default\":true},{\"name\":\"state\",\"kind\":\"Any\",\"default\":[]}]},{\"type\":\"model\",\"name\":\"drag1\",\"properties\":[{\"name\":\"slider_width\",\"kind\":\"Any\",\"default\":5},{\"name\":\"slider_color\",\"kind\":\"Any\",\"default\":\"black\"},{\"name\":\"value\",\"kind\":\"Any\",\"default\":50}]},{\"type\":\"model\",\"name\":\"click1\",\"properties\":[{\"name\":\"terminal_output\",\"kind\":\"Any\",\"default\":\"\"},{\"name\":\"debug_name\",\"kind\":\"Any\",\"default\":\"\"},{\"name\":\"clears\",\"kind\":\"Any\",\"default\":0}]},{\"type\":\"model\",\"name\":\"FastWrapper1\",\"properties\":[{\"name\":\"object\",\"kind\":\"Any\",\"default\":null},{\"name\":\"style\",\"kind\":\"Any\",\"default\":null}]},{\"type\":\"model\",\"name\":\"NotificationArea1\",\"properties\":[{\"name\":\"js_events\",\"kind\":\"Any\",\"default\":{\"type\":\"map\"}},{\"name\":\"max_notifications\",\"kind\":\"Any\",\"default\":5},{\"name\":\"notifications\",\"kind\":\"Any\",\"default\":[]},{\"name\":\"position\",\"kind\":\"Any\",\"default\":\"bottom-right\"},{\"name\":\"_clear\",\"kind\":\"Any\",\"default\":0},{\"name\":\"types\",\"kind\":\"Any\",\"default\":[{\"type\":\"map\",\"entries\":[[\"type\",\"warning\"],[\"background\",\"#ffc107\"],[\"icon\",{\"type\":\"map\",\"entries\":[[\"className\",\"fas fa-exclamation-triangle\"],[\"tagName\",\"i\"],[\"color\",\"white\"]]}]]},{\"type\":\"map\",\"entries\":[[\"type\",\"info\"],[\"background\",\"#007bff\"],[\"icon\",{\"type\":\"map\",\"entries\":[[\"className\",\"fas fa-info-circle\"],[\"tagName\",\"i\"],[\"color\",\"white\"]]}]]}]}]},{\"type\":\"model\",\"name\":\"Notification\",\"properties\":[{\"name\":\"background\",\"kind\":\"Any\",\"default\":null},{\"name\":\"duration\",\"kind\":\"Any\",\"default\":3000},{\"name\":\"icon\",\"kind\":\"Any\",\"default\":null},{\"name\":\"message\",\"kind\":\"Any\",\"default\":\"\"},{\"name\":\"notification_type\",\"kind\":\"Any\",\"default\":null},{\"name\":\"_rendered\",\"kind\":\"Any\",\"default\":false},{\"name\":\"_destroyed\",\"kind\":\"Any\",\"default\":false}]},{\"type\":\"model\",\"name\":\"TemplateActions1\",\"properties\":[{\"name\":\"open_modal\",\"kind\":\"Any\",\"default\":0},{\"name\":\"close_modal\",\"kind\":\"Any\",\"default\":0}]},{\"type\":\"model\",\"name\":\"BootstrapTemplateActions1\",\"properties\":[{\"name\":\"open_modal\",\"kind\":\"Any\",\"default\":0},{\"name\":\"close_modal\",\"kind\":\"Any\",\"default\":0}]},{\"type\":\"model\",\"name\":\"TemplateEditor1\",\"properties\":[{\"name\":\"layout\",\"kind\":\"Any\",\"default\":[]}]},{\"type\":\"model\",\"name\":\"MaterialTemplateActions1\",\"properties\":[{\"name\":\"open_modal\",\"kind\":\"Any\",\"default\":0},{\"name\":\"close_modal\",\"kind\":\"Any\",\"default\":0}]},{\"type\":\"model\",\"name\":\"ReactiveESM1\",\"properties\":[{\"name\":\"esm_constants\",\"kind\":\"Any\",\"default\":{\"type\":\"map\"}}]},{\"type\":\"model\",\"name\":\"JSComponent1\",\"properties\":[{\"name\":\"esm_constants\",\"kind\":\"Any\",\"default\":{\"type\":\"map\"}}]},{\"type\":\"model\",\"name\":\"ReactComponent1\",\"properties\":[{\"name\":\"esm_constants\",\"kind\":\"Any\",\"default\":{\"type\":\"map\"}}]},{\"type\":\"model\",\"name\":\"AnyWidgetComponent1\",\"properties\":[{\"name\":\"esm_constants\",\"kind\":\"Any\",\"default\":{\"type\":\"map\"}}]},{\"type\":\"model\",\"name\":\"request_value1\",\"properties\":[{\"name\":\"fill\",\"kind\":\"Any\",\"default\":\"none\"},{\"name\":\"_synced\",\"kind\":\"Any\",\"default\":null},{\"name\":\"_request_sync\",\"kind\":\"Any\",\"default\":0}]}]}};\n  var render_items = [{\"docid\":\"36fbad59-5097-4c5b-b01c-3ea279e47b05\",\"roots\":{\"125f3484-ea15-4fc9-b1f4-c1de42eeabec\":\"c6a7520a-3aec-459f-b0e6-dcb62c7379c0\"},\"root_ids\":[\"125f3484-ea15-4fc9-b1f4-c1de42eeabec\"]}];\n  var docs = Object.values(docs_json)\n  if (!docs) {\n    return\n  }\n  const py_version = docs[0].version.replace('rc', '-rc.').replace('.dev', '-dev.')\n  async function embed_document(root) {\n    var Bokeh = get_bokeh(root)\n    await Bokeh.embed.embed_items_notebook(docs_json, render_items);\n    for (const render_item of render_items) {\n      for (const root_id of render_item.root_ids) {\n\tconst id_el = document.getElementById(root_id)\n\tif (id_el.children.length \u0026\u0026 id_el.children[0].hasAttribute('data-root-id')) {\n\t  const root_el = id_el.children[0]\n\t  root_el.id = root_el.id + '-rendered'\n\t  for (const child of root_el.children) {\n            // Ensure JupyterLab does not capture keyboard shortcuts\n            // see: https://jupyterlab.readthedocs.io/en/4.1.x/extension/notebook.html#keyboard-interaction-model\n\t    child.setAttribute('data-lm-suppress-shortcuts', 'true')\n\t  }\n\t}\n      }\n    }\n  }\n  function get_bokeh(root) {\n    if (root.Bokeh === undefined) {\n      return null\n    } else if (root.Bokeh.version !== py_version) {\n      if (root.Bokeh.versions === undefined || !root.Bokeh.versions.has(py_version)) {\n\treturn null\n      }\n      return root.Bokeh.versions.get(py_version);\n    } else if (root.Bokeh.version === py_version) {\n      return root.Bokeh\n    }\n    return null\n  }\n  function is_loaded(root) {\n    var Bokeh = get_bokeh(root)\n    return (Bokeh != null \u0026\u0026 Bokeh.Panel !== undefined)\n  }\n  if (is_loaded(root)) {\n    embed_document(root);\n  } else {\n    var attempts = 0;\n    var timer = setInterval(function(root) {\n      if (is_loaded(root)) {\n        clearInterval(timer);\n        embed_document(root);\n      } else if (document.readyState == \"complete\") {\n        attempts++;\n        if (attempts \u003e 200) {\n          clearInterval(timer);\n\t  var Bokeh = get_bokeh(root)\n\t  if (Bokeh == null || Bokeh.Panel == null) {\n            console.warn(\"Panel: ERROR: Unable to run Panel code because Bokeh or Panel library is missing\");\n\t  } else {\n\t    console.warn(\"Panel: WARNING: Attempting to render but not all required libraries could be resolved.\")\n\t    embed_document(root)\n\t  }\n        }\n      }\n    }, 25, root)\n  }\n})(window);\u003c/script\u003e","content_type":"text/html"},"text/plain":{"content":":Overlay\n   .WMTS.I  :WMTS   [Longitude,Latitude]\n   .Image.I :Image   [longitude,latitude]   (Burned Areas from GWIS)","content_type":"text/plain"}}}],"key":"RexKvEkLe7"}],"key":"iq1s5UJLcF"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Analysing in Detail","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vNug9ugYng"}],"identifier":"analysing-in-detail","label":"Analysing in Detail","html_id":"analysing-in-detail","implicit":true,"key":"ETBVte8PPi"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Now that we have an idea of a potential wildfire event, we can explore in a bit more detail to see what areas where affected most.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"eApbrvm328"}],"key":"cgcZTWzpEb"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"We will use higher resolution sentinel-2-l2a data to compute the Normalised Burn Ratio (NBR) index to highlight burned areas. The NBR index uses near-infrared (NIR) and shortwave-infrared (SWIR) wavelengths. We will use a STAC API ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"x8aizvRW5q"},{"type":"link","url":"https://element84.com/earth-search/","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"element84’s STAC API","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"MAQTXXCEWZ"}],"urlSource":"https://element84.com/earth-search/","key":"QNvupWubK2"},{"type":"text","value":" endpoint to search for the data and load only the relevant, cloud-free data.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"EZXzTLlJya"}],"key":"CUBbBhBqC7"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"To estimate the amount of burnt area we will compute the difference between the NBR from period before the fire date and the NBR from the period after. The first step is to select the week before and the week after the wildfire","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"vG1NpgTfbp"}],"key":"f82pxEOulM"}],"key":"qI9jydpzFa"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fire_date_t = pd.to_datetime(date_max_fire.values.item()) # get the date of the forest fire and a the dates before and after it\nweek_before = (fire_date_t - timedelta(days=7))\nweek_after = (fire_date_t + timedelta(days=7))","key":"SfpSARGp1b"},{"type":"output","id":"vqHr-p63yDj2ZYuA0Gx_c","data":[],"key":"YEksEeXzpf"}],"key":"EAYUYpFKkH"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"print(week_before.date(), \"---\" , week_after.date())","key":"SbkvQMdJ1M"},{"type":"output","id":"jeANDbnuy8nrefnhYSbt8","data":[{"name":"stdout","output_type":"stream","text":"2020-09-06 --- 2020-09-20\n"}],"key":"SmlM28TOP1"}],"key":"hs0l1vkcvQ"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Fetching the data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DvBaDcS7Eb"}],"identifier":"fetching-the-data","label":"Fetching the data","html_id":"fetching-the-data","implicit":true,"key":"jfGF2Lcr04"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"We will now fetch the data using pystac to search through the ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"eas9zlQkUJ"},{"type":"link","url":"http://earth-search.aws.element84.com/v1","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"earth​-search​.aws​.element84​.com​/v1","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"lHainZjzov"}],"urlSource":"http://earth-search.aws.element84.com/v1","key":"qpoDAHSJmB"},{"type":"text","value":" STAC API endpoint. As mentioned in the ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"bFEJ8vsYnX"},{"type":"link","url":"/stac-and-data-access","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"STAC and Data Access guide","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"KljKx2G5SP"}],"urlSource":"../earthcode101/stac_and_data_access.ipynb","dataUrl":"/stac-and-data-access.json","internal":true,"protocol":"file","key":"DiIgfvhnAm"},{"type":"text","value":", the STAC API provides us with endpoints to query STAC collections.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"qmp52mzYzD"}],"key":"JHmb7ZYr3H"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"There is an ecosystem of libraries that implement STAC standards (pystac, odc-stac, stackstac, etc..) that allow us to analyse, load and use data described in STAC. We will briefly explore in the following cells below.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"Ysoq3qyzXt"}],"key":"ApxPTNj3we"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"As a first step, we will open a catalog with the pystac library: ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"eBuM8WXvKI"},{"type":"link","url":"https://earth-search.aws.element84.com/v1","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"https://​earth​-search​.aws​.element84​.com​/v1","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"PQlBo1dPMx"}],"urlSource":"https://earth-search.aws.element84.com/v1","key":"JTLF2bsYdg"},{"type":"text","value":" This catalog contains STAC collections of various datasets (such as sentinel-1 and sentinel-2 data) in cloud optimised formats (COGs in this case) - see ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"OxQ0cl3qkA"},{"type":"link","url":"https://earth-search.aws.element84.com","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"https://​earth​-search​.aws​.element84​.com","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"TgXeFoQBc1"}],"urlSource":"https://earth-search.aws.element84.com","key":"GwnTeQmAVY"},{"type":"text","value":". for more details. With these formats we are able to use the assets using cloud-native access patterns (see ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"Vs9q3dJEWs"},{"type":"link","url":"https://guide.cloudnativegeo.org/cookbooks/","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"https://​guide​.cloudnativegeo​.org​/cookbooks/","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"RMVpcM79mG"}],"urlSource":"https://guide.cloudnativegeo.org/cookbooks/","key":"mmwsnPVKit"},{"type":"text","value":" for more details).","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"ZNN6oY71Cd"}],"key":"yUEXbXehre"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Note that a STAC endpoint like the one below, only returns STAC items and not the actual data. The STAC items returned have Assets defined which link to the actual data (and provide metadata).","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"icAyDGKf87"}],"key":"UukD5Hdep6"}],"key":"hArIfqF4N1"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"catalog = pystac_client.open(\"https://earth-search.aws.element84.com/v1\")\nchunk={} # \u003c-- use dask\nres=10 # 10m resolution","key":"Z16RLwcteh"},{"type":"output","id":"oXIf0uZKc-KZz2oTzvFLE","data":[],"key":"QqNqDNUbYx"}],"key":"Gbx4IvsGFk"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In the next step we will do two things:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Wv520WmkdO"}],"key":"R7QdXZvoVx"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"1.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"hB39nHUthx"}],"key":"DLtXFOvAno"},{"type":"text","value":" Search for multiple cloudless sentinel-2 satellite images within a month of our pre-fire (week_before) date. The STAC API allows us to do a couple of things in a simple API call:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ueizmA0Pkl"}],"key":"Jv3WAzv2HZ"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":4,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"We can define an arrea of interest (bbox) and search for items that cover this region","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"fk4Jr2vMWV"}],"key":"TLicC7J20u"}],"key":"zx60c5B2Gh"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"We can subset for the time of interest as well (datetime)","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ZgB2y3o3Jv"}],"key":"J5bJ1H3BJL"}],"key":"qMNMMax6m0"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"We can define custom querries over implemented STAC extensions. For example, the Sentinel STAC collection we are querrying implements the eo STAC extension, and defines cloud_cover - this allows us to search for quality assets with minimal cloudy pixels","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"XsURfhAmCo"}],"key":"M9OHu93axc"}],"key":"lv7ZgyuOXr"}],"key":"pwIB7VJ7Kp"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"This will return the relevant STAC items - which contain assets that point to our data of interest. We now need to load this data into a dataarray to start analysing it.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"jjYOdnzFnl"}],"key":"leGWg0BUQ3"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"strong","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"2.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"rXjUZ6r7LU"}],"key":"MFfpCMTLpi"},{"type":"text","value":" Note that in the above step, we only have items that point to some data - this data can be tiff, zarr, netcdf, COG, or other SpatioTemporal asset data. In our case, the element84 endpoint points to the data collection of  ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"ccbvAxM47Y"},{"type":"emphasis","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"link","url":"https://registry.opendata.aws/sentinel-2-l2a-cogs/","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"https://​registry​.opendata​.aws​/sentinel​-2​-l2a​-cogs/","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"qmZD8Y2Vvw"}],"urlSource":"https://registry.opendata.aws/sentinel-2-l2a-cogs/","key":"PU4FRp1mB8"}],"key":"eNpPYwsXju"},{"type":"text","value":" - the format of our data is cloud-optimized GeoTiff. A cloud-friendly format such as this enables us cloud-native access patterns, such as easily fetching only our area of interest (as opposed to several tiff files and manually subsetting them after downloading).","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"bR0JGJ4KxJ"}],"key":"V4ugf4uniy"},{"type":"paragraph","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Libraries such as odc-stac integrate with STAC standards and allow us to load data as well as leveraging the cloud-optimised formats. For example, in the cell below we define how we want to transform/load our data by:","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"A7dLv5Yt9j"}],"key":"s6pFG4FDnb"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":13,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Passing the STAC item (or multiple items) we want to load","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"gqk9o1ncG6"}],"key":"VhJeTu9ok3"}],"key":"HqQ6rpJoQd"},{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"defining a particular chunk size (the passed {} asks for the data to be automatically chunked as it is originally);","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"d907YriTXG"}],"key":"LcQ8lYd2nk"}],"key":"n4IXyOYpeg"},{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"We can request only the spectral bands of interest, in this case nir and swir22, to reduce the amount of data that we fetch.","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"atLiQ7BTyO"}],"key":"dbFhOi4MEJ"}],"key":"MbamKUbZWf"},{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"We can define a resolution to retrieve the data at, note that this will also resample automatically. For example the nir band data has a 10m resolution, but the swir22 - 20m resolution.","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"VVnmehJhvj"}],"key":"vyNSOgsOya"}],"key":"bmhsQNBIKW"},{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"There are multiple other options as well, such as defining in which projection we want our data in. More information can be found at: ","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"lWGCIsdHSU"},{"type":"link","url":"https://odc-stac.readthedocs.io/en/latest/_api/odc.stac.load.html","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"https://​odc​-stac​.readthedocs​.io​/en​/latest​/​_api​/odc​.stac​.load​.html","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"GFuewvuhD3"}],"urlSource":"https://odc-stac.readthedocs.io/en/latest/_api/odc.stac.load.html","key":"kt1FutMnbv"}],"key":"EZtGGJZJyT"}],"key":"oJ3dC1WXwK"}],"key":"hnykxkE7UU"}],"key":"IRdz3Nw6gU"},{"type":"block","kind":"notebook-code","data":{"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"# STAC search for relevant items\nweek_before_start = (week_before - timedelta(days=30))\ntime_range_start = str(week_before_start.date()) + \"/\" + str(week_before.date())\n\nquery1 = catalog.search(\n    collections=[\"sentinel-2-l2a\"], datetime=time_range_start, limit=100,\n    bbox=bbox, query={\"eo:cloud_cover\": {\"lt\": 20}}\n)\n\nitems = list(query1.items())\nprint(f\"Found: {len(items):d} datasets\")","key":"ib97MGXqYW"},{"type":"output","id":"VtUSLEc66zm_f5fWW4MEK","data":[{"name":"stdout","output_type":"stream","text":"Found: 13 datasets\n"}],"key":"oxv7mtHCJc"}],"key":"ZKyywScXvp"},{"type":"block","kind":"notebook-code","data":{"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"# plot all the STAC assets\npoly_pre = gpd.GeoSeries([shapely.Polygon(item.geometry['coordinates'][0]) for item in items], name='geometry', crs='epsg:4236')\npoly_pre.explore()","key":"oWffTXh9W5"},{"type":"output","id":"Y1adUnpqOw58swlTj1s8e","data":[{"output_type":"execute_result","execution_count":24,"metadata":{},"data":{"text/html":{"content":"\u003cdiv style=\"width:100%;\"\u003e\u003cdiv style=\"position:relative;width:100%;height:0;padding-bottom:60%;\"\u003e\u003cspan style=\"color:#565656\"\u003eMake this Notebook Trusted to load map: File -\u003e Trust Notebook\u003c/span\u003e\u003ciframe srcdoc=\"\u0026lt;!DOCTYPE html\u0026gt;\n\u0026lt;html\u0026gt;\n\u0026lt;head\u0026gt;\n    \n    \u0026lt;meta http-equiv=\u0026quot;content-type\u0026quot; content=\u0026quot;text/html; charset=UTF-8\u0026quot; /\u0026gt;\n    \n        \u0026lt;script\u0026gt;\n            L_NO_TOUCH = false;\n            L_DISABLE_3D = false;\n        \u0026lt;/script\u0026gt;\n    \n    \u0026lt;style\u0026gt;html, body {width: 100%;height: 100%;margin: 0;padding: 0;}\u0026lt;/style\u0026gt;\n    \u0026lt;style\u0026gt;#map {position:absolute;top:0;bottom:0;right:0;left:0;}\u0026lt;/style\u0026gt;\n    \u0026lt;script src=\u0026quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js\u0026quot;\u0026gt;\u0026lt;/script\u0026gt;\n    \u0026lt;script src=\u0026quot;https://code.jquery.com/jquery-3.7.1.min.js\u0026quot;\u0026gt;\u0026lt;/script\u0026gt;\n    \u0026lt;script src=\u0026quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js\u0026quot;\u0026gt;\u0026lt;/script\u0026gt;\n    \u0026lt;script src=\u0026quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js\u0026quot;\u0026gt;\u0026lt;/script\u0026gt;\n    \u0026lt;link rel=\u0026quot;stylesheet\u0026quot; href=\u0026quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css\u0026quot;/\u0026gt;\n    \u0026lt;link rel=\u0026quot;stylesheet\u0026quot; href=\u0026quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css\u0026quot;/\u0026gt;\n    \u0026lt;link rel=\u0026quot;stylesheet\u0026quot; href=\u0026quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css\u0026quot;/\u0026gt;\n    \u0026lt;link rel=\u0026quot;stylesheet\u0026quot; href=\u0026quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css\u0026quot;/\u0026gt;\n    \u0026lt;link rel=\u0026quot;stylesheet\u0026quot; href=\u0026quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css\u0026quot;/\u0026gt;\n    \u0026lt;link rel=\u0026quot;stylesheet\u0026quot; href=\u0026quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css\u0026quot;/\u0026gt;\n    \n            \u0026lt;meta name=\u0026quot;viewport\u0026quot; content=\u0026quot;width=device-width,\n                initial-scale=1.0, maximum-scale=1.0, user-scalable=no\u0026quot; /\u0026gt;\n            \u0026lt;style\u0026gt;\n                #map_f769c741a5faca23c0656095d5aa31e4 {\n                    position: relative;\n                    width: 100.0%;\n                    height: 100.0%;\n                    left: 0.0%;\n                    top: 0.0%;\n                }\n                .leaflet-container { font-size: 1rem; }\n            \u0026lt;/style\u0026gt;\n        \n    \n                    \u0026lt;style\u0026gt;\n                        .foliumtooltip {\n                            \n                        }\n                       .foliumtooltip table{\n                            margin: auto;\n                        }\n                        .foliumtooltip tr{\n                            text-align: left;\n                        }\n                        .foliumtooltip th{\n                            padding: 2px; padding-right: 8px;\n                        }\n                    \u0026lt;/style\u0026gt;\n            \n\u0026lt;/head\u0026gt;\n\u0026lt;body\u0026gt;\n    \n    \n            \u0026lt;div class=\u0026quot;folium-map\u0026quot; id=\u0026quot;map_f769c741a5faca23c0656095d5aa31e4\u0026quot; \u0026gt;\u0026lt;/div\u0026gt;\n        \n\u0026lt;/body\u0026gt;\n\u0026lt;script\u0026gt;\n    \n    \n            var map_f769c741a5faca23c0656095d5aa31e4 = L.map(\n                \u0026quot;map_f769c741a5faca23c0656095d5aa31e4\u0026quot;,\n                {\n                    center: [41.955603034783074, -8.340401116075991],\n                    crs: L.CRS.EPSG3857,\n                    ...{\n  \u0026quot;zoom\u0026quot;: 10,\n  \u0026quot;zoomControl\u0026quot;: true,\n  \u0026quot;preferCanvas\u0026quot;: false,\n}\n\n                }\n            );\n            L.control.scale().addTo(map_f769c741a5faca23c0656095d5aa31e4);\n\n            \n\n        \n    \n            var tile_layer_63fc237b215c73aca5a463ac1b127408 = L.tileLayer(\n                \u0026quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png\u0026quot;,\n                {\n  \u0026quot;minZoom\u0026quot;: 0,\n  \u0026quot;maxZoom\u0026quot;: 19,\n  \u0026quot;maxNativeZoom\u0026quot;: 19,\n  \u0026quot;noWrap\u0026quot;: false,\n  \u0026quot;attribution\u0026quot;: \u0026quot;\\u0026copy; \\u003ca href=\\\u0026quot;https://www.openstreetmap.org/copyright\\\u0026quot;\\u003eOpenStreetMap\\u003c/a\\u003e contributors\u0026quot;,\n  \u0026quot;subdomains\u0026quot;: \u0026quot;abc\u0026quot;,\n  \u0026quot;detectRetina\u0026quot;: false,\n  \u0026quot;tms\u0026quot;: false,\n  \u0026quot;opacity\u0026quot;: 1,\n}\n\n            );\n        \n    \n            tile_layer_63fc237b215c73aca5a463ac1b127408.addTo(map_f769c741a5faca23c0656095d5aa31e4);\n        \n    \n            map_f769c741a5faca23c0656095d5aa31e4.fitBounds(\n                [[41.457390342414385, -9.008034722874328], [42.45381572715176, -7.672767509277656]],\n                {}\n            );\n        \n    \n        function geo_json_82ed1537cb8019c8419199373a9885f3_styler(feature) {\n            switch(feature.id) {\n                default:\n                    return {\u0026quot;fillOpacity\u0026quot;: 0.5, \u0026quot;weight\u0026quot;: 2};\n            }\n        }\n        function geo_json_82ed1537cb8019c8419199373a9885f3_highlighter(feature) {\n            switch(feature.id) {\n                default:\n                    return {\u0026quot;fillOpacity\u0026quot;: 0.75};\n            }\n        }\n        function geo_json_82ed1537cb8019c8419199373a9885f3_pointToLayer(feature, latlng) {\n            var opts = {\u0026quot;bubblingMouseEvents\u0026quot;: true, \u0026quot;color\u0026quot;: \u0026quot;#3388ff\u0026quot;, \u0026quot;dashArray\u0026quot;: null, \u0026quot;dashOffset\u0026quot;: null, \u0026quot;fill\u0026quot;: true, \u0026quot;fillColor\u0026quot;: \u0026quot;#3388ff\u0026quot;, \u0026quot;fillOpacity\u0026quot;: 0.2, \u0026quot;fillRule\u0026quot;: \u0026quot;evenodd\u0026quot;, \u0026quot;lineCap\u0026quot;: \u0026quot;round\u0026quot;, \u0026quot;lineJoin\u0026quot;: \u0026quot;round\u0026quot;, \u0026quot;opacity\u0026quot;: 1.0, \u0026quot;radius\u0026quot;: 2, \u0026quot;stroke\u0026quot;: true, \u0026quot;weight\u0026quot;: 3};\n            \n            let style = geo_json_82ed1537cb8019c8419199373a9885f3_styler(feature)\n            Object.assign(opts, style)\n            \n            return new L.CircleMarker(latlng, opts)\n        }\n\n        function geo_json_82ed1537cb8019c8419199373a9885f3_onEachFeature(feature, layer) {\n            layer.on({\n                mouseout: function(e) {\n                    if(typeof e.target.setStyle === \u0026quot;function\u0026quot;){\n                            geo_json_82ed1537cb8019c8419199373a9885f3.resetStyle(e.target);\n                    }\n                },\n                mouseover: function(e) {\n                    if(typeof e.target.setStyle === \u0026quot;function\u0026quot;){\n                        const highlightStyle = geo_json_82ed1537cb8019c8419199373a9885f3_highlighter(e.target.feature)\n                        e.target.setStyle(highlightStyle);\n                    }\n                },\n            });\n        };\n        var geo_json_82ed1537cb8019c8419199373a9885f3 = L.geoJson(null, {\n                onEachFeature: geo_json_82ed1537cb8019c8419199373a9885f3_onEachFeature,\n            \n                style: geo_json_82ed1537cb8019c8419199373a9885f3_styler,\n                pointToLayer: geo_json_82ed1537cb8019c8419199373a9885f3_pointToLayer,\n            ...{\n}\n        });\n\n        function geo_json_82ed1537cb8019c8419199373a9885f3_add (data) {\n            geo_json_82ed1537cb8019c8419199373a9885f3\n                .addData(data);\n        }\n            geo_json_82ed1537cb8019c8419199373a9885f3_add({\u0026quot;bbox\u0026quot;: [-9.008034722874328, 41.457390342414385, -7.672767509277656, 42.45381572715176], \u0026quot;features\u0026quot;: [{\u0026quot;bbox\u0026quot;: [-9.007971347318742, 41.457390342414385, -7.672767509277656, 42.45371580096661], \u0026quot;geometry\u0026quot;: {\u0026quot;coordinates\u0026quot;: [[[-8.848429640572792, 42.45371580096661], [-9.007971347318742, 41.95162022122697], [-9.007911439563484, 41.46481385761268], [-7.6931255155496325, 41.457390342414385], [-7.672767509277656, 42.446131748610206], [-8.848429640572792, 42.45371580096661]]], \u0026quot;type\u0026quot;: \u0026quot;Polygon\u0026quot;}, \u0026quot;id\u0026quot;: \u0026quot;0\u0026quot;, \u0026quot;properties\u0026quot;: {}, \u0026quot;type\u0026quot;: \u0026quot;Feature\u0026quot;}, {\u0026quot;bbox\u0026quot;: [-9.007971929597284, 41.457390342414385, -7.672767509277656, 42.45371835784616], \u0026quot;geometry\u0026quot;: {\u0026quot;coordinates\u0026quot;: [[[-8.8503758474949, 42.45371835784616], [-7.672767509277656, 42.446131748610206], [-7.6931255155496325, 41.457390342414385], [-9.007911439563484, 41.46481385761268], [-9.007971929597284, 41.956293214572526], [-8.8503758474949, 42.45371835784616]]], \u0026quot;type\u0026quot;: \u0026quot;Polygon\u0026quot;}, \u0026quot;id\u0026quot;: \u0026quot;1\u0026quot;, \u0026quot;properties\u0026quot;: {}, \u0026quot;type\u0026quot;: \u0026quot;Feature\u0026quot;}, {\u0026quot;bbox\u0026quot;: [-9.008034722874328, 41.46222433903367, -7.67398436979216, 42.45381572715176], \u0026quot;geometry\u0026quot;: {\u0026quot;coordinates\u0026quot;: [[[-9.008034722874328, 42.45381572715176], [-9.007911549061879, 41.465714688769545], [-8.03721094414078, 41.46222433903367], [-7.892452825648411, 41.85730762039245], [-7.705837283602346, 42.34976042962237], [-7.675408059810284, 42.42442740739732], [-7.67398436979216, 42.44614583373892], [-9.008034722874328, 42.45381572715176]]], \u0026quot;type\u0026quot;: \u0026quot;Polygon\u0026quot;}, \u0026quot;id\u0026quot;: \u0026quot;2\u0026quot;, \u0026quot;properties\u0026quot;: {}, \u0026quot;type\u0026quot;: \u0026quot;Feature\u0026quot;}, {\u0026quot;bbox\u0026quot;: [-9.008034722874328, 41.460760347623555, -7.672767509277656, 42.45381572715176], \u0026quot;geometry\u0026quot;: {\u0026quot;coordinates\u0026quot;: [[[-9.008034722874328, 42.45381572715176], [-7.672767509277656, 42.446131748610206], [-7.673248814351127, 42.423321410513594], [-7.892862941303598, 41.84749381882769], [-8.034264023566807, 41.460760347623555], [-9.007911439563484, 41.46481385761268], [-9.008034722874328, 42.45381572715176]]], \u0026quot;type\u0026quot;: \u0026quot;Polygon\u0026quot;}, \u0026quot;id\u0026quot;: \u0026quot;3\u0026quot;, \u0026quot;properties\u0026quot;: {}, \u0026quot;type\u0026quot;: \u0026quot;Feature\u0026quot;}, {\u0026quot;bbox\u0026quot;: [-9.007966906180748, 41.457390342414385, -7.672767509277656, 42.45370080451193], \u0026quot;geometry\u0026quot;: {\u0026quot;coordinates\u0026quot;: [[[-8.837483414863499, 42.45370080451193], [-9.007966906180748, 41.91594192486677], [-9.007911439563484, 41.46481385761268], [-7.6931255155496325, 41.457390342414385], [-7.672767509277656, 42.446131748610206], [-8.837483414863499, 42.45370080451193]]], \u0026quot;type\u0026quot;: \u0026quot;Polygon\u0026quot;}, \u0026quot;id\u0026quot;: \u0026quot;4\u0026quot;, \u0026quot;properties\u0026quot;: {}, \u0026quot;type\u0026quot;: \u0026quot;Feature\u0026quot;}, {\u0026quot;bbox\u0026quot;: [-9.007969371083034, 41.457390342414385, -7.672767509277656, 42.45370992808618], \u0026quot;geometry\u0026quot;: {\u0026quot;coordinates\u0026quot;: [[[-8.844051346493304, 42.45370992808618], [-7.672767509277656, 42.446131748610206], [-7.6931255155496325, 41.457390342414385], [-9.007911439563484, 41.46481385761268], [-9.007969371083034, 41.935751938922834], [-8.844051346493304, 42.45370992808618]]], \u0026quot;type\u0026quot;: \u0026quot;Polygon\u0026quot;}, \u0026quot;id\u0026quot;: \u0026quot;5\u0026quot;, \u0026quot;properties\u0026quot;: {}, \u0026quot;type\u0026quot;: \u0026quot;Feature\u0026quot;}, {\u0026quot;bbox\u0026quot;: [-9.008034722874328, 41.462272567133745, -7.674029069881448, 42.45381572715176], \u0026quot;geometry\u0026quot;: {\u0026quot;coordinates\u0026quot;: [[[-9.008034722874328, 42.45381572715176], [-9.007911549061888, 41.46571468882794], [-8.042839409661264, 41.462272567133745], [-7.674029069881448, 42.446146350895184], [-9.008034722874328, 42.45381572715176]]], \u0026quot;type\u0026quot;: \u0026quot;Polygon\u0026quot;}, \u0026quot;id\u0026quot;: \u0026quot;6\u0026quot;, \u0026quot;properties\u0026quot;: {}, \u0026quot;type\u0026quot;: \u0026quot;Feature\u0026quot;}, {\u0026quot;bbox\u0026quot;: [-9.008034722874328, 41.460832407495396, -7.674007881311744, 42.45381572715176], \u0026quot;geometry\u0026quot;: {\u0026quot;coordinates\u0026quot;: [[[-9.008034722874328, 42.45381572715176], [-7.674007881311744, 42.44614610575688], [-7.68025397288179, 42.42384154040992], [-7.69414547884759, 42.39232890972557], [-7.89690993774274, 41.85735103796311], [-8.042885618462385, 41.460832407495396], [-9.007911439563484, 41.46481385761268], [-9.008034722874328, 42.45381572715176]]], \u0026quot;type\u0026quot;: \u0026quot;Polygon\u0026quot;}, \u0026quot;id\u0026quot;: \u0026quot;7\u0026quot;, \u0026quot;properties\u0026quot;: {}, \u0026quot;type\u0026quot;: \u0026quot;Feature\u0026quot;}, {\u0026quot;bbox\u0026quot;: [-9.008034722874328, 41.46176519978156, -7.6739835860103875, 42.45381572715176], \u0026quot;geometry\u0026quot;: {\u0026quot;coordinates\u0026quot;: [[[-9.008034722874328, 42.45381572715176], [-9.007911549061173, 41.46571468299448], [-8.035939806892104, 41.46176519978156], [-7.891002701432991, 41.857563428882315], [-7.689827457311242, 42.38966563987588], [-7.674856349646238, 42.424095078039834], [-7.6739835860103875, 42.44614582467083], [-9.008034722874328, 42.45381572715176]]], \u0026quot;type\u0026quot;: \u0026quot;Polygon\u0026quot;}, \u0026quot;id\u0026quot;: \u0026quot;8\u0026quot;, \u0026quot;properties\u0026quot;: {}, \u0026quot;type\u0026quot;: \u0026quot;Feature\u0026quot;}, {\u0026quot;bbox\u0026quot;: [-9.008034722874328, 41.4607482756861, -7.672767509277656, 42.45381572715176], \u0026quot;geometry\u0026quot;: {\u0026quot;coordinates\u0026quot;: [[[-9.008034722874328, 42.45381572715176], [-7.672767509277656, 42.446131748610206], [-7.673288449147963, 42.421441826548666], [-7.88876355520845, 41.8546598111059], [-8.032827195246382, 41.4607482756861], [-9.007911439563484, 41.46481385761268], [-9.008034722874328, 42.45381572715176]]], \u0026quot;type\u0026quot;: \u0026quot;Polygon\u0026quot;}, \u0026quot;id\u0026quot;: \u0026quot;9\u0026quot;, \u0026quot;properties\u0026quot;: {}, \u0026quot;type\u0026quot;: \u0026quot;Feature\u0026quot;}, {\u0026quot;bbox\u0026quot;: [-9.007968675075809, 41.457390342414385, -7.672767509277656, 42.453707933341995], \u0026quot;geometry\u0026quot;: {\u0026quot;coordinates\u0026quot;: [[[-8.842591947961074, 42.453707933341995], [-7.672767509277656, 42.446131748610206], [-7.6931255155496325, 41.457390342414385], [-9.007911439563484, 41.46481385761268], [-9.007968675075809, 41.93016026456433], [-8.842591947961074, 42.453707933341995]]], \u0026quot;type\u0026quot;: \u0026quot;Polygon\u0026quot;}, \u0026quot;id\u0026quot;: \u0026quot;10\u0026quot;, \u0026quot;properties\u0026quot;: {}, \u0026quot;type\u0026quot;: \u0026quot;Feature\u0026quot;}, {\u0026quot;bbox\u0026quot;: [-9.00796979614377, 41.457390342414385, -7.672767509277656, 42.45371190460562], \u0026quot;geometry\u0026quot;: {\u0026quot;coordinates\u0026quot;: [[[-8.84551100891782, 42.45371190460562], [-9.00796979614377, 41.93916606602867], [-9.007911439563484, 41.46481385761268], [-7.6931255155496325, 41.457390342414385], [-7.672767509277656, 42.446131748610206], [-8.84551100891782, 42.45371190460562]]], \u0026quot;type\u0026quot;: \u0026quot;Polygon\u0026quot;}, \u0026quot;id\u0026quot;: \u0026quot;11\u0026quot;, \u0026quot;properties\u0026quot;: {}, \u0026quot;type\u0026quot;: \u0026quot;Feature\u0026quot;}, {\u0026quot;bbox\u0026quot;: [-9.007970469879538, 41.457390342414385, -7.672767509277656, 42.453713862213625], \u0026quot;geometry\u0026quot;: {\u0026quot;coordinates\u0026quot;: [[[-8.846970428402166, 42.453713862213625], [-7.672767509277656, 42.446131748610206], [-7.6931255155496325, 41.457390342414385], [-9.007911439563484, 41.46481385761268], [-9.007970469879538, 41.94457636009475], [-8.846970428402166, 42.453713862213625]]], \u0026quot;type\u0026quot;: \u0026quot;Polygon\u0026quot;}, \u0026quot;id\u0026quot;: \u0026quot;12\u0026quot;, \u0026quot;properties\u0026quot;: {}, \u0026quot;type\u0026quot;: \u0026quot;Feature\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;FeatureCollection\u0026quot;});\n\n        \n    \n    geo_json_82ed1537cb8019c8419199373a9885f3.bindTooltip(\n    function(layer){\n    let div = L.DomUtil.create(\u0026#x27;div\u0026#x27;);\n    \n    return div\n    }\n    ,{\n  \u0026quot;sticky\u0026quot;: true,\n  \u0026quot;className\u0026quot;: \u0026quot;foliumtooltip\u0026quot;,\n});\n                     \n    \n            geo_json_82ed1537cb8019c8419199373a9885f3.addTo(map_f769c741a5faca23c0656095d5aa31e4);\n        \n\u0026lt;/script\u0026gt;\n\u0026lt;/html\u0026gt;\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;\" allowfullscreen webkitallowfullscreen mozallowfullscreen\u003e\u003c/iframe\u003e\u003c/div\u003e\u003c/div\u003e","content_type":"text/html"},"text/plain":{"content":"\u003cfolium.folium.Map at 0x7efb98784690\u003e","content_type":"text/plain"}}}],"key":"VAyJzp5kHI"}],"key":"pTils8Snke"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"prefire_ds = stac_load(\n    items,\n    bands=(\"nir\", \"swir22\"),\n    chunks=chunk,  # \u003c-- use Dask\n    resolution=res,\n    crs=\"EPSG:32629\",\n    groupby=\"datetime\",\n    bbox=bbox,\n)\nprefire_ds = prefire_ds.mean(dim=\"time\")\nprefire_ds","key":"DVZb5E7Vhk"},{"type":"output","id":"r81sQqEW9vdMssVftCJon","data":[{"output_type":"execute_result","execution_count":25,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"f853d26314708ffb9f1d423a90056abe","path":"/tutorials/build/f853d26314708ffb9f1d423a90056abe.html"},"text/plain":{"content":"\u003cxarray.Dataset\u003e Size: 95MB\nDimensions:      (y: 2800, x: 2112)\nCoordinates:\n  * y            (y) float64 22kB 4.637e+06 4.636e+06 ... 4.609e+06 4.609e+06\n  * x            (x) float64 17kB 5.726e+05 5.726e+05 ... 5.937e+05 5.937e+05\n    spatial_ref  int32 4B 32629\nData variables:\n    nir          (y, x) float64 47MB dask.array\u003cchunksize=(2800, 2112), meta=np.ndarray\u003e\n    swir22       (y, x) float64 47MB dask.array\u003cchunksize=(2800, 2112), meta=np.ndarray\u003e","content_type":"text/plain"}}}],"key":"A9zYHOFT7P"}],"key":"sp7o8MygxX"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We now do the same for the month after..","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"eGty5LxskP"}],"key":"yHepAgFDeq"}],"key":"YAEdnRZJ3J"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"week_after_end = (week_after + timedelta(days=30))\ntime_range_end = str(week_after.date()) + \"/\" + str(week_after_end.date())\n\nquery2 = catalog.search(\n    collections=[\"sentinel-2-l2a\"], datetime=time_range_end, limit=100,\n    bbox=bbox, query={\"eo:cloud_cover\": {\"lt\": 20}}\n)\n\nitems = list(query2.items())\nprint(f\"Found: {len(items):d} datasets\")","key":"ok3Nj8Vp4G"},{"type":"output","id":"rMBEWExX9R4ss1DHorRjF","data":[{"name":"stdout","output_type":"stream","text":"Found: 8 datasets\n"}],"key":"FmbNWaJbpi"}],"key":"HAzj46TYat"},{"type":"block","kind":"notebook-code","data":{"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"poly_post = gpd.GeoSeries([shapely.Polygon(item.geometry['coordinates'][0]) for item in items], name='geometry', crs='epsg:4236')\npoly_post.explore()","key":"RCVn4tM0ii"},{"type":"output","id":"Uw_QPioq44d_t3Co0cElF","data":[{"output_type":"execute_result","execution_count":27,"metadata":{},"data":{"text/html":{"content":"\u003cdiv style=\"width:100%;\"\u003e\u003cdiv style=\"position:relative;width:100%;height:0;padding-bottom:60%;\"\u003e\u003cspan style=\"color:#565656\"\u003eMake this Notebook Trusted to load map: File -\u003e Trust Notebook\u003c/span\u003e\u003ciframe srcdoc=\"\u0026lt;!DOCTYPE html\u0026gt;\n\u0026lt;html\u0026gt;\n\u0026lt;head\u0026gt;\n    \n    \u0026lt;meta http-equiv=\u0026quot;content-type\u0026quot; content=\u0026quot;text/html; charset=UTF-8\u0026quot; /\u0026gt;\n    \n        \u0026lt;script\u0026gt;\n            L_NO_TOUCH = false;\n            L_DISABLE_3D = false;\n        \u0026lt;/script\u0026gt;\n    \n    \u0026lt;style\u0026gt;html, body {width: 100%;height: 100%;margin: 0;padding: 0;}\u0026lt;/style\u0026gt;\n    \u0026lt;style\u0026gt;#map {position:absolute;top:0;bottom:0;right:0;left:0;}\u0026lt;/style\u0026gt;\n    \u0026lt;script src=\u0026quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js\u0026quot;\u0026gt;\u0026lt;/script\u0026gt;\n    \u0026lt;script src=\u0026quot;https://code.jquery.com/jquery-3.7.1.min.js\u0026quot;\u0026gt;\u0026lt;/script\u0026gt;\n    \u0026lt;script src=\u0026quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js\u0026quot;\u0026gt;\u0026lt;/script\u0026gt;\n    \u0026lt;script src=\u0026quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js\u0026quot;\u0026gt;\u0026lt;/script\u0026gt;\n    \u0026lt;link rel=\u0026quot;stylesheet\u0026quot; href=\u0026quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css\u0026quot;/\u0026gt;\n    \u0026lt;link rel=\u0026quot;stylesheet\u0026quot; href=\u0026quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css\u0026quot;/\u0026gt;\n    \u0026lt;link rel=\u0026quot;stylesheet\u0026quot; href=\u0026quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css\u0026quot;/\u0026gt;\n    \u0026lt;link rel=\u0026quot;stylesheet\u0026quot; href=\u0026quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css\u0026quot;/\u0026gt;\n    \u0026lt;link rel=\u0026quot;stylesheet\u0026quot; href=\u0026quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css\u0026quot;/\u0026gt;\n    \u0026lt;link rel=\u0026quot;stylesheet\u0026quot; href=\u0026quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css\u0026quot;/\u0026gt;\n    \n            \u0026lt;meta name=\u0026quot;viewport\u0026quot; content=\u0026quot;width=device-width,\n                initial-scale=1.0, maximum-scale=1.0, user-scalable=no\u0026quot; /\u0026gt;\n            \u0026lt;style\u0026gt;\n                #map_47d4641655dcf16d1393e293282f6f47 {\n                    position: relative;\n                    width: 100.0%;\n                    height: 100.0%;\n                    left: 0.0%;\n                    top: 0.0%;\n                }\n                .leaflet-container { font-size: 1rem; }\n            \u0026lt;/style\u0026gt;\n        \n    \n                    \u0026lt;style\u0026gt;\n                        .foliumtooltip {\n                            \n                        }\n                       .foliumtooltip table{\n                            margin: auto;\n                        }\n                        .foliumtooltip tr{\n                            text-align: left;\n                        }\n                        .foliumtooltip th{\n                            padding: 2px; padding-right: 8px;\n                        }\n                    \u0026lt;/style\u0026gt;\n            \n\u0026lt;/head\u0026gt;\n\u0026lt;body\u0026gt;\n    \n    \n            \u0026lt;div class=\u0026quot;folium-map\u0026quot; id=\u0026quot;map_47d4641655dcf16d1393e293282f6f47\u0026quot; \u0026gt;\u0026lt;/div\u0026gt;\n        \n\u0026lt;/body\u0026gt;\n\u0026lt;script\u0026gt;\n    \n    \n            var map_47d4641655dcf16d1393e293282f6f47 = L.map(\n                \u0026quot;map_47d4641655dcf16d1393e293282f6f47\u0026quot;,\n                {\n                    center: [41.955603034783074, -8.340401116075991],\n                    crs: L.CRS.EPSG3857,\n                    ...{\n  \u0026quot;zoom\u0026quot;: 10,\n  \u0026quot;zoomControl\u0026quot;: true,\n  \u0026quot;preferCanvas\u0026quot;: false,\n}\n\n                }\n            );\n            L.control.scale().addTo(map_47d4641655dcf16d1393e293282f6f47);\n\n            \n\n        \n    \n            var tile_layer_c781eb7640da667a1020a284aaf1a1c9 = L.tileLayer(\n                \u0026quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png\u0026quot;,\n                {\n  \u0026quot;minZoom\u0026quot;: 0,\n  \u0026quot;maxZoom\u0026quot;: 19,\n  \u0026quot;maxNativeZoom\u0026quot;: 19,\n  \u0026quot;noWrap\u0026quot;: false,\n  \u0026quot;attribution\u0026quot;: \u0026quot;\\u0026copy; \\u003ca href=\\\u0026quot;https://www.openstreetmap.org/copyright\\\u0026quot;\\u003eOpenStreetMap\\u003c/a\\u003e contributors\u0026quot;,\n  \u0026quot;subdomains\u0026quot;: \u0026quot;abc\u0026quot;,\n  \u0026quot;detectRetina\u0026quot;: false,\n  \u0026quot;tms\u0026quot;: false,\n  \u0026quot;opacity\u0026quot;: 1,\n}\n\n            );\n        \n    \n            tile_layer_c781eb7640da667a1020a284aaf1a1c9.addTo(map_47d4641655dcf16d1393e293282f6f47);\n        \n    \n            map_47d4641655dcf16d1393e293282f6f47.fitBounds(\n                [[41.457390342414385, -9.008034722874328], [42.45381572715176, -7.672767509277656]],\n                {}\n            );\n        \n    \n        function geo_json_d0214dcd43b552cf599045c378df761a_styler(feature) {\n            switch(feature.id) {\n                default:\n                    return {\u0026quot;fillOpacity\u0026quot;: 0.5, \u0026quot;weight\u0026quot;: 2};\n            }\n        }\n        function geo_json_d0214dcd43b552cf599045c378df761a_highlighter(feature) {\n            switch(feature.id) {\n                default:\n                    return {\u0026quot;fillOpacity\u0026quot;: 0.75};\n            }\n        }\n        function geo_json_d0214dcd43b552cf599045c378df761a_pointToLayer(feature, latlng) {\n            var opts = {\u0026quot;bubblingMouseEvents\u0026quot;: true, \u0026quot;color\u0026quot;: \u0026quot;#3388ff\u0026quot;, \u0026quot;dashArray\u0026quot;: null, \u0026quot;dashOffset\u0026quot;: null, \u0026quot;fill\u0026quot;: true, \u0026quot;fillColor\u0026quot;: \u0026quot;#3388ff\u0026quot;, \u0026quot;fillOpacity\u0026quot;: 0.2, \u0026quot;fillRule\u0026quot;: \u0026quot;evenodd\u0026quot;, \u0026quot;lineCap\u0026quot;: \u0026quot;round\u0026quot;, \u0026quot;lineJoin\u0026quot;: \u0026quot;round\u0026quot;, \u0026quot;opacity\u0026quot;: 1.0, \u0026quot;radius\u0026quot;: 2, \u0026quot;stroke\u0026quot;: true, \u0026quot;weight\u0026quot;: 3};\n            \n            let style = geo_json_d0214dcd43b552cf599045c378df761a_styler(feature)\n            Object.assign(opts, style)\n            \n            return new L.CircleMarker(latlng, opts)\n        }\n\n        function geo_json_d0214dcd43b552cf599045c378df761a_onEachFeature(feature, layer) {\n            layer.on({\n                mouseout: function(e) {\n                    if(typeof e.target.setStyle === \u0026quot;function\u0026quot;){\n                            geo_json_d0214dcd43b552cf599045c378df761a.resetStyle(e.target);\n                    }\n                },\n                mouseover: function(e) {\n                    if(typeof e.target.setStyle === \u0026quot;function\u0026quot;){\n                        const highlightStyle = geo_json_d0214dcd43b552cf599045c378df761a_highlighter(e.target.feature)\n                        e.target.setStyle(highlightStyle);\n                    }\n                },\n            });\n        };\n        var geo_json_d0214dcd43b552cf599045c378df761a = L.geoJson(null, {\n                onEachFeature: geo_json_d0214dcd43b552cf599045c378df761a_onEachFeature,\n            \n                style: geo_json_d0214dcd43b552cf599045c378df761a_styler,\n                pointToLayer: geo_json_d0214dcd43b552cf599045c378df761a_pointToLayer,\n            ...{\n}\n        });\n\n        function geo_json_d0214dcd43b552cf599045c378df761a_add (data) {\n            geo_json_d0214dcd43b552cf599045c378df761a\n                .addData(data);\n        }\n            geo_json_d0214dcd43b552cf599045c378df761a_add({\u0026quot;bbox\u0026quot;: [-9.008034722874328, 41.457390342414385, -7.672767509277656, 42.45381572715176], \u0026quot;features\u0026quot;: [{\u0026quot;bbox\u0026quot;: [-9.00797080467442, 41.457390342414385, -7.672767509277656, 42.45371580168436], \u0026quot;geometry\u0026quot;: {\u0026quot;coordinates\u0026quot;: [[[-8.848430183404766, 42.45371580168436], [-9.00797080467442, 41.947264306814205], [-9.007911439563484, 41.46481385761268], [-7.6931255155496325, 41.457390342414385], [-7.672767509277656, 42.446131748610206], [-8.848430183404766, 42.45371580168436]]], \u0026quot;type\u0026quot;: \u0026quot;Polygon\u0026quot;}, \u0026quot;id\u0026quot;: \u0026quot;0\u0026quot;, \u0026quot;properties\u0026quot;: {}, \u0026quot;type\u0026quot;: \u0026quot;Feature\u0026quot;}, {\u0026quot;bbox\u0026quot;: [-9.007971365615608, 41.457390342414385, -7.672767509277656, 42.45371772227471], \u0026quot;geometry\u0026quot;: {\u0026quot;coordinates\u0026quot;: [[[-8.849889716247207, 42.45371772227471], [-7.672767509277656, 42.446131748610206], [-7.6931255155496325, 41.457390342414385], [-9.007911439563484, 41.46481385761268], [-9.007971365615608, 41.9517670770204], [-8.849889716247207, 42.45371772227471]]], \u0026quot;type\u0026quot;: \u0026quot;Polygon\u0026quot;}, \u0026quot;id\u0026quot;: \u0026quot;1\u0026quot;, \u0026quot;properties\u0026quot;: {}, \u0026quot;type\u0026quot;: \u0026quot;Feature\u0026quot;}, {\u0026quot;bbox\u0026quot;: [-9.007967511401409, 41.457390342414385, -7.672767509277656, 42.45370286441643], \u0026quot;geometry\u0026quot;: {\u0026quot;coordinates\u0026quot;: [[[-8.838942899391162, 42.45370286441643], [-9.007967511401409, 41.92080783200299], [-9.007911439563484, 41.46481385761268], [-7.6931255155496325, 41.457390342414385], [-7.672767509277656, 42.446131748610206], [-8.838942899391162, 42.45370286441643]]], \u0026quot;type\u0026quot;: \u0026quot;Polygon\u0026quot;}, \u0026quot;id\u0026quot;: \u0026quot;2\u0026quot;, \u0026quot;properties\u0026quot;: {}, \u0026quot;type\u0026quot;: \u0026quot;Feature\u0026quot;}, {\u0026quot;bbox\u0026quot;: [-9.007969933120693, 41.457390342414385, -7.672767509277656, 42.45371124746058], \u0026quot;geometry\u0026quot;: {\u0026quot;coordinates\u0026quot;: [[[-8.845024180762797, 42.45371124746058], [-7.672767509277656, 42.446131748610206], [-7.6931255155496325, 41.457390342414385], [-9.007911439563484, 41.46481385761268], [-9.007969933120693, 41.940266151070205], [-8.845024180762797, 42.45371124746058]]], \u0026quot;type\u0026quot;: \u0026quot;Polygon\u0026quot;}, \u0026quot;id\u0026quot;: \u0026quot;3\u0026quot;, \u0026quot;properties\u0026quot;: {}, \u0026quot;type\u0026quot;: \u0026quot;Feature\u0026quot;}, {\u0026quot;bbox\u0026quot;: [-9.008034722874328, 41.4608373743939, -7.674758785682374, 42.45381572715176], \u0026quot;geometry\u0026quot;: {\u0026quot;coordinates\u0026quot;: [[[-9.008034722874328, 42.45381572715176], [-9.007911439563484, 41.46481385761268], [-8.043482745698709, 41.4608373743939], [-7.992593492065499, 41.60241000875172], [-7.674758785682374, 42.446154790853136], [-9.008034722874328, 42.45381572715176]]], \u0026quot;type\u0026quot;: \u0026quot;Polygon\u0026quot;}, \u0026quot;id\u0026quot;: \u0026quot;4\u0026quot;, \u0026quot;properties\u0026quot;: {}, \u0026quot;type\u0026quot;: \u0026quot;Feature\u0026quot;}, {\u0026quot;bbox\u0026quot;: [-9.008034722874328, 41.46083542576438, -7.674029403641829, 42.45381572715176], \u0026quot;geometry\u0026quot;: {\u0026quot;coordinates\u0026quot;: [[[-9.008034722874328, 42.45381572715176], [-7.674029403641829, 42.44614635475656], [-7.992236784466666, 41.602311735287145], [-8.01897814644205, 41.52435779682527], [-8.043248434399132, 41.46083542576438], [-9.007911439563484, 41.46481385761268], [-9.008034722874328, 42.45381572715176]]], \u0026quot;type\u0026quot;: \u0026quot;Polygon\u0026quot;}, \u0026quot;id\u0026quot;: \u0026quot;5\u0026quot;, \u0026quot;properties\u0026quot;: {}, \u0026quot;type\u0026quot;: \u0026quot;Feature\u0026quot;}, {\u0026quot;bbox\u0026quot;: [-9.008034722874328, 41.46225189811899, -7.673996326491502, 42.45381572715176], \u0026quot;geometry\u0026quot;: {\u0026quot;coordinates\u0026quot;: [[[-9.008034722874328, 42.45381572715176], [-9.007911549061882, 41.4657146888119], [-8.04033513384876, 41.46225189811899], [-7.990947204800816, 41.60023375083485], [-7.6777545896326185, 42.427865623600724], [-7.673996326491502, 42.44614597207328], [-9.008034722874328, 42.45381572715176]]], \u0026quot;type\u0026quot;: \u0026quot;Polygon\u0026quot;}, \u0026quot;id\u0026quot;: \u0026quot;6\u0026quot;, \u0026quot;properties\u0026quot;: {}, \u0026quot;type\u0026quot;: \u0026quot;Feature\u0026quot;}, {\u0026quot;bbox\u0026quot;: [-9.008034722874328, 41.4608154385007, -7.673984932883632, 42.45381572715176], \u0026quot;geometry\u0026quot;: {\u0026quot;coordinates\u0026quot;: [[[-9.008034722874328, 42.45381572715176], [-7.673984932883632, 42.4461458402537], [-7.674970381774725, 42.43360580605155], [-7.990827054014512, 41.60023312871964], [-8.04084838797365, 41.4608154385007], [-9.007911439563484, 41.46481385761268], [-9.008034722874328, 42.45381572715176]]], \u0026quot;type\u0026quot;: \u0026quot;Polygon\u0026quot;}, \u0026quot;id\u0026quot;: \u0026quot;7\u0026quot;, \u0026quot;properties\u0026quot;: {}, \u0026quot;type\u0026quot;: \u0026quot;Feature\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;FeatureCollection\u0026quot;});\n\n        \n    \n    geo_json_d0214dcd43b552cf599045c378df761a.bindTooltip(\n    function(layer){\n    let div = L.DomUtil.create(\u0026#x27;div\u0026#x27;);\n    \n    return div\n    }\n    ,{\n  \u0026quot;sticky\u0026quot;: true,\n  \u0026quot;className\u0026quot;: \u0026quot;foliumtooltip\u0026quot;,\n});\n                     \n    \n            geo_json_d0214dcd43b552cf599045c378df761a.addTo(map_47d4641655dcf16d1393e293282f6f47);\n        \n\u0026lt;/script\u0026gt;\n\u0026lt;/html\u0026gt;\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;\" allowfullscreen webkitallowfullscreen mozallowfullscreen\u003e\u003c/iframe\u003e\u003c/div\u003e\u003c/div\u003e","content_type":"text/html"},"text/plain":{"content":"\u003cfolium.folium.Map at 0x7efb987865d0\u003e","content_type":"text/plain"}}}],"key":"efd0IcNhJk"}],"key":"XOCAmP4Uxs"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"postfire_ds = stac_load(\n    items,\n    bands=(\"nir\", \"swir22\"),\n    chunks=chunk,  # \u003c-- use Dask\n    resolution=res,\n    crs=\"EPSG:32629\",\n    groupby=\"datetime\",\n    bbox=bbox,\n)\npostfire_ds = postfire_ds.mean(dim=\"time\")\npostfire_ds","key":"BTs35hNeR6"},{"type":"output","id":"jIXddVqtF7BLwWiO57z-i","data":[{"output_type":"execute_result","execution_count":28,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"1ebcf43266c28047eaa973567af29a18","path":"/tutorials/build/1ebcf43266c28047eaa973567af29a18.html"},"text/plain":{"content":"\u003cxarray.Dataset\u003e Size: 95MB\nDimensions:      (y: 2800, x: 2112)\nCoordinates:\n  * y            (y) float64 22kB 4.637e+06 4.636e+06 ... 4.609e+06 4.609e+06\n  * x            (x) float64 17kB 5.726e+05 5.726e+05 ... 5.937e+05 5.937e+05\n    spatial_ref  int32 4B 32629\nData variables:\n    nir          (y, x) float64 47MB dask.array\u003cchunksize=(2800, 2112), meta=np.ndarray\u003e\n    swir22       (y, x) float64 47MB dask.array\u003cchunksize=(2800, 2112), meta=np.ndarray\u003e","content_type":"text/plain"}}}],"key":"DpsWwpvFJy"}],"key":"mJWjq3Y77w"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"max_poly_pre = poly_pre[[poly_pre.to_crs(epsg=3035).area.argmax()]]\nmax_poly_post = poly_post[[poly_post.to_crs(epsg=3035).area.argmax()]]","key":"bYbVlc3d9h"},{"type":"output","id":"Xzzc1jrPbzL89ThkCNWd5","data":[],"key":"o3cPUkaHPG"}],"key":"RWv04S5t9j"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# note we're reprojecting to calculate area, as Geometry is in a geographic CRS. Results from 'area' are incorrect since geopandas doesn't calc spherical geometry!\npoly_pre.area","key":"pgFRIUQ93S"},{"type":"output","id":"ECSsV3pA2lDclcHb0Quqw","data":[{"name":"stderr","output_type":"stream","text":"/tmp/ipykernel_124/4246389161.py:2: UserWarning: Geometry is in a geographic CRS. Results from 'area' are likely incorrect. Use 'GeoSeries.to_crs()' to re-project geometries to a projected CRS before this operation.\n\n  poly_pre.area\n"},{"output_type":"execute_result","execution_count":30,"metadata":{},"data":{"text/plain":{"content":"0     1.270576\n1     1.271427\n2     1.137933\n3     1.142630\n4     1.264818\n5     1.268189\n6     1.134230\n7     1.134522\n8     1.139294\n9     1.143787\n10    1.267352\n11    1.268840\n12    1.269646\ndtype: float64","content_type":"text/plain"}}}],"key":"ks8sfqulbi"}],"key":"p33wSTOj3i"},{"type":"block","kind":"notebook-code","data":{"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"m = max_poly_pre.explore( )\nm = max_poly_post.explore(m=m, color='r')\nm","key":"Bimhcb6Exe"},{"type":"output","id":"NU1ZdGUICErgnxv2asVEZ","data":[{"output_type":"execute_result","execution_count":31,"metadata":{},"data":{"text/html":{"content":"\u003cdiv style=\"width:100%;\"\u003e\u003cdiv style=\"position:relative;width:100%;height:0;padding-bottom:60%;\"\u003e\u003cspan style=\"color:#565656\"\u003eMake this Notebook Trusted to load map: File -\u003e Trust Notebook\u003c/span\u003e\u003ciframe srcdoc=\"\u0026lt;!DOCTYPE html\u0026gt;\n\u0026lt;html\u0026gt;\n\u0026lt;head\u0026gt;\n    \n    \u0026lt;meta http-equiv=\u0026quot;content-type\u0026quot; content=\u0026quot;text/html; charset=UTF-8\u0026quot; /\u0026gt;\n    \n        \u0026lt;script\u0026gt;\n            L_NO_TOUCH = false;\n            L_DISABLE_3D = false;\n        \u0026lt;/script\u0026gt;\n    \n    \u0026lt;style\u0026gt;html, body {width: 100%;height: 100%;margin: 0;padding: 0;}\u0026lt;/style\u0026gt;\n    \u0026lt;style\u0026gt;#map {position:absolute;top:0;bottom:0;right:0;left:0;}\u0026lt;/style\u0026gt;\n    \u0026lt;script src=\u0026quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js\u0026quot;\u0026gt;\u0026lt;/script\u0026gt;\n    \u0026lt;script src=\u0026quot;https://code.jquery.com/jquery-3.7.1.min.js\u0026quot;\u0026gt;\u0026lt;/script\u0026gt;\n    \u0026lt;script src=\u0026quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js\u0026quot;\u0026gt;\u0026lt;/script\u0026gt;\n    \u0026lt;script src=\u0026quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js\u0026quot;\u0026gt;\u0026lt;/script\u0026gt;\n    \u0026lt;link rel=\u0026quot;stylesheet\u0026quot; href=\u0026quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css\u0026quot;/\u0026gt;\n    \u0026lt;link rel=\u0026quot;stylesheet\u0026quot; href=\u0026quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css\u0026quot;/\u0026gt;\n    \u0026lt;link rel=\u0026quot;stylesheet\u0026quot; href=\u0026quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css\u0026quot;/\u0026gt;\n    \u0026lt;link rel=\u0026quot;stylesheet\u0026quot; href=\u0026quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css\u0026quot;/\u0026gt;\n    \u0026lt;link rel=\u0026quot;stylesheet\u0026quot; href=\u0026quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css\u0026quot;/\u0026gt;\n    \u0026lt;link rel=\u0026quot;stylesheet\u0026quot; href=\u0026quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css\u0026quot;/\u0026gt;\n    \n            \u0026lt;meta name=\u0026quot;viewport\u0026quot; content=\u0026quot;width=device-width,\n                initial-scale=1.0, maximum-scale=1.0, user-scalable=no\u0026quot; /\u0026gt;\n            \u0026lt;style\u0026gt;\n                #map_4fefe0ae2e3eef9cce054614eceb9c3c {\n                    position: relative;\n                    width: 100.0%;\n                    height: 100.0%;\n                    left: 0.0%;\n                    top: 0.0%;\n                }\n                .leaflet-container { font-size: 1rem; }\n            \u0026lt;/style\u0026gt;\n        \n    \n                    \u0026lt;style\u0026gt;\n                        .foliumtooltip {\n                            \n                        }\n                       .foliumtooltip table{\n                            margin: auto;\n                        }\n                        .foliumtooltip tr{\n                            text-align: left;\n                        }\n                        .foliumtooltip th{\n                            padding: 2px; padding-right: 8px;\n                        }\n                    \u0026lt;/style\u0026gt;\n            \n    \n                    \u0026lt;style\u0026gt;\n                        .foliumtooltip {\n                            \n                        }\n                       .foliumtooltip table{\n                            margin: auto;\n                        }\n                        .foliumtooltip tr{\n                            text-align: left;\n                        }\n                        .foliumtooltip th{\n                            padding: 2px; padding-right: 8px;\n                        }\n                    \u0026lt;/style\u0026gt;\n            \n\u0026lt;/head\u0026gt;\n\u0026lt;body\u0026gt;\n    \n    \n            \u0026lt;div class=\u0026quot;folium-map\u0026quot; id=\u0026quot;map_4fefe0ae2e3eef9cce054614eceb9c3c\u0026quot; \u0026gt;\u0026lt;/div\u0026gt;\n        \n\u0026lt;/body\u0026gt;\n\u0026lt;script\u0026gt;\n    \n    \n            var map_4fefe0ae2e3eef9cce054614eceb9c3c = L.map(\n                \u0026quot;map_4fefe0ae2e3eef9cce054614eceb9c3c\u0026quot;,\n                {\n                    center: [41.95555435013027, -8.34036971943747],\n                    crs: L.CRS.EPSG3857,\n                    ...{\n  \u0026quot;zoom\u0026quot;: 10,\n  \u0026quot;zoomControl\u0026quot;: true,\n  \u0026quot;preferCanvas\u0026quot;: false,\n}\n\n                }\n            );\n            L.control.scale().addTo(map_4fefe0ae2e3eef9cce054614eceb9c3c);\n\n            \n\n        \n    \n            var tile_layer_d4369dc8692fa1c5e05efccd1ce048fb = L.tileLayer(\n                \u0026quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png\u0026quot;,\n                {\n  \u0026quot;minZoom\u0026quot;: 0,\n  \u0026quot;maxZoom\u0026quot;: 19,\n  \u0026quot;maxNativeZoom\u0026quot;: 19,\n  \u0026quot;noWrap\u0026quot;: false,\n  \u0026quot;attribution\u0026quot;: \u0026quot;\\u0026copy; \\u003ca href=\\\u0026quot;https://www.openstreetmap.org/copyright\\\u0026quot;\\u003eOpenStreetMap\\u003c/a\\u003e contributors\u0026quot;,\n  \u0026quot;subdomains\u0026quot;: \u0026quot;abc\u0026quot;,\n  \u0026quot;detectRetina\u0026quot;: false,\n  \u0026quot;tms\u0026quot;: false,\n  \u0026quot;opacity\u0026quot;: 1,\n}\n\n            );\n        \n    \n            tile_layer_d4369dc8692fa1c5e05efccd1ce048fb.addTo(map_4fefe0ae2e3eef9cce054614eceb9c3c);\n        \n    \n            map_4fefe0ae2e3eef9cce054614eceb9c3c.fitBounds(\n                [[41.457390342414385, -9.007971929597284], [42.45371835784616, -7.672767509277656]],\n                {}\n            );\n        \n    \n        function geo_json_bd9a251ffef23fd7211db6e56b32639d_styler(feature) {\n            switch(feature.id) {\n                default:\n                    return {\u0026quot;fillOpacity\u0026quot;: 0.5, \u0026quot;weight\u0026quot;: 2};\n            }\n        }\n        function geo_json_bd9a251ffef23fd7211db6e56b32639d_highlighter(feature) {\n            switch(feature.id) {\n                default:\n                    return {\u0026quot;fillOpacity\u0026quot;: 0.75};\n            }\n        }\n        function geo_json_bd9a251ffef23fd7211db6e56b32639d_pointToLayer(feature, latlng) {\n            var opts = {\u0026quot;bubblingMouseEvents\u0026quot;: true, \u0026quot;color\u0026quot;: \u0026quot;#3388ff\u0026quot;, \u0026quot;dashArray\u0026quot;: null, \u0026quot;dashOffset\u0026quot;: null, \u0026quot;fill\u0026quot;: true, \u0026quot;fillColor\u0026quot;: \u0026quot;#3388ff\u0026quot;, \u0026quot;fillOpacity\u0026quot;: 0.2, \u0026quot;fillRule\u0026quot;: \u0026quot;evenodd\u0026quot;, \u0026quot;lineCap\u0026quot;: \u0026quot;round\u0026quot;, \u0026quot;lineJoin\u0026quot;: \u0026quot;round\u0026quot;, \u0026quot;opacity\u0026quot;: 1.0, \u0026quot;radius\u0026quot;: 2, \u0026quot;stroke\u0026quot;: true, \u0026quot;weight\u0026quot;: 3};\n            \n            let style = geo_json_bd9a251ffef23fd7211db6e56b32639d_styler(feature)\n            Object.assign(opts, style)\n            \n            return new L.CircleMarker(latlng, opts)\n        }\n\n        function geo_json_bd9a251ffef23fd7211db6e56b32639d_onEachFeature(feature, layer) {\n            layer.on({\n                mouseout: function(e) {\n                    if(typeof e.target.setStyle === \u0026quot;function\u0026quot;){\n                            geo_json_bd9a251ffef23fd7211db6e56b32639d.resetStyle(e.target);\n                    }\n                },\n                mouseover: function(e) {\n                    if(typeof e.target.setStyle === \u0026quot;function\u0026quot;){\n                        const highlightStyle = geo_json_bd9a251ffef23fd7211db6e56b32639d_highlighter(e.target.feature)\n                        e.target.setStyle(highlightStyle);\n                    }\n                },\n            });\n        };\n        var geo_json_bd9a251ffef23fd7211db6e56b32639d = L.geoJson(null, {\n                onEachFeature: geo_json_bd9a251ffef23fd7211db6e56b32639d_onEachFeature,\n            \n                style: geo_json_bd9a251ffef23fd7211db6e56b32639d_styler,\n                pointToLayer: geo_json_bd9a251ffef23fd7211db6e56b32639d_pointToLayer,\n            ...{\n}\n        });\n\n        function geo_json_bd9a251ffef23fd7211db6e56b32639d_add (data) {\n            geo_json_bd9a251ffef23fd7211db6e56b32639d\n                .addData(data);\n        }\n            geo_json_bd9a251ffef23fd7211db6e56b32639d_add({\u0026quot;bbox\u0026quot;: [-9.007971929597284, 41.457390342414385, -7.672767509277656, 42.45371835784616], \u0026quot;features\u0026quot;: [{\u0026quot;bbox\u0026quot;: [-9.007971929597284, 41.457390342414385, -7.672767509277656, 42.45371835784616], \u0026quot;geometry\u0026quot;: {\u0026quot;coordinates\u0026quot;: [[[-8.8503758474949, 42.45371835784616], [-7.672767509277656, 42.446131748610206], [-7.6931255155496325, 41.457390342414385], [-9.007911439563484, 41.46481385761268], [-9.007971929597284, 41.956293214572526], [-8.8503758474949, 42.45371835784616]]], \u0026quot;type\u0026quot;: \u0026quot;Polygon\u0026quot;}, \u0026quot;id\u0026quot;: \u0026quot;1\u0026quot;, \u0026quot;properties\u0026quot;: {}, \u0026quot;type\u0026quot;: \u0026quot;Feature\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;FeatureCollection\u0026quot;});\n\n        \n    \n    geo_json_bd9a251ffef23fd7211db6e56b32639d.bindTooltip(\n    function(layer){\n    let div = L.DomUtil.create(\u0026#x27;div\u0026#x27;);\n    \n    return div\n    }\n    ,{\n  \u0026quot;sticky\u0026quot;: true,\n  \u0026quot;className\u0026quot;: \u0026quot;foliumtooltip\u0026quot;,\n});\n                     \n    \n            geo_json_bd9a251ffef23fd7211db6e56b32639d.addTo(map_4fefe0ae2e3eef9cce054614eceb9c3c);\n        \n    \n        function geo_json_131beffdb63935eb628398fd486317a9_styler(feature) {\n            switch(feature.id) {\n                default:\n                    return {\u0026quot;color\u0026quot;: \u0026quot;r\u0026quot;, \u0026quot;fillColor\u0026quot;: \u0026quot;r\u0026quot;, \u0026quot;fillOpacity\u0026quot;: 0.5, \u0026quot;weight\u0026quot;: 2};\n            }\n        }\n        function geo_json_131beffdb63935eb628398fd486317a9_highlighter(feature) {\n            switch(feature.id) {\n                default:\n                    return {\u0026quot;fillOpacity\u0026quot;: 0.75};\n            }\n        }\n        function geo_json_131beffdb63935eb628398fd486317a9_pointToLayer(feature, latlng) {\n            var opts = {\u0026quot;bubblingMouseEvents\u0026quot;: true, \u0026quot;color\u0026quot;: \u0026quot;#3388ff\u0026quot;, \u0026quot;dashArray\u0026quot;: null, \u0026quot;dashOffset\u0026quot;: null, \u0026quot;fill\u0026quot;: true, \u0026quot;fillColor\u0026quot;: \u0026quot;#3388ff\u0026quot;, \u0026quot;fillOpacity\u0026quot;: 0.2, \u0026quot;fillRule\u0026quot;: \u0026quot;evenodd\u0026quot;, \u0026quot;lineCap\u0026quot;: \u0026quot;round\u0026quot;, \u0026quot;lineJoin\u0026quot;: \u0026quot;round\u0026quot;, \u0026quot;opacity\u0026quot;: 1.0, \u0026quot;radius\u0026quot;: 2, \u0026quot;stroke\u0026quot;: true, \u0026quot;weight\u0026quot;: 3};\n            \n            let style = geo_json_131beffdb63935eb628398fd486317a9_styler(feature)\n            Object.assign(opts, style)\n            \n            return new L.CircleMarker(latlng, opts)\n        }\n\n        function geo_json_131beffdb63935eb628398fd486317a9_onEachFeature(feature, layer) {\n            layer.on({\n                mouseout: function(e) {\n                    if(typeof e.target.setStyle === \u0026quot;function\u0026quot;){\n                            geo_json_131beffdb63935eb628398fd486317a9.resetStyle(e.target);\n                    }\n                },\n                mouseover: function(e) {\n                    if(typeof e.target.setStyle === \u0026quot;function\u0026quot;){\n                        const highlightStyle = geo_json_131beffdb63935eb628398fd486317a9_highlighter(e.target.feature)\n                        e.target.setStyle(highlightStyle);\n                    }\n                },\n            });\n        };\n        var geo_json_131beffdb63935eb628398fd486317a9 = L.geoJson(null, {\n                onEachFeature: geo_json_131beffdb63935eb628398fd486317a9_onEachFeature,\n            \n                style: geo_json_131beffdb63935eb628398fd486317a9_styler,\n                pointToLayer: geo_json_131beffdb63935eb628398fd486317a9_pointToLayer,\n            ...{\n}\n        });\n\n        function geo_json_131beffdb63935eb628398fd486317a9_add (data) {\n            geo_json_131beffdb63935eb628398fd486317a9\n                .addData(data);\n        }\n            geo_json_131beffdb63935eb628398fd486317a9_add({\u0026quot;bbox\u0026quot;: [-9.007971365615608, 41.457390342414385, -7.672767509277656, 42.45371772227471], \u0026quot;features\u0026quot;: [{\u0026quot;bbox\u0026quot;: [-9.007971365615608, 41.457390342414385, -7.672767509277656, 42.45371772227471], \u0026quot;geometry\u0026quot;: {\u0026quot;coordinates\u0026quot;: [[[-8.849889716247207, 42.45371772227471], [-7.672767509277656, 42.446131748610206], [-7.6931255155496325, 41.457390342414385], [-9.007911439563484, 41.46481385761268], [-9.007971365615608, 41.9517670770204], [-8.849889716247207, 42.45371772227471]]], \u0026quot;type\u0026quot;: \u0026quot;Polygon\u0026quot;}, \u0026quot;id\u0026quot;: \u0026quot;1\u0026quot;, \u0026quot;properties\u0026quot;: {\u0026quot;__folium_color\u0026quot;: \u0026quot;r\u0026quot;}, \u0026quot;type\u0026quot;: \u0026quot;Feature\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;FeatureCollection\u0026quot;});\n\n        \n    \n    geo_json_131beffdb63935eb628398fd486317a9.bindTooltip(\n    function(layer){\n    let div = L.DomUtil.create(\u0026#x27;div\u0026#x27;);\n    \n    return div\n    }\n    ,{\n  \u0026quot;sticky\u0026quot;: true,\n  \u0026quot;className\u0026quot;: \u0026quot;foliumtooltip\u0026quot;,\n});\n                     \n    \n            geo_json_131beffdb63935eb628398fd486317a9.addTo(map_4fefe0ae2e3eef9cce054614eceb9c3c);\n        \n\u0026lt;/script\u0026gt;\n\u0026lt;/html\u0026gt;\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;\" allowfullscreen webkitallowfullscreen mozallowfullscreen\u003e\u003c/iframe\u003e\u003c/div\u003e\u003c/div\u003e","content_type":"text/html"},"text/plain":{"content":"\u003cfolium.folium.Map at 0x7efb9890eb10\u003e","content_type":"text/plain"}}}],"key":"izoV2NK3vm"}],"key":"uTUTGkvJr2"},{"type":"block","kind":"notebook-content","children":[{"type":"blockquote","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Note:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"by0BIsJkqh"}],"key":"WMWpq18ISW"},{"type":"text","value":" The above STAC API query might return assets that intersect the region but do not fully cover it. I.e. if we fetched only one asset for each period with the above query they could potentially point to different regions (as there would be data missing). Although not relevant in this example, as all assets from both pre and after overlap, this will be a problem if not checked (as you’d be analysing different regions). In this example we visually inspect the overlap between assets and further take the mean of all the assets to get better quality pixels across time. Rerun the same example with cloud_cover = 0.2 to see where you might get some problem code!","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sBqCAI13c4"}],"key":"SlrIRbGt7f"}],"key":"WAPkPHGGV5"}],"key":"M9QUzKRpFY"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Calculating the NBR index","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"txQUiUoAOt"}],"identifier":"calculating-the-nbr-index","label":"Calculating the NBR index","html_id":"calculating-the-nbr-index","implicit":true,"key":"hXsu1b3dS0"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"In the next step we will calculate our index, using simple band math as explained in the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"QHzwifRWub"},{"type":"link","url":"/xarray101","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"xarray 101 guide","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"bhAoT72b38"}],"urlSource":"../pangeo101/xarray101.ipynb","dataUrl":"/xarray101.json","internal":true,"protocol":"file","key":"S0ueCNr8TJ"},{"type":"text","value":". We first define a function that calculates our index given a dataset with nir/swir22 band data and then add the additional variable to our pre-fire/post-fire datasets","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"G4gTVAFnNh"}],"key":"Sse6SwuQOc"}],"key":"Wak5kFQhN0"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"index_name = 'NBR'\n\n# Normalised Burn Ratio, Lopez Garcia 1991\ndef calc_nbr(ds):\n    return (ds.nir - ds.swir22) / (ds.nir + ds.swir22)\n\nindex_dict = {'NBR': calc_nbr}\nindex_dict","key":"g3GaA7k6hr"},{"type":"output","id":"lBPFoZbwNri4QuYbKSguM","data":[{"output_type":"execute_result","execution_count":32,"metadata":{},"data":{"text/plain":{"content":"{'NBR': \u003cfunction __main__.calc_nbr(ds)\u003e}","content_type":"text/plain"}}}],"key":"VRwgdoueAm"}],"key":"r8LA6rhGME"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# prefire - calls the calc_nbr function with our dataset as input to create a new NBR index (dict) and assigns it as the NBR index \n# note that we have to apply scaling (1000) and offset (0) to our band data - as defined in the dataset collection\nprefire_ds[index_name] = index_dict[index_name](prefire_ds / 10000.0) \n\n# postfire - calls the calc_nbr function with our dataset as input to create a new NBR index (dict) and assigns it as the NBR index \n# note that we have to apply scaling (1000) and offset (0) to our band data - as defined in the dataset collection\npostfire_ds[index_name] = index_dict[index_name](postfire_ds / 10000.0)","key":"VKbbsEibKi"},{"type":"output","id":"5d0klooLspR8OljUG5_ux","data":[],"key":"zy0b32urYZ"}],"key":"m2IIRDC6oe"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Now that we have the indecies calculated we can calculate the difference in burnt area between the two periods to analyse which regions have been burnt.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ASEwbFaw79"}],"key":"NP1gmoziU1"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Note that at this point we haven’t actually loaded the data or done the calculations, we’ve just defined a task graph for dask to execute. When we call persist() the graph up to that point will be executed and the data saved for in the distributed memory of our workers. We do this at this stage to avoid fetching the data multiple times in future computations.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"XMxxoTBrlH"}],"key":"edfT4M31Pm"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"We then save our result (which is a dataarray) in a new dataset: dnbr_dataset.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"a4fcd6xocV"}],"key":"Ut7pB9jBph"}],"key":"NjPPTKaaGI"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# calculate delta NBR\nprefire_burnratio = prefire_ds.NBR.persist() # \u003c--- load and keep data into your workers\npostfire_burnratio = postfire_ds.NBR.persist() # \u003c--- load and keep data into your workers\n\ndelta_NBR = prefire_burnratio - postfire_burnratio\n\ndnbr_dataset = delta_NBR.to_dataset(name='delta_NBR').persist()","key":"GmV33lZN1v"},{"type":"output","id":"_5-RdQKMl7cQNOWWrSY7G","data":[],"key":"UZ7Wq6oWAi"}],"key":"o12N0sVWXs"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"dnbr_dataset\ndelta_NBR","key":"v1L9X8lfsF"},{"type":"output","id":"TAp3rOaKU80hxrkIWzraa","data":[{"output_type":"execute_result","execution_count":35,"metadata":{},"data":{"text/html":{"content":"\u003cdiv\u003e\u003csvg style=\"position: absolute; width: 0; height: 0; overflow: hidden\"\u003e\n\u003cdefs\u003e\n\u003csymbol id=\"icon-database\" viewBox=\"0 0 32 32\"\u003e\n\u003cpath d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"\u003e\u003c/path\u003e\n\u003cpath d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"\u003e\u003c/path\u003e\n\u003cpath d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"\u003e\u003c/path\u003e\n\u003c/symbol\u003e\n\u003csymbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\"\u003e\n\u003cpath d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"\u003e\u003c/path\u003e\n\u003cpath d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"\u003e\u003c/path\u003e\n\u003cpath d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"\u003e\u003c/path\u003e\n\u003cpath d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"\u003e\u003c/path\u003e\n\u003c/symbol\u003e\n\u003c/defs\u003e\n\u003c/svg\u003e\n\u003cstyle\u003e/* CSS stylesheet for displaying xarray objects in jupyterlab.\n *\n */\n\n:root {\n  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));\n  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));\n  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));\n  --xr-border-color: var(--jp-border-color2, #e0e0e0);\n  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);\n  --xr-background-color: var(--jp-layout-color0, white);\n  --xr-background-color-row-even: var(--jp-layout-color1, white);\n  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);\n}\n\nhtml[theme=\"dark\"],\nhtml[data-theme=\"dark\"],\nbody[data-theme=\"dark\"],\nbody.vscode-dark {\n  --xr-font-color0: rgba(255, 255, 255, 1);\n  --xr-font-color2: rgba(255, 255, 255, 0.54);\n  --xr-font-color3: rgba(255, 255, 255, 0.38);\n  --xr-border-color: #1f1f1f;\n  --xr-disabled-color: #515151;\n  --xr-background-color: #111111;\n  --xr-background-color-row-even: #111111;\n  --xr-background-color-row-odd: #313131;\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header \u003e div,\n.xr-header \u003e ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-array-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: inline-block;\n  opacity: 0;\n  height: 0;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:focus + label {\n  border: 2px solid var(--xr-font-color0);\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary \u003e span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: \"►\";\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: \"▼\";\n}\n\n.xr-section-summary-in:checked + label \u003e span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap \u003e label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: \"(\";\n}\n\n.xr-dim-list:after {\n  content: \")\";\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: \",\";\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item \u003e div,\n.xr-var-item label,\n.xr-var-item \u003e .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  margin-bottom: 0;\n}\n\n.xr-var-item \u003e .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list \u003e li:nth-child(odd) \u003e div,\n.xr-var-list \u003e li:nth-child(odd) \u003e label,\n.xr-var-list \u003e li:nth-child(odd) \u003e .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  background-color: var(--xr-background-color) !important;\n  padding-bottom: 5px !important;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data \u003e table {\n  float: right;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\u003c/style\u003e\u003cpre class='xr-text-repr-fallback'\u003e\u0026lt;xarray.DataArray \u0026#x27;NBR\u0026#x27; (y: 2800, x: 2112)\u0026gt; Size: 47MB\ndask.array\u0026lt;sub, shape=(2800, 2112), dtype=float64, chunksize=(2800, 2112), chunktype=numpy.ndarray\u0026gt;\nCoordinates:\n  * y            (y) float64 22kB 4.637e+06 4.636e+06 ... 4.609e+06 4.609e+06\n  * x            (x) float64 17kB 5.726e+05 5.726e+05 ... 5.937e+05 5.937e+05\n    spatial_ref  int32 4B 32629\u003c/pre\u003e\u003cdiv class='xr-wrap' style='display:none'\u003e\u003cdiv class='xr-header'\u003e\u003cdiv class='xr-obj-type'\u003exarray.DataArray\u003c/div\u003e\u003cdiv class='xr-array-name'\u003e'NBR'\u003c/div\u003e\u003cul class='xr-dim-list'\u003e\u003cli\u003e\u003cspan class='xr-has-index'\u003ey\u003c/span\u003e: 2800\u003c/li\u003e\u003cli\u003e\u003cspan class='xr-has-index'\u003ex\u003c/span\u003e: 2112\u003c/li\u003e\u003c/ul\u003e\u003c/div\u003e\u003cul class='xr-sections'\u003e\u003cli class='xr-section-item'\u003e\u003cdiv class='xr-array-wrap'\u003e\u003cinput id='section-63eb855c-4e2d-442b-ad01-121ba37a8234' class='xr-array-in' type='checkbox' checked\u003e\u003clabel for='section-63eb855c-4e2d-442b-ad01-121ba37a8234' title='Show/hide data repr'\u003e\u003csvg class='icon xr-icon-database'\u003e\u003cuse xlink:href='#icon-database'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cdiv class='xr-array-preview xr-preview'\u003e\u003cspan\u003edask.array\u0026lt;chunksize=(2800, 2112), meta=np.ndarray\u0026gt;\u003c/span\u003e\u003c/div\u003e\u003cdiv class='xr-array-data'\u003e\u003ctable\u003e\n    \u003ctr\u003e\n        \u003ctd\u003e\n            \u003ctable style=\"border-collapse: collapse;\"\u003e\n                \u003cthead\u003e\n                    \u003ctr\u003e\n                        \u003ctd\u003e \u003c/td\u003e\n                        \u003cth\u003e Array \u003c/th\u003e\n                        \u003cth\u003e Chunk \u003c/th\u003e\n                    \u003c/tr\u003e\n                \u003c/thead\u003e\n                \u003ctbody\u003e\n                    \n                    \u003ctr\u003e\n                        \u003cth\u003e Bytes \u003c/th\u003e\n                        \u003ctd\u003e 45.12 MiB \u003c/td\u003e\n                        \u003ctd\u003e 45.12 MiB \u003c/td\u003e\n                    \u003c/tr\u003e\n                    \n                    \u003ctr\u003e\n                        \u003cth\u003e Shape \u003c/th\u003e\n                        \u003ctd\u003e (2800, 2112) \u003c/td\u003e\n                        \u003ctd\u003e (2800, 2112) \u003c/td\u003e\n                    \u003c/tr\u003e\n                    \u003ctr\u003e\n                        \u003cth\u003e Dask graph \u003c/th\u003e\n                        \u003ctd colspan=\"2\"\u003e 1 chunks in 3 graph layers \u003c/td\u003e\n                    \u003c/tr\u003e\n                    \u003ctr\u003e\n                        \u003cth\u003e Data type \u003c/th\u003e\n                        \u003ctd colspan=\"2\"\u003e float64 numpy.ndarray \u003c/td\u003e\n                    \u003c/tr\u003e\n                \u003c/tbody\u003e\n            \u003c/table\u003e\n        \u003c/td\u003e\n        \u003ctd\u003e\n        \u003csvg width=\"140\" height=\"170\" style=\"stroke:rgb(0,0,0);stroke-width:1\" \u003e\n\n  \u003c!-- Horizontal lines --\u003e\n  \u003cline x1=\"0\" y1=\"0\" x2=\"90\" y2=\"0\" style=\"stroke-width:2\" /\u003e\n  \u003cline x1=\"0\" y1=\"120\" x2=\"90\" y2=\"120\" style=\"stroke-width:2\" /\u003e\n\n  \u003c!-- Vertical lines --\u003e\n  \u003cline x1=\"0\" y1=\"0\" x2=\"0\" y2=\"120\" style=\"stroke-width:2\" /\u003e\n  \u003cline x1=\"90\" y1=\"0\" x2=\"90\" y2=\"120\" style=\"stroke-width:2\" /\u003e\n\n  \u003c!-- Colored Rectangle --\u003e\n  \u003cpolygon points=\"0.0,0.0 90.51428571428572,0.0 90.51428571428572,120.0 0.0,120.0\" style=\"fill:#ECB172A0;stroke-width:0\"/\u003e\n\n  \u003c!-- Text --\u003e\n  \u003ctext x=\"45.257143\" y=\"140.000000\" font-size=\"1.0rem\" font-weight=\"100\" text-anchor=\"middle\" \u003e2112\u003c/text\u003e\n  \u003ctext x=\"110.514286\" y=\"60.000000\" font-size=\"1.0rem\" font-weight=\"100\" text-anchor=\"middle\" transform=\"rotate(-90,110.514286,60.000000)\"\u003e2800\u003c/text\u003e\n\u003c/svg\u003e\n        \u003c/td\u003e\n    \u003c/tr\u003e\n\u003c/table\u003e\u003c/div\u003e\u003c/div\u003e\u003c/li\u003e\u003cli class='xr-section-item'\u003e\u003cinput id='section-f1b586a8-63ef-40dd-8bd4-ac6e2680b206' class='xr-section-summary-in' type='checkbox'  checked\u003e\u003clabel for='section-f1b586a8-63ef-40dd-8bd4-ac6e2680b206' class='xr-section-summary' \u003eCoordinates: \u003cspan\u003e(3)\u003c/span\u003e\u003c/label\u003e\u003cdiv class='xr-section-inline-details'\u003e\u003c/div\u003e\u003cdiv class='xr-section-details'\u003e\u003cul class='xr-var-list'\u003e\u003cli class='xr-var-item'\u003e\u003cdiv class='xr-var-name'\u003e\u003cspan class='xr-has-index'\u003ey\u003c/span\u003e\u003c/div\u003e\u003cdiv class='xr-var-dims'\u003e(y)\u003c/div\u003e\u003cdiv class='xr-var-dtype'\u003efloat64\u003c/div\u003e\u003cdiv class='xr-var-preview xr-preview'\u003e4.637e+06 4.636e+06 ... 4.609e+06\u003c/div\u003e\u003cinput id='attrs-325f8153-1a67-449c-9f80-5aa2c49e5a33' class='xr-var-attrs-in' type='checkbox' \u003e\u003clabel for='attrs-325f8153-1a67-449c-9f80-5aa2c49e5a33' title='Show/Hide attributes'\u003e\u003csvg class='icon xr-icon-file-text2'\u003e\u003cuse xlink:href='#icon-file-text2'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cinput id='data-339b34df-7fb2-4134-825e-ced5d1131868' class='xr-var-data-in' type='checkbox'\u003e\u003clabel for='data-339b34df-7fb2-4134-825e-ced5d1131868' title='Show/Hide data repr'\u003e\u003csvg class='icon xr-icon-database'\u003e\u003cuse xlink:href='#icon-database'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cdiv class='xr-var-attrs'\u003e\u003cdl class='xr-attrs'\u003e\u003cdt\u003e\u003cspan\u003eunits :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003emetre\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003eresolution :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003e-10.0\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003ecrs :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003eEPSG:32629\u003c/dd\u003e\u003c/dl\u003e\u003c/div\u003e\u003cdiv class='xr-var-data'\u003e\u003cpre\u003earray([4636505., 4636495., 4636485., ..., 4608535., 4608525., 4608515.],\n      shape=(2800,))\u003c/pre\u003e\u003c/div\u003e\u003c/li\u003e\u003cli class='xr-var-item'\u003e\u003cdiv class='xr-var-name'\u003e\u003cspan class='xr-has-index'\u003ex\u003c/span\u003e\u003c/div\u003e\u003cdiv class='xr-var-dims'\u003e(x)\u003c/div\u003e\u003cdiv class='xr-var-dtype'\u003efloat64\u003c/div\u003e\u003cdiv class='xr-var-preview xr-preview'\u003e5.726e+05 5.726e+05 ... 5.937e+05\u003c/div\u003e\u003cinput id='attrs-0c0d58e7-91d8-4ada-916b-6d2e12602bef' class='xr-var-attrs-in' type='checkbox' \u003e\u003clabel for='attrs-0c0d58e7-91d8-4ada-916b-6d2e12602bef' title='Show/Hide attributes'\u003e\u003csvg class='icon xr-icon-file-text2'\u003e\u003cuse xlink:href='#icon-file-text2'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cinput id='data-7e5f7955-3d9f-4658-b8dd-8b8d3d7506a6' class='xr-var-data-in' type='checkbox'\u003e\u003clabel for='data-7e5f7955-3d9f-4658-b8dd-8b8d3d7506a6' title='Show/Hide data repr'\u003e\u003csvg class='icon xr-icon-database'\u003e\u003cuse xlink:href='#icon-database'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cdiv class='xr-var-attrs'\u003e\u003cdl class='xr-attrs'\u003e\u003cdt\u003e\u003cspan\u003eunits :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003emetre\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003eresolution :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003e10.0\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003ecrs :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003eEPSG:32629\u003c/dd\u003e\u003c/dl\u003e\u003c/div\u003e\u003cdiv class='xr-var-data'\u003e\u003cpre\u003earray([572605., 572615., 572625., ..., 593695., 593705., 593715.],\n      shape=(2112,))\u003c/pre\u003e\u003c/div\u003e\u003c/li\u003e\u003cli class='xr-var-item'\u003e\u003cdiv class='xr-var-name'\u003e\u003cspan\u003espatial_ref\u003c/span\u003e\u003c/div\u003e\u003cdiv class='xr-var-dims'\u003e()\u003c/div\u003e\u003cdiv class='xr-var-dtype'\u003eint32\u003c/div\u003e\u003cdiv class='xr-var-preview xr-preview'\u003e32629\u003c/div\u003e\u003cinput id='attrs-8606b087-3a78-48ca-a868-722643444bec' class='xr-var-attrs-in' type='checkbox' \u003e\u003clabel for='attrs-8606b087-3a78-48ca-a868-722643444bec' title='Show/Hide attributes'\u003e\u003csvg class='icon xr-icon-file-text2'\u003e\u003cuse xlink:href='#icon-file-text2'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cinput id='data-19e677dd-4898-4f9a-9fb2-3b565ac5371d' class='xr-var-data-in' type='checkbox'\u003e\u003clabel for='data-19e677dd-4898-4f9a-9fb2-3b565ac5371d' title='Show/Hide data repr'\u003e\u003csvg class='icon xr-icon-database'\u003e\u003cuse xlink:href='#icon-database'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cdiv class='xr-var-attrs'\u003e\u003cdl class='xr-attrs'\u003e\u003cdt\u003e\u003cspan\u003espatial_ref :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003ePROJCRS[\u0026quot;WGS 84 / UTM zone 29N\u0026quot;,BASEGEOGCRS[\u0026quot;WGS 84\u0026quot;,ENSEMBLE[\u0026quot;World Geodetic System 1984 ensemble\u0026quot;,MEMBER[\u0026quot;World Geodetic System 1984 (Transit)\u0026quot;],MEMBER[\u0026quot;World Geodetic System 1984 (G730)\u0026quot;],MEMBER[\u0026quot;World Geodetic System 1984 (G873)\u0026quot;],MEMBER[\u0026quot;World Geodetic System 1984 (G1150)\u0026quot;],MEMBER[\u0026quot;World Geodetic System 1984 (G1674)\u0026quot;],MEMBER[\u0026quot;World Geodetic System 1984 (G1762)\u0026quot;],MEMBER[\u0026quot;World Geodetic System 1984 (G2139)\u0026quot;],MEMBER[\u0026quot;World Geodetic System 1984 (G2296)\u0026quot;],ELLIPSOID[\u0026quot;WGS 84\u0026quot;,6378137,298.257223563,LENGTHUNIT[\u0026quot;metre\u0026quot;,1]],ENSEMBLEACCURACY[2.0]],PRIMEM[\u0026quot;Greenwich\u0026quot;,0,ANGLEUNIT[\u0026quot;degree\u0026quot;,0.0174532925199433]],ID[\u0026quot;EPSG\u0026quot;,4326]],CONVERSION[\u0026quot;UTM zone 29N\u0026quot;,METHOD[\u0026quot;Transverse Mercator\u0026quot;,ID[\u0026quot;EPSG\u0026quot;,9807]],PARAMETER[\u0026quot;Latitude of natural origin\u0026quot;,0,ANGLEUNIT[\u0026quot;degree\u0026quot;,0.0174532925199433],ID[\u0026quot;EPSG\u0026quot;,8801]],PARAMETER[\u0026quot;Longitude of natural origin\u0026quot;,-9,ANGLEUNIT[\u0026quot;degree\u0026quot;,0.0174532925199433],ID[\u0026quot;EPSG\u0026quot;,8802]],PARAMETER[\u0026quot;Scale factor at natural origin\u0026quot;,0.9996,SCALEUNIT[\u0026quot;unity\u0026quot;,1],ID[\u0026quot;EPSG\u0026quot;,8805]],PARAMETER[\u0026quot;False easting\u0026quot;,500000,LENGTHUNIT[\u0026quot;metre\u0026quot;,1],ID[\u0026quot;EPSG\u0026quot;,8806]],PARAMETER[\u0026quot;False northing\u0026quot;,0,LENGTHUNIT[\u0026quot;metre\u0026quot;,1],ID[\u0026quot;EPSG\u0026quot;,8807]]],CS[Cartesian,2],AXIS[\u0026quot;(E)\u0026quot;,east,ORDER[1],LENGTHUNIT[\u0026quot;metre\u0026quot;,1]],AXIS[\u0026quot;(N)\u0026quot;,north,ORDER[2],LENGTHUNIT[\u0026quot;metre\u0026quot;,1]],USAGE[SCOPE[\u0026quot;Navigation and medium accuracy spatial referencing.\u0026quot;],AREA[\u0026quot;Between 12°W and 6°W, northern hemisphere between equator and 84°N, onshore and offshore. Algeria. Côte D\u0026#x27;Ivoire (Ivory Coast). Faroe Islands. Guinea. Ireland. Jan Mayen. Liberia, Mali. Mauritania. Morocco. Portugal. Sierra Leone. Spain. United Kingdom (UK). Western Sahara.\u0026quot;],BBOX[0,-12.01,84.01,-6]],ID[\u0026quot;EPSG\u0026quot;,32629]]\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003ecrs_wkt :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003ePROJCRS[\u0026quot;WGS 84 / UTM zone 29N\u0026quot;,BASEGEOGCRS[\u0026quot;WGS 84\u0026quot;,ENSEMBLE[\u0026quot;World Geodetic System 1984 ensemble\u0026quot;,MEMBER[\u0026quot;World Geodetic System 1984 (Transit)\u0026quot;],MEMBER[\u0026quot;World Geodetic System 1984 (G730)\u0026quot;],MEMBER[\u0026quot;World Geodetic System 1984 (G873)\u0026quot;],MEMBER[\u0026quot;World Geodetic System 1984 (G1150)\u0026quot;],MEMBER[\u0026quot;World Geodetic System 1984 (G1674)\u0026quot;],MEMBER[\u0026quot;World Geodetic System 1984 (G1762)\u0026quot;],MEMBER[\u0026quot;World Geodetic System 1984 (G2139)\u0026quot;],MEMBER[\u0026quot;World Geodetic System 1984 (G2296)\u0026quot;],ELLIPSOID[\u0026quot;WGS 84\u0026quot;,6378137,298.257223563,LENGTHUNIT[\u0026quot;metre\u0026quot;,1]],ENSEMBLEACCURACY[2.0]],PRIMEM[\u0026quot;Greenwich\u0026quot;,0,ANGLEUNIT[\u0026quot;degree\u0026quot;,0.0174532925199433]],ID[\u0026quot;EPSG\u0026quot;,4326]],CONVERSION[\u0026quot;UTM zone 29N\u0026quot;,METHOD[\u0026quot;Transverse Mercator\u0026quot;,ID[\u0026quot;EPSG\u0026quot;,9807]],PARAMETER[\u0026quot;Latitude of natural origin\u0026quot;,0,ANGLEUNIT[\u0026quot;degree\u0026quot;,0.0174532925199433],ID[\u0026quot;EPSG\u0026quot;,8801]],PARAMETER[\u0026quot;Longitude of natural origin\u0026quot;,-9,ANGLEUNIT[\u0026quot;degree\u0026quot;,0.0174532925199433],ID[\u0026quot;EPSG\u0026quot;,8802]],PARAMETER[\u0026quot;Scale factor at natural origin\u0026quot;,0.9996,SCALEUNIT[\u0026quot;unity\u0026quot;,1],ID[\u0026quot;EPSG\u0026quot;,8805]],PARAMETER[\u0026quot;False easting\u0026quot;,500000,LENGTHUNIT[\u0026quot;metre\u0026quot;,1],ID[\u0026quot;EPSG\u0026quot;,8806]],PARAMETER[\u0026quot;False northing\u0026quot;,0,LENGTHUNIT[\u0026quot;metre\u0026quot;,1],ID[\u0026quot;EPSG\u0026quot;,8807]]],CS[Cartesian,2],AXIS[\u0026quot;(E)\u0026quot;,east,ORDER[1],LENGTHUNIT[\u0026quot;metre\u0026quot;,1]],AXIS[\u0026quot;(N)\u0026quot;,north,ORDER[2],LENGTHUNIT[\u0026quot;metre\u0026quot;,1]],USAGE[SCOPE[\u0026quot;Navigation and medium accuracy spatial referencing.\u0026quot;],AREA[\u0026quot;Between 12°W and 6°W, northern hemisphere between equator and 84°N, onshore and offshore. Algeria. Côte D\u0026#x27;Ivoire (Ivory Coast). Faroe Islands. Guinea. Ireland. Jan Mayen. Liberia, Mali. Mauritania. Morocco. Portugal. Sierra Leone. Spain. United Kingdom (UK). Western Sahara.\u0026quot;],BBOX[0,-12.01,84.01,-6]],ID[\u0026quot;EPSG\u0026quot;,32629]]\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003esemi_major_axis :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003e6378137.0\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003esemi_minor_axis :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003e6356752.314245179\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003einverse_flattening :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003e298.257223563\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003ereference_ellipsoid_name :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003eWGS 84\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003elongitude_of_prime_meridian :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003e0.0\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003eprime_meridian_name :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003eGreenwich\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003egeographic_crs_name :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003eWGS 84\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003ehorizontal_datum_name :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003eWorld Geodetic System 1984 ensemble\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003eprojected_crs_name :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003eWGS 84 / UTM zone 29N\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003egrid_mapping_name :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003etransverse_mercator\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003elatitude_of_projection_origin :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003e0.0\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003elongitude_of_central_meridian :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003e-9.0\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003efalse_easting :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003e500000.0\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003efalse_northing :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003e0.0\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003escale_factor_at_central_meridian :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003e0.9996\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003eGeoTransform :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003e572600 10 0 4636510 0 -10\u003c/dd\u003e\u003c/dl\u003e\u003c/div\u003e\u003cdiv class='xr-var-data'\u003e\u003cpre\u003earray(32629, dtype=int32)\u003c/pre\u003e\u003c/div\u003e\u003c/li\u003e\u003c/ul\u003e\u003c/div\u003e\u003c/li\u003e\u003cli class='xr-section-item'\u003e\u003cinput id='section-4c7f12bb-8c4b-48b8-99d7-82b4e5460c64' class='xr-section-summary-in' type='checkbox'  \u003e\u003clabel for='section-4c7f12bb-8c4b-48b8-99d7-82b4e5460c64' class='xr-section-summary' \u003eIndexes: \u003cspan\u003e(2)\u003c/span\u003e\u003c/label\u003e\u003cdiv class='xr-section-inline-details'\u003e\u003c/div\u003e\u003cdiv class='xr-section-details'\u003e\u003cul class='xr-var-list'\u003e\u003cli class='xr-var-item'\u003e\u003cdiv class='xr-index-name'\u003e\u003cdiv\u003ey\u003c/div\u003e\u003c/div\u003e\u003cdiv class='xr-index-preview'\u003ePandasIndex\u003c/div\u003e\u003cinput type='checkbox' disabled/\u003e\u003clabel\u003e\u003c/label\u003e\u003cinput id='index-71448c8d-7767-4083-a517-4cb75d3562b2' class='xr-index-data-in' type='checkbox'/\u003e\u003clabel for='index-71448c8d-7767-4083-a517-4cb75d3562b2' title='Show/Hide index repr'\u003e\u003csvg class='icon xr-icon-database'\u003e\u003cuse xlink:href='#icon-database'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cdiv class='xr-index-data'\u003e\u003cpre\u003ePandasIndex(Index([4636505.0, 4636495.0, 4636485.0, 4636475.0, 4636465.0, 4636455.0,\n       4636445.0, 4636435.0, 4636425.0, 4636415.0,\n       ...\n       4608605.0, 4608595.0, 4608585.0, 4608575.0, 4608565.0, 4608555.0,\n       4608545.0, 4608535.0, 4608525.0, 4608515.0],\n      dtype=\u0026#x27;float64\u0026#x27;, name=\u0026#x27;y\u0026#x27;, length=2800))\u003c/pre\u003e\u003c/div\u003e\u003c/li\u003e\u003cli class='xr-var-item'\u003e\u003cdiv class='xr-index-name'\u003e\u003cdiv\u003ex\u003c/div\u003e\u003c/div\u003e\u003cdiv class='xr-index-preview'\u003ePandasIndex\u003c/div\u003e\u003cinput type='checkbox' disabled/\u003e\u003clabel\u003e\u003c/label\u003e\u003cinput id='index-de6ecaff-c04a-43e4-ad29-979f7f3cab8a' class='xr-index-data-in' type='checkbox'/\u003e\u003clabel for='index-de6ecaff-c04a-43e4-ad29-979f7f3cab8a' title='Show/Hide index repr'\u003e\u003csvg class='icon xr-icon-database'\u003e\u003cuse xlink:href='#icon-database'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cdiv class='xr-index-data'\u003e\u003cpre\u003ePandasIndex(Index([572605.0, 572615.0, 572625.0, 572635.0, 572645.0, 572655.0, 572665.0,\n       572675.0, 572685.0, 572695.0,\n       ...\n       593625.0, 593635.0, 593645.0, 593655.0, 593665.0, 593675.0, 593685.0,\n       593695.0, 593705.0, 593715.0],\n      dtype=\u0026#x27;float64\u0026#x27;, name=\u0026#x27;x\u0026#x27;, length=2112))\u003c/pre\u003e\u003c/div\u003e\u003c/li\u003e\u003c/ul\u003e\u003c/div\u003e\u003c/li\u003e\u003cli class='xr-section-item'\u003e\u003cinput id='section-74f9b154-a133-47e1-b62a-20b9bfc1ac0a' class='xr-section-summary-in' type='checkbox' disabled \u003e\u003clabel for='section-74f9b154-a133-47e1-b62a-20b9bfc1ac0a' class='xr-section-summary'  title='Expand/collapse section'\u003eAttributes: \u003cspan\u003e(0)\u003c/span\u003e\u003c/label\u003e\u003cdiv class='xr-section-inline-details'\u003e\u003c/div\u003e\u003cdiv class='xr-section-details'\u003e\u003cdl class='xr-attrs'\u003e\u003c/dl\u003e\u003c/div\u003e\u003c/li\u003e\u003c/ul\u003e\u003c/div\u003e\u003c/div\u003e","content_type":"text/html"},"text/plain":{"content":"\u003cxarray.DataArray 'NBR' (y: 2800, x: 2112)\u003e Size: 47MB\ndask.array\u003csub, shape=(2800, 2112), dtype=float64, chunksize=(2800, 2112), chunktype=numpy.ndarray\u003e\nCoordinates:\n  * y            (y) float64 22kB 4.637e+06 4.636e+06 ... 4.609e+06 4.609e+06\n  * x            (x) float64 17kB 5.726e+05 5.726e+05 ... 5.937e+05 5.937e+05\n    spatial_ref  int32 4B 32629","content_type":"text/plain"}}}],"key":"emUXyR13De"}],"key":"Q1gqR0ajDX"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plotting and visualization","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GGikFIZkCm"}],"identifier":"plotting-and-visualization","label":"Plotting and visualization","html_id":"plotting-and-visualization","implicit":true,"key":"koR8icP3Jb"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We will now plot our data from before, after and the delta of our wildfire event to further analyse. Note that, this will trigger the execution of our dask task graph. The Pangeo stack offers many tools for visualization! In the example below we will showcase plotting with Cartopy","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"w28EemsDhz"}],"key":"tR0m5MRBlg"}],"key":"OVeFZTJUmz"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plotting Before","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TqGfNudsZR"}],"identifier":"plotting-before","label":"Plotting Before","html_id":"plotting-before","implicit":true,"key":"VF82hrGkh4"}],"key":"yIkYkml3gS"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fig = plt.figure(1, figsize=[7, 10])\n\n# We're using cartopy and are plotting in PlateCarree projection \n# (see documentation on cartopy)\nax = plt.subplot(1, 1, 1, projection=ccrs.PlateCarree())\nax.coastlines(resolution='10m')\nax.gridlines(draw_labels=True)\n\n# We need to project our data to the new Orthographic projection and for this we use `transform`.\n# we set the original data projection in transform (here Mercator)\nprefire_burnratio.plot(ax=ax, transform=ccrs.epsg(prefire_burnratio.spatial_ref.values), cmap='RdBu_r',\n                       cbar_kwargs={'orientation':'horizontal','shrink':0.95})\n\n# One way to customize your title\nplt.title(\"Pre-Fire: \" + time_range_start, fontsize=18)","key":"rQNSyTqqKV"},{"type":"output","id":"OpIkW70kJFrgcAUARdCKr","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"7be30b4d4e73df3c30aa947c787be71c","path":"/tutorials/build/7be30b4d4e73df3c30aa947c787be71c.png"},"text/plain":{"content":"\u003cFigure size 700x1000 with 2 Axes\u003e","content_type":"text/plain"}}}],"key":"GO4ikq2KUS"}],"key":"blLZWMjBCG"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plotting After","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ch7mkEHpQ5"}],"identifier":"plotting-after","label":"Plotting After","html_id":"plotting-after","implicit":true,"key":"iEjv46yEnd"}],"key":"oSkZWS3aaD"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fig = plt.figure(1, figsize=[7, 9])\n\n# We're using cartopy and are plotting in PlateCarree projection \n# (see documentation on cartopy)\nax = plt.subplot(1, 1, 1, projection=ccrs.PlateCarree())\nax.coastlines(resolution='10m')\nax.gridlines(draw_labels=True)\n\n# We need to project our data to the new Orthographic projection and for this we use `transform`.\n# we set the original data projection in transform (here Mercator)\npostfire_burnratio.plot(ax=ax, transform=ccrs.epsg(postfire_burnratio.spatial_ref.values), cmap='RdBu_r',\n                        cbar_kwargs={'orientation':'horizontal','shrink':0.95})\n\n# One way to customize your title\nplt.title(\"Post-Fire: \" + time_range_end, fontsize=18)","key":"jPS9bNKx4y"},{"type":"output","id":"kgApgnkZoZyLEAlXbIPVW","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"53f6593692fa13250ccdbfa9408e7ea7","path":"/tutorials/build/53f6593692fa13250ccdbfa9408e7ea7.png"},"text/plain":{"content":"\u003cFigure size 700x900 with 2 Axes\u003e","content_type":"text/plain"}}}],"key":"qwt056qkWg"}],"key":"UmSlk7Q87Q"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plotting Delta","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DhKIs26ZUG"}],"identifier":"plotting-delta","label":"Plotting Delta","html_id":"plotting-delta","implicit":true,"key":"dy0cfaiphX"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The plot below highligths the burnt regions","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"yCPcLHOAsH"}],"key":"tQZ2h0tmI8"}],"key":"qDRT2UfRwQ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fig = plt.figure(1, figsize=[7, 10])\n\n# We're using cartopy and are plotting in PlateCarree projection \n# (see documentation on cartopy)\nax = plt.subplot(1, 1, 1, projection=ccrs.PlateCarree())\nax.coastlines(resolution='10m')\nax.gridlines(draw_labels=True)\n\n# We need to project our data to the new Orthographic projection and for this we use `transform`.\n# we set the original data projection in transform (here Mercator)\ndnbr_dataset.delta_NBR.plot(ax=ax, transform=ccrs.epsg(dnbr_dataset.delta_NBR.spatial_ref.values), cmap='RdBu_r',\n                            cbar_kwargs={'orientation':'horizontal','shrink':0.95})\n\n# One way to customize your title\nplt.title( \"Delta NBR\", fontsize=18)","key":"WynejOuOA7"},{"type":"output","id":"K719W_0WW6CKMvo2CJVmV","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"d2632a904bbe679e2b1a95ff65cedb2f","path":"/tutorials/build/d2632a904bbe679e2b1a95ff65cedb2f.png"},"text/plain":{"content":"\u003cFigure size 700x1000 with 2 Axes\u003e","content_type":"text/plain"}}}],"key":"TNUweSSsXL"}],"key":"m9WUadBBIW"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Analysing Burnt Areas","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nGeUQ2kbvh"}],"identifier":"analysing-burnt-areas","label":"Analysing Burnt Areas","html_id":"analysing-burnt-areas","implicit":true,"key":"Quuh5n33v0"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Great, now that we’ve calculated the delta NBR (dNBR), we can estimate the amount of area that was burned. First we need to classify which pixels are actually burned and then calculate the area that was burned.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"yQPa6LWrml"}],"key":"rMWjeTgzm7"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"To classify burned area we can use the dNBR reference ratio ratios described in: ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"xOUpIFQNyv"},{"type":"link","url":"https://un-spider.org/advisory-support/recommended-practices/recommended-practice-burn-severity/in-detail/normalized-burn-ratio","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"https://​un​-spider​.org​/advisory​-support​/recommended​-practices​/recommended​-practice​-burn​-severity​/in​-detail​/normalized​-burn​-ratio","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"LMpkA9D6h9"}],"urlSource":"https://un-spider.org/advisory-support/recommended-practices/recommended-practice-burn-severity/in-detail/normalized-burn-ratio","key":"Wi4FvLcEGH"},{"type":"text","value":" - and estimate the low to severe burnt areas. ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Vsrt26Wojm"},{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"i.e. the areas with a dNBR of above 0.270","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"AJTXnMIHJM"}],"key":"oVSaSzeBCi"}],"key":"BCUilnffxr"},{"type":"image","url":"/tutorials/build/2abbd18d64e70642d7c0e83666723e68.png","alt":"img","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"ROMUVste7S","urlSource":"https://un-spider.org/sites/default/files/table+legend.PNG"}],"key":"go8ENTuQKj"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"BURN_THRESH = 0.270\nburn_mask = dnbr_dataset.delta_NBR \u003e BURN_THRESH           # True/False mask, same shape as raster\nburn_mask.plot()\n\n# save the burn_mask to our dataset\ndnbr_dataset['burned_ha_mask'] = burn_mask","key":"W0n45XtXJp"},{"type":"output","id":"Joecl9By0V6Gsbd9PRImJ","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"05e486b3a121a09ae774eedfbb4b2d3a","path":"/tutorials/build/05e486b3a121a09ae774eedfbb4b2d3a.png"},"text/plain":{"content":"\u003cFigure size 640x480 with 2 Axes\u003e","content_type":"text/plain"}}}],"key":"OFpjZIMEix"}],"key":"pztwuecwoo"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Simple Validation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BlMHYVZc3u"}],"identifier":"simple-validation","label":"Simple Validation","html_id":"simple-validation","implicit":true,"key":"b42Nomqr21"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Now with the above a data mask where all pixels classified as burnt are 1 and the non burnt ones are 0. To calculate burnt area, we simply sum all pixels and multiply them by the area which a pixel covers (i.e. the resolution, which in our case is 10m/p).","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"wmUYHw4Hh1"}],"key":"plcDJePZEZ"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"At the same step we will convert our metric to hectares (ha) so that we can compare and validate our findings against the original GWIS data.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"OrBhsAyvYA"}],"key":"O1Q2hFTZR8"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Note that in an actual study, the ground truth data and validation would involve field studies and more precise validation, but we simplify the example for the training.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"CqQvw7pKoh"}],"key":"Mobj4N5nHV"}],"key":"ir5YNZetjm"}],"key":"PwfuA8Ke89"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"","key":"cvn8il0RwY"},{"type":"output","id":"jbB6Dj7_KYw1HlFEF0Prq","data":[],"key":"fcXN9qiaHw"}],"key":"N10HzFtQDg"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"dx, dy = dnbr_dataset.delta_NBR.rio.resolution()\npixel_area_ha = abs(dx * dy) / 1e4       # 10m × 10m = 0.01 ha\n\npixels_burned   = burn_mask.sum().compute().item()   # integer number of burned pixels\nburned_area_ha  = pixels_burned * pixel_area_ha\n\nprint(f\"Burned area   : {burned_area_ha:,.2f} ha\")\nprint(f\"Actual Burned Area : {biggest_fire_aoi.sum().compute():,.2f}, ha\")","key":"jlIKvAfgDS"},{"type":"output","id":"81Y5Vomia6VS_z-IkqqZp","data":[{"name":"stdout","output_type":"stream","text":"Burned area   : 2,373.14 ha\nActual Burned Area : 2,214.27, ha\n"}],"key":"eBlIzXw0vA"}],"key":"jwNcecgdjL"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"There’s only a difference of about 100 ha, which, given our simple analysis, is actually quite accurate!","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"udszwtdIlp"}],"key":"UaFjLOaQcZ"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"note this is based on the geojson feature in the github repo","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"sKhw91mtz3"}],"key":"wjsNljvpO5"},{"type":"text","value":" with the following result:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"nWtEtLora3"}],"key":"nehFT2ctXC"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":4,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Burned area   : 2,373.14 ha","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"hZvomPcC8C"}],"key":"n8djGIVMfl"}],"key":"UaytsququQ"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Actual Burned Area : 2,214.27, ha","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Ql1AnpIKK9"}],"key":"YmBwhwStlh"}],"key":"mTSLRCZE3O"}],"key":"dAkphK21QK"},{"type":"heading","depth":3,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Plotting and Analysing Final Results","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"ljwTOHN29j"}],"identifier":"plotting-and-analysing-final-results","label":"Plotting and Analysing Final Results","html_id":"plotting-and-analysing-final-results","implicit":true,"key":"wIRQJOJjye"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"We can visually inspect our plot to see if our data follows the same trends as our ground truth GWIS dataset.","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"HXkPAf1CuW"}],"key":"hXwi74mni2"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"To achieve this though, we need to reproject our data, since the sentinel-2 data we are using is in a different projection with a higher resolution (10m/pixel) and the SeasFire GWIS ground truth data has a resolution of 0.25 degrees (approx 28km x 28 km).","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"y7VgaGTjOr"}],"key":"Qh7NmJIKxF"},{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"We will do this using the ","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"Db1ATtnYEn"},{"type":"emphasis","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"rioxarray library","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"kjypaV32aP"}],"key":"yFA9AzRErw"},{"type":"text","value":", which offers convenient methods such as reproject_match, which takes in as an argument a dataarray to which to match the original dataset. It essentially reprojects and matches the grid of a datarray to match the grid/projection of another and upsamples (or downsamples) the data to match resolutions, as well as subsetting the data to match.","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"jyzZLhQla6"}],"key":"drSWz51Q4D"},{"type":"paragraph","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Learn more about how it works at: ","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"jec5FnBXHB"},{"type":"link","url":"https://corteva.github.io/rioxarray/stable/examples/reproject_match.html","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"https://​corteva​.github​.io​/rioxarray​/stable​/examples​/reproject​_match​.html","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"pe2xoCEUFj"}],"urlSource":"https://corteva.github.io/rioxarray/stable/examples/reproject_match.html","key":"kThFr0NwIo"}],"key":"ljlhLbofn4"}],"key":"aHDMZbDMji"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# ensure that our dataarray has metadata about its projection - this is used by rioxarray.\nbiggest_fire_aoi = biggest_fire_aoi.rio.write_crs(ds.rio.crs)\n\nbiggest_fire_aoi_reprojected = biggest_fire_aoi.rio.reproject_match(dnbr_dataset.burned_ha_mask)\n\n\nburned_ha_mask_plot = dnbr_dataset.burned_ha_mask.hvplot(\n    width=700,\n    height=700,\n    title='dNBR (10 m) with GWIS overlay',\n    alpha=1.0\n)\n\n# Plot the reprojected coarse dataset as transparent overlay\ngwis_plot = biggest_fire_aoi_reprojected.hvplot(\n    cmap='Reds',\n    alpha=0.3,\n    clim=(0, biggest_fire_aoi.max().compute().item())\n)\n\n# Combine them interactively\ncombined_plot = burned_ha_mask_plot * gwis_plot\n\ncombined_plot\n","key":"ubRk5Zn3Dl"},{"type":"output","id":"l8qPI2E12cTAgo3oxgFit","data":[{"output_type":"display_data","metadata":{},"data":{}},{"output_type":"execute_result","execution_count":49,"metadata":{"application/vnd.holoviews_exec.v0+json":{"id":"1ed303ef-518c-46bb-ba5a-bd1fbeceb53b"}},"data":{"application/vnd.holoviews_exec.v0+json":{"content":"","content_type":"application/vnd.holoviews_exec.v0+json"},"text/html":{"content_type":"text/html","hash":"bef4340dd62d97b27fddc2a9523885b7","path":"/tutorials/build/bef4340dd62d97b27fddc2a9523885b7.html"},"text/plain":{"content":":Overlay\n   .Image.I  :Image   [x,y]   (burned_ha_mask)\n   .Image.II :Image   [x,y]   (Burned Areas from GWIS)","content_type":"text/plain"}}}],"key":"cE9ZGu8jo6"}],"key":"DQ1nf5SNJu"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Great! Our plot generally follows the same trends as our burn analysis, the north-eastern and north-eastern regions seemed to be mainly burnt with two separately affected regions.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ypcrF7ObKw"}],"key":"uDXZKBD2Mh"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Our plot and values are quite a bit off though if you try to sum them - why is that?","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"mpsuhZOekn"}],"key":"brvvdnXxWB"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Homework: Fix it and add it as a variable!","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"CMgvMViHVy"}],"key":"i7ZxfW9iDz"}],"key":"uoMyTFXBAV"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"hint: ha","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"prPcahrpfY"}],"key":"nReQChy1So"}],"key":"SXKcmJaI61"}],"key":"UTeAs2uP4I"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Saving Your Work","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jcX4YLMbOE"}],"identifier":"saving-your-work","label":"Saving Your Work","html_id":"saving-your-work","implicit":true,"key":"jOPrjb1LY1"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Now let’s save our work! For intraoperability, we will save our data as a valid data cube in Zarr.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"r3URMGPv3g"}],"key":"HxtEXnjY6t"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Keep in mind that EarthCODE provides different tooling that makes it easy to publish our data to the wider EO community on the EarthCODE Open Science Catalog (such as deep-code for publishing data cubes, we will see in the ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"sdONdegDY9"},{"type":"link","url":"https://esa-earthcode.github.io/tutorials/","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"publishing guide","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"S64OBnZggZ"}],"key":"hJ78znFoUN"}],"urlSource":"https://esa-earthcode.github.io/tutorials/","key":"Xd0Zx0Vx28"},{"type":"text","value":") by following common standards and using common file formats we ensure that there will be a tool to help us!","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ocxpvG5wkW"}],"key":"nYeZcoKiK2"},{"type":"heading","depth":3,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Linting","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"WY3TbawI4i"}],"identifier":"linting","label":"Linting","html_id":"linting","implicit":true,"key":"AXN3HWr5Qi"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"There are also tools to ensure the quality of our data/metadata. Two very useful tools are ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"wSJ36zALIp"},{"type":"inlineCode","value":"xrlint","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"Huw0eigse7"},{"type":"text","value":" which check our datarray against common expected standards and advise corrections (such as missing attributes which should be filled in). It’s basically a linter for xarray - xarray + linter.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"Slikkix4wq"}],"key":"EeKY6FuoI4"}],"key":"EtGg6e5WWn"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"linter = xrl.new_linter(\"recommended\")\nlinter.validate(dnbr_dataset)\n","key":"x3ZcKJsGIB"},{"type":"output","id":"bYFLL9V3Hl0MhTAwSVxPp","data":[{"output_type":"execute_result","execution_count":42,"metadata":{},"data":{"text/html":{"content":"\u003cdiv style=\"padding-bottom: 5px\"\u003e\n\u003cp\u003e\u003cspan style=\"font-family:monospace;font-weight:bold\"\u003e\u0026lt;dataset\u0026gt;\u003c/span\u003e - \u003cspan\u003e20 warnings\u003c/span\u003e\u003c/p\u003e\n\u003chr/\u003e\n\u003ctable\u003e\n  \u003ctr\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003cspan style=\"font-family:monospace;font-size:0.7em\"\u003eds\u003c/span\u003e\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003cspan style=\"color:blue\"\u003ewarn\u003c/span\u003e\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003eMissing attribute 'title'.\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003ca href=\"https://bcdev.github.io/xrlint/rule-ref#content-desc\"\u003econtent-desc\u003c/a\u003e\u003c/td\u003e\n  \u003c/tr\u003e\n  \u003ctr\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003cspan style=\"font-family:monospace;font-size:0.7em\"\u003eds\u003c/span\u003e\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003cspan style=\"color:blue\"\u003ewarn\u003c/span\u003e\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003eMissing attribute 'history'.\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003ca href=\"https://bcdev.github.io/xrlint/rule-ref#content-desc\"\u003econtent-desc\u003c/a\u003e\u003c/td\u003e\n  \u003c/tr\u003e\n  \u003ctr\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003cspan style=\"font-family:monospace;font-size:0.7em\"\u003eds.data_vars['delta_NBR']\u003c/span\u003e\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003cspan style=\"color:blue\"\u003ewarn\u003c/span\u003e\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003eMissing attribute 'institution'.\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003ca href=\"https://bcdev.github.io/xrlint/rule-ref#content-desc\"\u003econtent-desc\u003c/a\u003e\u003c/td\u003e\n  \u003c/tr\u003e\n  \u003ctr\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003cspan style=\"font-family:monospace;font-size:0.7em\"\u003eds.data_vars['delta_NBR']\u003c/span\u003e\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003cspan style=\"color:blue\"\u003ewarn\u003c/span\u003e\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003eMissing attribute 'source'.\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003ca href=\"https://bcdev.github.io/xrlint/rule-ref#content-desc\"\u003econtent-desc\u003c/a\u003e\u003c/td\u003e\n  \u003c/tr\u003e\n  \u003ctr\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003cspan style=\"font-family:monospace;font-size:0.7em\"\u003eds.data_vars['delta_NBR']\u003c/span\u003e\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003cspan style=\"color:blue\"\u003ewarn\u003c/span\u003e\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003eMissing attribute 'references'.\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003ca href=\"https://bcdev.github.io/xrlint/rule-ref#content-desc\"\u003econtent-desc\u003c/a\u003e\u003c/td\u003e\n  \u003c/tr\u003e\n  \u003ctr\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003cspan style=\"font-family:monospace;font-size:0.7em\"\u003eds.data_vars['delta_NBR']\u003c/span\u003e\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003cspan style=\"color:blue\"\u003ewarn\u003c/span\u003e\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003eMissing attribute 'comment'.\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003ca href=\"https://bcdev.github.io/xrlint/rule-ref#content-desc\"\u003econtent-desc\u003c/a\u003e\u003c/td\u003e\n  \u003c/tr\u003e\n  \u003ctr\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003cspan style=\"font-family:monospace;font-size:0.7em\"\u003eds.data_vars['burned_ha_mask']\u003c/span\u003e\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003cspan style=\"color:blue\"\u003ewarn\u003c/span\u003e\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003eMissing attribute 'institution'.\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003ca href=\"https://bcdev.github.io/xrlint/rule-ref#content-desc\"\u003econtent-desc\u003c/a\u003e\u003c/td\u003e\n  \u003c/tr\u003e\n  \u003ctr\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003cspan style=\"font-family:monospace;font-size:0.7em\"\u003eds.data_vars['burned_ha_mask']\u003c/span\u003e\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003cspan style=\"color:blue\"\u003ewarn\u003c/span\u003e\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003eMissing attribute 'source'.\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003ca href=\"https://bcdev.github.io/xrlint/rule-ref#content-desc\"\u003econtent-desc\u003c/a\u003e\u003c/td\u003e\n  \u003c/tr\u003e\n  \u003ctr\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003cspan style=\"font-family:monospace;font-size:0.7em\"\u003eds.data_vars['burned_ha_mask']\u003c/span\u003e\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003cspan style=\"color:blue\"\u003ewarn\u003c/span\u003e\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003eMissing attribute 'references'.\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003ca href=\"https://bcdev.github.io/xrlint/rule-ref#content-desc\"\u003econtent-desc\u003c/a\u003e\u003c/td\u003e\n  \u003c/tr\u003e\n  \u003ctr\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003cspan style=\"font-family:monospace;font-size:0.7em\"\u003eds.data_vars['burned_ha_mask']\u003c/span\u003e\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003cspan style=\"color:blue\"\u003ewarn\u003c/span\u003e\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003eMissing attribute 'comment'.\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003ca href=\"https://bcdev.github.io/xrlint/rule-ref#content-desc\"\u003econtent-desc\u003c/a\u003e\u003c/td\u003e\n  \u003c/tr\u003e\n  \u003ctr\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003cspan style=\"font-family:monospace;font-size:0.7em\"\u003eds\u003c/span\u003e\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003cspan style=\"color:blue\"\u003ewarn\u003c/span\u003e\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003eMissing attribute 'Conventions'.\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003ca href=\"https://bcdev.github.io/xrlint/rule-ref#conventions\"\u003econventions\u003c/a\u003e\u003c/td\u003e\n  \u003c/tr\u003e\n  \u003ctr\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003cspan style=\"font-family:monospace;font-size:0.7em\"\u003eds.attrs\u003c/span\u003e\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003cspan style=\"color:blue\"\u003ewarn\u003c/span\u003e\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003eMissing metadata, attributes are empty.\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003ca href=\"https://bcdev.github.io/xrlint/rule-ref#no-empty-attrs\"\u003eno-empty-attrs\u003c/a\u003e\u003c/td\u003e\n  \u003c/tr\u003e\n  \u003ctr\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003cspan style=\"font-family:monospace;font-size:0.7em\"\u003eds.data_vars['delta_NBR'].attrs\u003c/span\u003e\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003cspan style=\"color:blue\"\u003ewarn\u003c/span\u003e\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003eMissing metadata, attributes are empty.\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003ca href=\"https://bcdev.github.io/xrlint/rule-ref#no-empty-attrs\"\u003eno-empty-attrs\u003c/a\u003e\u003c/td\u003e\n  \u003c/tr\u003e\n  \u003ctr\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003cspan style=\"font-family:monospace;font-size:0.7em\"\u003eds.data_vars['burned_ha_mask'].attrs\u003c/span\u003e\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003cspan style=\"color:blue\"\u003ewarn\u003c/span\u003e\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003eMissing metadata, attributes are empty.\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003ca href=\"https://bcdev.github.io/xrlint/rule-ref#no-empty-attrs\"\u003eno-empty-attrs\u003c/a\u003e\u003c/td\u003e\n  \u003c/tr\u003e\n  \u003ctr\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003cspan style=\"font-family:monospace;font-size:0.7em\"\u003eds.data_vars['delta_NBR']\u003c/span\u003e\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003cspan style=\"color:blue\"\u003ewarn\u003c/span\u003e\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003eMissing attribute 'standard_name'.\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003ca href=\"https://bcdev.github.io/xrlint/rule-ref#var-desc\"\u003evar-desc\u003c/a\u003e\u003c/td\u003e\n  \u003c/tr\u003e\n  \u003ctr\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003cspan style=\"font-family:monospace;font-size:0.7em\"\u003eds.data_vars['delta_NBR']\u003c/span\u003e\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003cspan style=\"color:blue\"\u003ewarn\u003c/span\u003e\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003eMissing attribute 'long_name'.\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003ca href=\"https://bcdev.github.io/xrlint/rule-ref#var-desc\"\u003evar-desc\u003c/a\u003e\u003c/td\u003e\n  \u003c/tr\u003e\n  \u003ctr\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003cspan style=\"font-family:monospace;font-size:0.7em\"\u003eds.data_vars['burned_ha_mask']\u003c/span\u003e\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003cspan style=\"color:blue\"\u003ewarn\u003c/span\u003e\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003eMissing attribute 'standard_name'.\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003ca href=\"https://bcdev.github.io/xrlint/rule-ref#var-desc\"\u003evar-desc\u003c/a\u003e\u003c/td\u003e\n  \u003c/tr\u003e\n  \u003ctr\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003cspan style=\"font-family:monospace;font-size:0.7em\"\u003eds.data_vars['burned_ha_mask']\u003c/span\u003e\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003cspan style=\"color:blue\"\u003ewarn\u003c/span\u003e\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003eMissing attribute 'long_name'.\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003ca href=\"https://bcdev.github.io/xrlint/rule-ref#var-desc\"\u003evar-desc\u003c/a\u003e\u003c/td\u003e\n  \u003c/tr\u003e\n  \u003ctr\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003cspan style=\"font-family:monospace;font-size:0.7em\"\u003eds.data_vars['delta_NBR']\u003c/span\u003e\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003cspan style=\"color:blue\"\u003ewarn\u003c/span\u003e\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003eMissing attribute 'units'.\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003ca href=\"https://bcdev.github.io/xrlint/rule-ref#var-units\"\u003evar-units\u003c/a\u003e\u003c/td\u003e\n  \u003c/tr\u003e\n  \u003ctr\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003cspan style=\"font-family:monospace;font-size:0.7em\"\u003eds.data_vars['burned_ha_mask']\u003c/span\u003e\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003cspan style=\"color:blue\"\u003ewarn\u003c/span\u003e\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003eMissing attribute 'units'.\u003c/td\u003e\n    \u003ctd  style=\"text-align:left\"\u003e\u003ca href=\"https://bcdev.github.io/xrlint/rule-ref#var-units\"\u003evar-units\u003c/a\u003e\u003c/td\u003e\n  \u003c/tr\u003e\n\u003c/table\u003e\n\u003c/div\u003e","content_type":"text/html"},"text/plain":{"content":"Result(file_path='\u003cdataset\u003e', config_object=ConfigObject(name=None, files=None, ignores=None, linter_options=None, opener_options=None, processor=None, plugins={'__core__': Plugin(meta=PluginMeta(name='__core__', version='0.5.1', ref='xrlint.plugins.core:export_plugin', docs_url='https://bcdev.github.io/xrlint/rule-ref'), rules={'coords-for-dims': Rule(meta=RuleMeta(name='coords-for-dims', version='1.0.0', description='Dimensions of data variables should have corresponding coordinates.', schema=None, ref=None, docs_url=None, type='problem'), op_class=\u003cclass 'xrlint.plugins.core.rules.coords_for_dims.CoordsForDims'\u003e), 'var-units': Rule(meta=RuleMeta(name='var-units', version='1.0.0', description='Every variable should provide a description of its units.', schema=None, ref=None, docs_url='https://cfconventions.org/cf-conventions/cf-conventions.html#units', type='suggestion'), op_class=\u003cclass 'xrlint.plugins.core.rules.var_units.VarUnits'\u003e), 'var-flags': Rule(meta=RuleMeta(name='var-flags', version='1.0.0', description=\"Validate attributes 'flag_values', 'flag_masks' and 'flag_meanings' that make variables that contain flag values self describing. \", schema=None, ref=None, docs_url='https://cfconventions.org/cf-conventions/cf-conventions.html#flags', type='suggestion'), op_class=\u003cclass 'xrlint.plugins.core.rules.var_flags.VarFlags'\u003e), 'conventions': Rule(meta=RuleMeta(name='conventions', version='1.0.0', description='Datasets should identify the applicable conventions using the `Conventions` attribute.\\n The rule has an optional configuration parameter `match` which is a regex pattern that the value of the `Conventions` attribute must match, if any. If not provided, the rule just verifies that the attribute exists and whether it is a character string.', schema={'type': 'object', 'properties': {'match': {'type': 'string', 'title': 'Regex pattern'}}}, ref=None, docs_url='https://cfconventions.org/cf-conventions/cf-conventions.html#identification-of-conventions', type='suggestion'), op_class=\u003cclass 'xrlint.plugins.core.rules.conventions.Conventions'\u003e), 'var-missing-data': Rule(meta=RuleMeta(name='var-missing-data', version='1.0.0', description='Checks the recommended use of missing data, i.e., coordinate variables should not define missing data, but packed data should. Notifies about the use of valid ranges to indicate missing data, which is currently not supported by xarray.', schema=None, ref=None, docs_url='https://cfconventions.org/cf-conventions/cf-conventions.html#units', type='suggestion'), op_class=\u003cclass 'xrlint.plugins.core.rules.var_missing_data.VarMissingData'\u003e), 'content-desc': Rule(meta=RuleMeta(name='content-desc', version='1.0.0', description=\"A dataset should provide information about where the data came from and what has been done to it. This information is mainly for the benefit of human readers. The rule accepts the following configuration parameters:\\n\\n- `globals`: list of names of required global attributes. Defaults to `['title', 'history']`.\\n- `commons`: list of names of required variable attributes that can also be defined globally. Defaults to `['institution', 'source', 'references', 'comment']`.\\n- `no_vars`: do not check variables at all. Defaults to `False`.\\n- `ignored_vars`: list of ignored variables (regex patterns). Defaults to `['crs', 'spatial_ref']`.\\n\", schema={'type': 'object', 'properties': {'globals': {'type': 'array', 'default': ['title', 'history'], 'items': {'type': 'string'}, 'title': 'Global attribute names'}, 'commons': {'type': 'array', 'default': ['institution', 'source', 'references', 'comment'], 'items': {'type': 'string'}, 'title': 'Common attribute names'}, 'skip_vars': {'type': 'boolean', 'default': False, 'title': 'Do not check variables'}, 'ignored_vars': {'type': 'array', 'default': ['crs', 'spatial_ref'], 'items': {'type': 'string'}, 'title': 'Ignored variables (regex name patterns)'}}}, ref=None, docs_url='https://cfconventions.org/cf-conventions/cf-conventions.html#description-of-file-contents', type='suggestion'), op_class=\u003cclass 'xrlint.plugins.core.rules.content_desc.ContentDesc'\u003e), 'no-empty-attrs': Rule(meta=RuleMeta(name='no-empty-attrs', version='1.0.0', description='Every dataset element should have metadata that describes it.', schema=None, ref=None, docs_url=None, type='suggestion'), op_class=\u003cclass 'xrlint.plugins.core.rules.no_empty_attrs.NoEmptyAttrs'\u003e), 'no-empty-chunks': Rule(meta=RuleMeta(name='no-empty-chunks', version='1.0.0', description='Empty chunks should not be encoded and written. The rule currently applies to Zarr format only.', schema=None, ref=None, docs_url='https://docs.xarray.dev/en/stable/generated/xarray.Dataset.to_zarr.html#xarray-dataset-to-zarr', type='suggestion'), op_class=\u003cclass 'xrlint.plugins.core.rules.no_empty_chunks.NoEmptyChunks'\u003e), 'lat-coordinate': Rule(meta=RuleMeta(name='lat-coordinate', version='1.0.0', description='Latitude coordinate should have standard units and standard names.', schema=None, ref=None, docs_url='https://cfconventions.org/cf-conventions/cf-conventions.html#latitude-coordinate', type='problem'), op_class=\u003cclass 'xrlint.plugins.core.rules.lat_lon_coordinate.LatCoordinate'\u003e), 'lon-coordinate': Rule(meta=RuleMeta(name='lon-coordinate', version='1.0.0', description='Longitude coordinate should have standard units and standard names.', schema=None, ref=None, docs_url='https://cfconventions.org/cf-conventions/cf-conventions.html#longitude-coordinate', type='problem'), op_class=\u003cclass 'xrlint.plugins.core.rules.lat_lon_coordinate.LonCoordinate'\u003e), 'grid-mappings': Rule(meta=RuleMeta(name='grid-mappings', version='1.0.0', description='Grid mappings, if any, shall have valid grid mapping coordinate variables.', schema=None, ref=None, docs_url='https://cfconventions.org/cf-conventions/cf-conventions.html#grid-mappings-and-projections', type='problem'), op_class=\u003cclass 'xrlint.plugins.core.rules.grid_mappings.GridMappings'\u003e), 'time-coordinate': Rule(meta=RuleMeta(name='time-coordinate', version='1.0.0', description='Time coordinates should have valid and unambiguous time units encoding.', schema=None, ref=None, docs_url='https://cfconventions.org/cf-conventions/cf-conventions.html#time-coordinate', type='problem'), op_class=\u003cclass 'xrlint.plugins.core.rules.time_coordinate.TimeCoordinate'\u003e), 'var-desc': Rule(meta=RuleMeta(name='var-desc', version='1.0.0', description=\"Check that each data variable provides an identification and description of the content. The rule can be configured by parameter `attrs` which is a list of names of attributes that provides descriptive information. It defaults to `['standard_name', 'long_name']`.\", schema={'type': 'object', 'properties': {'attrs': {'type': 'array', 'default': ['standard_name', 'long_name'], 'items': {'type': 'string'}, 'title': 'Attribute names to check'}}}, ref=None, docs_url='https://cfconventions.org/cf-conventions/cf-conventions.html#standard-name', type='suggestion'), op_class=\u003cclass 'xrlint.plugins.core.rules.var_desc.VarDesc'\u003e), 'access-latency': Rule(meta=RuleMeta(name='access-latency', version='1.0.0', description='Ensure that the time it takes to open a dataset from its source does a exceed a given `threshold` in seconds. The default threshold is `2.5`.', schema={'type': 'object', 'properties': {'threshold': {'type': 'number', 'default': 2.5, 'exclusiveMinimum': 0, 'title': 'Threshold time in seconds'}}}, ref=None, docs_url=None, type='problem'), op_class=\u003cclass 'xrlint.plugins.core.rules.access_latency.AccessLatency'\u003e)}, processors={}, configs={'recommended': [ConfigObject(name='recommended', files=None, ignores=None, linter_options=None, opener_options=None, processor=None, plugins=None, rules={'access-latency': RuleConfig(severity=1, args=(), kwargs={}), 'content-desc': RuleConfig(severity=1, args=(), kwargs={}), 'conventions': RuleConfig(severity=1, args=(), kwargs={}), 'coords-for-dims': RuleConfig(severity=2, args=(), kwargs={}), 'grid-mappings': RuleConfig(severity=2, args=(), kwargs={}), 'lat-coordinate': RuleConfig(severity=2, args=(), kwargs={}), 'lon-coordinate': RuleConfig(severity=2, args=(), kwargs={}), 'no-empty-attrs': RuleConfig(severity=1, args=(), kwargs={}), 'no-empty-chunks': RuleConfig(severity=0, args=(), kwargs={}), 'time-coordinate': RuleConfig(severity=2, args=(), kwargs={}), 'var-desc': RuleConfig(severity=1, args=(), kwargs={}), 'var-flags': RuleConfig(severity=2, args=(), kwargs={}), 'var-missing-data': RuleConfig(severity=1, args=(), kwargs={}), 'var-units': RuleConfig(severity=1, args=(), kwargs={})}, settings=None)], 'all': [ConfigObject(name='all', files=None, ignores=None, linter_options=None, opener_options=None, processor=None, plugins=None, rules={'coords-for-dims': RuleConfig(severity=2, args=(), kwargs={}), 'var-units': RuleConfig(severity=2, args=(), kwargs={}), 'var-flags': RuleConfig(severity=2, args=(), kwargs={}), 'conventions': RuleConfig(severity=2, args=(), kwargs={}), 'var-missing-data': RuleConfig(severity=2, args=(), kwargs={}), 'content-desc': RuleConfig(severity=2, args=(), kwargs={}), 'no-empty-attrs': RuleConfig(severity=2, args=(), kwargs={}), 'no-empty-chunks': RuleConfig(severity=2, args=(), kwargs={}), 'lat-coordinate': RuleConfig(severity=2, args=(), kwargs={}), 'lon-coordinate': RuleConfig(severity=2, args=(), kwargs={}), 'grid-mappings': RuleConfig(severity=2, args=(), kwargs={}), 'time-coordinate': RuleConfig(severity=2, args=(), kwargs={}), 'var-desc': RuleConfig(severity=2, args=(), kwargs={}), 'access-latency': RuleConfig(severity=2, args=(), kwargs={})}, settings=None)]})}, rules={'access-latency': RuleConfig(severity=1, args=(), kwargs={}), 'content-desc': RuleConfig(severity=1, args=(), kwargs={}), 'conventions': RuleConfig(severity=1, args=(), kwargs={}), 'coords-for-dims': RuleConfig(severity=2, args=(), kwargs={}), 'grid-mappings': RuleConfig(severity=2, args=(), kwargs={}), 'lat-coordinate': RuleConfig(severity=2, args=(), kwargs={}), 'lon-coordinate': RuleConfig(severity=2, args=(), kwargs={}), 'no-empty-attrs': RuleConfig(severity=1, args=(), kwargs={}), 'no-empty-chunks': RuleConfig(severity=0, args=(), kwargs={}), 'time-coordinate': RuleConfig(severity=2, args=(), kwargs={}), 'var-desc': RuleConfig(severity=1, args=(), kwargs={}), 'var-flags': RuleConfig(severity=2, args=(), kwargs={}), 'var-missing-data': RuleConfig(severity=1, args=(), kwargs={}), 'var-units': RuleConfig(severity=1, args=(), kwargs={})}, settings=None), messages=[Message(message=\"Missing attribute 'title'.\", node_path='ds', rule_id='content-desc', severity=1, fatal=None, fix=None, suggestions=None), Message(message=\"Missing attribute 'history'.\", node_path='ds', rule_id='content-desc', severity=1, fatal=None, fix=None, suggestions=None), Message(message=\"Missing attribute 'institution'.\", node_path=\"ds.data_vars['delta_NBR']\", rule_id='content-desc', severity=1, fatal=None, fix=None, suggestions=None), Message(message=\"Missing attribute 'source'.\", node_path=\"ds.data_vars['delta_NBR']\", rule_id='content-desc', severity=1, fatal=None, fix=None, suggestions=None), Message(message=\"Missing attribute 'references'.\", node_path=\"ds.data_vars['delta_NBR']\", rule_id='content-desc', severity=1, fatal=None, fix=None, suggestions=None), Message(message=\"Missing attribute 'comment'.\", node_path=\"ds.data_vars['delta_NBR']\", rule_id='content-desc', severity=1, fatal=None, fix=None, suggestions=None), Message(message=\"Missing attribute 'institution'.\", node_path=\"ds.data_vars['burned_ha_mask']\", rule_id='content-desc', severity=1, fatal=None, fix=None, suggestions=None), Message(message=\"Missing attribute 'source'.\", node_path=\"ds.data_vars['burned_ha_mask']\", rule_id='content-desc', severity=1, fatal=None, fix=None, suggestions=None), Message(message=\"Missing attribute 'references'.\", node_path=\"ds.data_vars['burned_ha_mask']\", rule_id='content-desc', severity=1, fatal=None, fix=None, suggestions=None), Message(message=\"Missing attribute 'comment'.\", node_path=\"ds.data_vars['burned_ha_mask']\", rule_id='content-desc', severity=1, fatal=None, fix=None, suggestions=None), Message(message=\"Missing attribute 'Conventions'.\", node_path='ds', rule_id='conventions', severity=1, fatal=None, fix=None, suggestions=None), Message(message='Missing metadata, attributes are empty.', node_path='ds.attrs', rule_id='no-empty-attrs', severity=1, fatal=None, fix=None, suggestions=[Suggestion(desc='Make sure to add appropriate metadata attributes to dataset elements.', data=None, fix=None)]), Message(message='Missing metadata, attributes are empty.', node_path=\"ds.data_vars['delta_NBR'].attrs\", rule_id='no-empty-attrs', severity=1, fatal=None, fix=None, suggestions=[Suggestion(desc='Make sure to add appropriate metadata attributes to dataset elements.', data=None, fix=None)]), Message(message='Missing metadata, attributes are empty.', node_path=\"ds.data_vars['burned_ha_mask'].attrs\", rule_id='no-empty-attrs', severity=1, fatal=None, fix=None, suggestions=[Suggestion(desc='Make sure to add appropriate metadata attributes to dataset elements.', data=None, fix=None)]), Message(message=\"Missing attribute 'standard_name'.\", node_path=\"ds.data_vars['delta_NBR']\", rule_id='var-desc', severity=1, fatal=None, fix=None, suggestions=None), Message(message=\"Missing attribute 'long_name'.\", node_path=\"ds.data_vars['delta_NBR']\", rule_id='var-desc', severity=1, fatal=None, fix=None, suggestions=None), Message(message=\"Missing attribute 'standard_name'.\", node_path=\"ds.data_vars['burned_ha_mask']\", rule_id='var-desc', severity=1, fatal=None, fix=None, suggestions=None), Message(message=\"Missing attribute 'long_name'.\", node_path=\"ds.data_vars['burned_ha_mask']\", rule_id='var-desc', severity=1, fatal=None, fix=None, suggestions=None), Message(message=\"Missing attribute 'units'.\", node_path=\"ds.data_vars['delta_NBR']\", rule_id='var-units', severity=1, fatal=None, fix=None, suggestions=None), Message(message=\"Missing attribute 'units'.\", node_path=\"ds.data_vars['burned_ha_mask']\", rule_id='var-units', severity=1, fatal=None, fix=None, suggestions=None)])","content_type":"text/plain"}}}],"key":"EcXq4BiDm9"}],"key":"bp36lY60e3"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Add metadata descriptions to our data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"cLP4zoBF7w"}],"identifier":"add-metadata-descriptions-to-our-data","label":"Add metadata descriptions to our data","html_id":"add-metadata-descriptions-to-our-data","implicit":true,"key":"A2OUsarxuy"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"As we see, there is quite a few attributes missing from our data cube. As a best practices, it’s recommended to have it very well described, to ensure FAIR-ness and, specifically, intraoperability.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Q7yYPTih5i"}],"key":"J1lXtCp5iz"}],"key":"LIsp6ZY4Ln"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Assign dataset-level attributes\ndnbr_dataset.attrs.update({\n    'title': 'Delta NBR and Burned Area Mask Dataset',\n    'history': 'Created by reprojecting and aligning datasets for fire severity analysis',\n    'Conventions': 'CF-1.7'\n})\n\n\n# Assign variable-level attributes for delta_NBR\ndnbr_dataset.delta_NBR.attrs.update({\n    'institution': 'Lampata',\n    'source': 'Sentinel-2 imagery; processed with open-source dNBR code, element84...',\n    'references': 'https://registry.opendata.aws/sentinel-2-l2a-cogs/',\n    'comment': 'dNBR values represent change in vegetation severity post-fire',\n    'standard_name': 'difference_normalized_burn_ratio',\n    'long_name': 'Differenced Normalized Burn Ratio (dNBR)',\n    'units': 'm'\n})\n\n# Example for burned_ha_mask data variable\ndnbr_dataset.burned_ha_mask.attrs.update({\n    'standard_name': 'burned_area_mask',\n    'long_name': 'Burned Area Mask in Hectares',\n    'units': 'hectares',\n    'institution': 'Your Institution Name',\n    'source': 'Derived from wildfire impact analysis',\n    'references': 'https://example.com/ref',\n    'comment': 'Burned area mask showing presence of burned areas'\n})\n","key":"XM3pqmiFlA"},{"type":"output","id":"BrffzzsG_hoYO3kEEOjtv","data":[],"key":"sY31ke28XN"}],"key":"M3adBgl1WX"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Great! Let’s re-run the linter and see if we’re missing anything.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ZLgYks6r7g"}],"key":"IZJjpLg7dW"},{"type":"heading","depth":3,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Data Cube Validation","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"sOcJn5Qc2t"}],"identifier":"data-cube-validation","label":"Data Cube Validation","html_id":"data-cube-validation","implicit":true,"key":"pA3VeUVVnj"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Another useful tool is xcube’s assert cube method which validates our data cube (e.g. dimensions, chunks, grids between dataarray’s match and other checks - see more information at ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"RZNrfhfL1v"},{"type":"link","url":"https://xcube.readthedocs.io/en/latest/cubespec.html#xcube-dataset-convention","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"https://​xcube​.readthedocs​.io​/en​/latest​/cubespec​.html​#xcube​-dataset​-convention","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"WTfNDgL4YW"}],"urlSource":"https://xcube.readthedocs.io/en/latest/cubespec.html#xcube-dataset-convention","key":"xNUi2OBjq1"},{"type":"text","value":"). Making sure we validate our data before saving or sharing will ensure that our data can be exploited by different, common EO libraries.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"tRfl2ShUPx"}],"key":"NnsoCNbjQT"}],"key":"zTGbqG06bH"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"assert_cube(dnbr_dataset)  # raises ValueError if it's not xcube-valid","key":"eyPfUsyMav"},{"type":"output","id":"mM7LZIiMTcMMNTzWxhW0l","data":[{"ename":"ValueError","evalue":"Dataset is not a valid xcube dataset, because:\n- missing time coordinate variable.","output_type":"error","traceback":"\u001b[0;31m---------------------------------------------------------------------------\u001b[0m\n\u001b[0;31mValueError\u001b[0m                                Traceback (most recent call last)\nCell \u001b[0;32mIn[44], line 1\u001b[0m\n\u001b[0;32m----\u003e 1\u001b[0m \u001b[43massert_cube\u001b[49m\u001b[43m(\u001b[49m\u001b[43mdnbr_dataset\u001b[49m\u001b[43m)\u001b[49m  \u001b[38;5;66;03m# raises ValueError if it's not xcube-valid\u001b[39;00m\n\nFile \u001b[0;32m/home/conda/edc-lps25/44910d9e-1749897073-16-edc_pangeo_env/lib/python3.13/site-packages/xcube/core/verify.py:29\u001b[0m, in \u001b[0;36massert_cube\u001b[0;34m(dataset, name)\u001b[0m\n\u001b[1;32m     27\u001b[0m     message \u001b[38;5;241m+\u001b[39m\u001b[38;5;241m=\u001b[39m \u001b[38;5;124m\"\u001b[39m\u001b[38;5;124mis not a valid xcube dataset, because:\u001b[39m\u001b[38;5;130;01m\\n\u001b[39;00m\u001b[38;5;124m\"\u001b[39m\n\u001b[1;32m     28\u001b[0m     message \u001b[38;5;241m+\u001b[39m\u001b[38;5;241m=\u001b[39m \u001b[38;5;124m\"\u001b[39m\u001b[38;5;124m- \u001b[39m\u001b[38;5;124m\"\u001b[39m \u001b[38;5;241m+\u001b[39m \u001b[38;5;124m\"\u001b[39m\u001b[38;5;124m;\u001b[39m\u001b[38;5;130;01m\\n\u001b[39;00m\u001b[38;5;124m- \u001b[39m\u001b[38;5;124m\"\u001b[39m\u001b[38;5;241m.\u001b[39mjoin(report) \u001b[38;5;241m+\u001b[39m \u001b[38;5;124m\"\u001b[39m\u001b[38;5;124m.\u001b[39m\u001b[38;5;124m\"\u001b[39m\n\u001b[0;32m---\u003e 29\u001b[0m     \u001b[38;5;28;01mraise\u001b[39;00m \u001b[38;5;167;01mValueError\u001b[39;00m(message)\n\u001b[1;32m     31\u001b[0m \u001b[38;5;28;01mreturn\u001b[39;00m dataset\n\n\u001b[0;31mValueError\u001b[0m: Dataset is not a valid xcube dataset, because:\n- missing time coordinate variable."}],"key":"xCEsHNdKMa"}],"key":"GbUhan5msW"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"It seems like our data is not actually valid, as we missed timestamping our data burnt area final dataset! There’s not really any information in the data to tell us when this wildfire event actually happened as well. Since deltaNBR highlights the burnt area after a fire, we will add the date of the postfire_ds to the dataset.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"XKeAMX27NX"}],"key":"WCXeuSfqBn"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Simple checks like this help us avoid making simple mistakes, and catching/correcting these errors early on is  much easier than at a later stage.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"atC8vpucXw"}],"key":"jEOlyYpd3J"}],"key":"vb7PrAiTIH"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import numpy as np\n\ntimestamp = np.datetime64(items[-1].properties['created'])","key":"OK2h6l4sSW"},{"type":"output","id":"D57XlDuCZqh9j3blpwZsD","data":[{"name":"stderr","output_type":"stream","text":"/tmp/ipykernel_637/786310608.py:3: UserWarning: no explicit representation of timezones available for np.datetime64\n  timestamp = np.datetime64(items[-1].properties['created'])\n"}],"key":"yY4Rn3M9Fn"}],"key":"B2KGZ8PCT1"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# add time\ndnbr_dataset = dnbr_dataset.expand_dims(time=[timestamp])","key":"ea6uKzpCy5"},{"type":"output","id":"8EOxmYYxRyrz1viT0Fm9d","data":[],"key":"Xhy3iwnA6t"}],"key":"HCtAFo5YeH"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"dnbr_dataset","key":"dpYN6dW72T"},{"type":"output","id":"vmvB-rMJGyVwhfotrrVyF","data":[{"output_type":"execute_result","execution_count":47,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"8ae92ea012d2e1c0ea5ba3a263eef38d","path":"/tutorials/build/8ae92ea012d2e1c0ea5ba3a263eef38d.html"},"text/plain":{"content":"\u003cxarray.Dataset\u003e Size: 106MB\nDimensions:         (time: 1, y: 2818, x: 4186)\nCoordinates:\n  * time            (time) datetime64[ms] 8B 2022-11-06T15:01:05.105000\n  * y               (y) float64 23kB 4.637e+06 4.636e+06 ... 4.608e+06 4.608e+06\n  * x               (x) float64 33kB 5.519e+05 5.519e+05 ... 5.937e+05 5.937e+05\n    spatial_ref     int32 4B 32629\nData variables:\n    delta_NBR       (time, y, x) float64 94MB dask.array\u003cchunksize=(1, 2818, 4186), meta=np.ndarray\u003e\n    burned_ha_mask  (time, y, x) bool 12MB dask.array\u003cchunksize=(1, 2818, 4186), meta=np.ndarray\u003e\nAttributes:\n    title:        Delta NBR and Burned Area Mask Dataset\n    history:      Created by reprojecting and aligning datasets for fire seve...\n    Conventions:  CF-1.7","content_type":"text/plain"}}}],"key":"Fpubct00tX"}],"key":"srbhSXEB2w"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Why is this important?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"gXxq1x30bi"}],"identifier":"why-is-this-important","label":"Why is this important?","html_id":"why-is-this-important","implicit":true,"key":"z7qHxri47W"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"By ensuring your data follows common standards and FAIR principles, firstly and most importantly you enable make it usable by others and therefore increase its impact!","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"EM2UQ49jwP"}],"key":"c52z3m1uYK"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"You also enable libraries that implement the common standards you follow to use your data. For example, for our dataset above, if we do not apply the corrections (for time specifically) any future applications using xcube won’t be able to open up our dataset. Applications or users trying to understand how we derived our data will not have information, and etc...","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Jj5CO6QnnY"}],"key":"rIez9mPSpt"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"The tools and standards help us along on the way to FAIR-ness!","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"mruZnV7i9G"}],"key":"BWkDIUrVVw"}],"key":"yVaPOevoDx"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Saving and Chunking","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"E4jSitAafA"}],"identifier":"saving-and-chunking","label":"Saving and Chunking","html_id":"saving-and-chunking","implicit":true,"key":"vjSLKp5U12"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"To make our data easier to use for future users we will chunk it the recommended chunk sizes.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"tKGmiZFu01"}],"key":"Zln69l0si1"}],"key":"D57yrRWh7M"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"dnbr_dataset = dnbr_dataset.chunk({\"time\": 1, \"y\": 1000, \"x\": 1000}).load()\nprint(type(dnbr_dataset.burned_ha_mask.data)) # check data format ","key":"A5uUGoIk4J"},{"type":"output","id":"3iVqtt_FkAufMqqWv-1sD","data":[{"name":"stdout","output_type":"stream","text":"\u003cclass 'numpy.ndarray'\u003e\n"}],"key":"QCQ7WRu9Qh"}],"key":"oXzlTDZGm0"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Finally we create our local zarr store with .to_zarr. This will save the dataset locally.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QUOj9dXcJP"}],"key":"FS5ZbzPLbX"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Note: You can easily store it on cloud storge such as s3 with some slight edits to the code below.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ctB3dtu1vS"}],"key":"PSIt6SrOR2"}],"key":"Y3V8jK4IMP"}],"key":"dRekHHu9EQ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"save_at_folder = '../wildfires'\nif not os.path.exists(save_at_folder):\n    os.makedirs(save_at_folder)\n\n# Define the output path within your notebook folder\noutput_path = os.path.join(save_at_folder, \"dnbr_dataset.zarr\")\n\n# save\ndnbr_dataset.to_zarr(output_path, mode=\"w\")","key":"ypGh5PMaVB"},{"type":"output","id":"s6fiD5AZTL_J0vUcIhKb2","data":[{"output_type":"execute_result","execution_count":49,"metadata":{},"data":{"text/plain":{"content":"\u003cxarray.backends.zarr.ZarrStore at 0x7f28d0a7b640\u003e","content_type":"text/plain"}}}],"key":"GksaCwxQoN"}],"key":"aUfrRG28vp"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Conclusion","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bJQVfGtMRw"}],"identifier":"conclusion","label":"Conclusion","html_id":"conclusion","implicit":true,"key":"JuKOS13SmC"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Congratulations! You’ve gotten to the end of this notebook. We explored a simple workflow with the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"A8QPNEEE96"},{"type":"link","url":"https://pangeo.io/","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Pangeo","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"BfcVvVDSXq"}],"urlSource":"https://pangeo.io/","key":"FjuezDm0gI"},{"type":"text","value":" open-source software stack, demonstrated how to fetch and access EarthCODE published data and publically available Sentinel-2 data to generate burn severity maps for the assessment of the areas affected by wildfires. Finally, we saved our work and learned about why FAIRness matters.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"W0agBH1wMB"}],"key":"eZdXYMCqYw"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"As next steps we recommend reading through the documentation pages of each of the libraries, and going through the example in your own time in more detail!","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"R83pVsVLfW"}],"key":"p81RHNzPaG"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"exploring the EarthCODE catalog","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"LUHfLmJ3zB"}],"key":"BYZsjgElaf"}],"key":"yORFHmL3HE"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Links and Refernces","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hxTkclG5g8"}],"identifier":"links-and-refernces","label":"Links and Refernces","html_id":"links-and-refernces","implicit":true,"key":"QkzZiaVk64"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://earthcode.esa.int/","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"https://​earthcode​.esa​.int/","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"edfHGhg1xa"}],"urlSource":"https://earthcode.esa.int/","key":"KT9axYfQk3"}],"key":"i0I3bURuth"}],"key":"UOxYuUBkaq"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://opensciencedata.esa.int/","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"https://​opensciencedata​.esa​.int/","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"loqGaWFNRh"}],"urlSource":"https://opensciencedata.esa.int/","key":"xkmtemhxTV"}],"key":"aMaGwypwax"}],"key":"jBWZZtZVYh"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://www.sciencedirect.com/science/article/pii/S1470160X22004708#f0035","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"https://​www​.sciencedirect​.com​/science​/article​/pii​/S1470160X22004708​#f0035","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"WYHafiX3Df"}],"urlSource":"https://www.sciencedirect.com/science/article/pii/S1470160X22004708#f0035","key":"B45dE5myy3"}],"key":"BJGMcpEy04"}],"key":"oIe4A45sYx"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://github.com/yobimania/dea-notebooks/blob/e0ca59f437395f7c9becca74badcf8c49da6ee90/Fire%20Analysis%20Compiled%20Scripts%20(Gadi)/dNBR_full.py","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"https://github.com/yobimania/dea-notebooks/blob/e0ca59f437395f7c9becca74badcf8c49da6ee90/Fire Analysis Compiled Scripts (Gadi)/dNBR_full.py","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"nCaRvyPG3q"}],"urlSource":"https://github.com/yobimania/dea-notebooks/blob/e0ca59f437395f7c9becca74badcf8c49da6ee90/Fire%20Analysis%20Compiled%20Scripts%20(Gadi)/dNBR_full.py","data":{"kind":"file","org":"yobimania","repo":"dea-notebooks","reference":"e0ca59f437395f7c9becca74badcf8c49da6ee90","file":"Fire%20Analysis%20Compiled%20Scripts%20(Gadi)/dNBR_full.py","raw":"https://raw.githubusercontent.com/yobimania/dea-notebooks/e0ca59f437395f7c9becca74badcf8c49da6ee90/Fire%20Analysis%20Compiled%20Scripts%20(Gadi)/dNBR_full.py"},"internal":false,"protocol":"github","key":"PmA4YzldaU"}],"key":"BZlmpdCrLn"}],"key":"OxF0DfitKI"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","children":[{"type":"emphasis","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Alonso, Lazaro, Gans, Fabian, Karasante, Ilektra, Ahuja, Akanksha, Prapas, Ioannis, Kondylatos, Spyros, Papoutsis, Ioannis, Panagiotou, Eleannna, Michail, Dimitrios, Cremer, Felix, Weber, Ulrich, \u0026 Carvalhais, Nuno. (2022). SeasFire Cube: A Global Dataset for Seasonal Fire Modeling in the Earth System (0.4) [Data set]. Zenodo. ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"rkN04tdme7"},{"type":"cite","identifier":"alonso-2024","label":"alonso-2024","kind":"narrative","position":{"start":{"line":7,"column":331},"end":{"line":7,"column":343}},"children":[{"type":"text","value":"Alonso ","key":"JA6umWP0dd"},{"type":"emphasis","children":[{"type":"text","value":"et al.","key":"CUTI8UN5U0"}],"key":"gffLUSHbfr"},{"type":"text","value":" (2024)","key":"MG01sGqPa5"}],"enumerator":"1","key":"nzDBRgDbuX"},{"type":"text","value":". The same dataset can also be downloaded from Zenodo: ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"dj0yK0Oz3I"},{"type":"link","url":"https://zenodo.org/records/13834057","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"https://​zenodo​.org​/records​/13834057","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"QWshLZUrsH"}],"urlSource":"https://zenodo.org/records/13834057","key":"uH5oV0AIp2"}],"key":"e46VmKQlFR"}],"key":"cSbbMyj8KH"}],"key":"PVRpHhuEIO"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://opensciencedata.esa.int/products/seasfire-cube/collection","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"https://​opensciencedata​.esa​.int​/products​/seasfire​-cube​/collection","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"AN5CTg99Y5"}],"urlSource":"https://opensciencedata.esa.int/products/seasfire-cube/collection","key":"vo0nPdr7tv"},{"type":"text","value":")","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"Ez1rdV8NAw"}],"key":"dxuUjFvrAJ"}],"key":"p8LaAaClua"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://un-spider.org/advisory-support/recommended-practices/recommended-practice-burn-severity/in-detail/normalized-burn-ratio","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"https://​un​-spider​.org​/advisory​-support​/recommended​-practices​/recommended​-practice​-burn​-severity​/in​-detail​/normalized​-burn​-ratio","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"SSZ4SkSQTV"}],"urlSource":"https://un-spider.org/advisory-support/recommended-practices/recommended-practice-burn-severity/in-detail/normalized-burn-ratio","key":"byKPE96B8N"},{"type":"text","value":"](","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"VoxZ2WC5su"},{"type":"link","url":"https://un-spider.org/advisory-support/recommended-practices/recommended-practice-burn-severity/in-detail/normalized-burn-ratio","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"https://​un​-spider​.org​/advisory​-support​/recommended​-practices​/recommended​-practice​-burn​-severity​/in​-detail​/normalized​-burn​-ratio","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"IKndjoYEVN"}],"urlSource":"https://un-spider.org/advisory-support/recommended-practices/recommended-practice-burn-severity/in-detail/normalized-burn-ratio","key":"pnEMi1NSKd"}],"key":"D4oPE4H3BQ"}],"key":"RzLC0kMqxs"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"paragraph","children":[{"type":"emphasis","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"link","url":"https://registry.opendata.aws/sentinel-2-l2a-cogs/","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"https://​registry​.opendata​.aws​/sentinel​-2​-l2a​-cogs/","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"VG8SbNWDkW"}],"urlSource":"https://registry.opendata.aws/sentinel-2-l2a-cogs/","key":"T3OPWxe3gC"}],"key":"QT6F0mXIF6"}],"key":"MTu0MD714F"}],"key":"uxbvjhTTKW"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"element84’s STAC API](","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"Nx1pqWcYn7"},{"type":"link","url":"https://element84.com/earth-search/","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"https://​element84​.com​/earth​-search/","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"y6hzwOldNd"}],"urlSource":"https://element84.com/earth-search/","key":"rqSKJXOj2b"},{"type":"text","value":")","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"ezBcwWXhoR"}],"key":"LzyUF1F1Gs"}],"key":"d1z4gh5M0S"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://github.com/bcdev/xrlint/tree/main/docs","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"https://​github​.com​/bcdev​/xrlint​/tree​/main​/docs","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"JRoWXadigh"}],"urlSource":"https://github.com/bcdev/xrlint/tree/main/docs","error":true,"key":"kKA7E7c6IH"}],"key":"x6ZyMqIkjP"}],"key":"xIFh1Ppteu"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://xcube.readthedocs.io/en/latest/","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"https://​xcube​.readthedocs​.io​/en​/latest/","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"rmM9Y8EYeP"}],"urlSource":"https://xcube.readthedocs.io/en/latest/","key":"beoPxLp8ey"}],"key":"XbjDEp9b22"}],"key":"k5jwfqCkBx"},{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://docs.dask.org/en/stable/","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"https://​docs​.dask​.org​/en​/stable/","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"ejn5rK2urf"}],"urlSource":"https://docs.dask.org/en/stable/","key":"jpH1LCId9b"}],"key":"zcQRvwdCRS"}],"key":"iB2EKqmPRN"},{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://docs.xarray.dev/en/stable","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"https://​docs​.xarray​.dev​/en​/stable","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"ddTFdI1m3A"}],"urlSource":"https://docs.xarray.dev/en/stable","key":"vCVQJqca1t"}],"key":"ZJ6mCLnt22"}],"key":"AbMrr4tu8R"},{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://zarr.readthedocs.io/en/stable/","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"https://​zarr​.readthedocs​.io​/en​/stable/","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"dwr5izxKl0"}],"urlSource":"https://zarr.readthedocs.io/en/stable/","key":"zvdLgQR5sj"}],"key":"wvpwejQgc3"}],"key":"Gu7W63QHCe"},{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://corteva.github.io/rioxarray/stable/examples/reproject_match.html","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"https://​corteva​.github​.io​/rioxarray​/stable​/examples​/reproject​_match​.html","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"yuMv8SeexZ"}],"urlSource":"https://corteva.github.io/rioxarray/stable/examples/reproject_match.html","key":"FbBls1WpOC"}],"key":"Qj1tM3zpal"}],"key":"AGdKNBgh8Z"}],"key":"dknWR95SwZ"}],"key":"I2QIvTs6AA"}],"key":"pmcwTthdel"},"references":{"cite":{"order":["alonso-2024"],"data":{"alonso-2024":{"label":"alonso-2024","enumerator":"1","doi":"10.5281/ZENODO.13834057","html":"Alonso, L., Gans, F., Karasante, I., Ahuja, A., Prapas, I., Kondylatos, S., Papoutsis, I., Panagiotou, E., Mihail, D., Cremer, F., Weber, U., \u0026 Carvalhais, N. (2024). \u003ci\u003eSeasFire Cube: A Global Dataset for Seasonal Fire Modeling in the Earth System\u003c/i\u003e. Zenodo. \u003ca target=\"_blank\" rel=\"noreferrer\" href=\"https://doi.org/10.5281/ZENODO.13834057\"\u003e10.5281/ZENODO.13834057\u003c/a\u003e","url":"https://doi.org/10.5281/ZENODO.13834057"}}}},"footer":{"navigation":{"prev":{"title":"Dask 101","url":"/dask101","group":"EarthCODE Tutorials"},"next":{"title":"Publishing to EarthCODE","url":"/publishing","group":"EarthCODE Tutorials"}}},"domain":"http://localhost:3000"},"project":{"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true},"code":{"id":"MIT","url":"https://opensource.org/licenses/MIT","name":"MIT License","free":true,"osi":true}},"subject":"EarthCODE Tutorials","title":"EarthCODE Tutorials","subtitle":"sub","description":"desc","github":"https://github.com/ESA-EarthCODE/tutorials","id":"7459d850-c3ed-4933-a447-54e8d41b1409","toc":[{"file":"index.md"},{"children":[{"file":"PRR/PRR_STAC_introduction.ipynb"},{"file":"PRR/smartch4_signatures_modified.ipynb"},{"file":"PRR/prr_zarr.ipynb"},{"file":"PRR/Creating STAC Catalog_from_PRR_example.ipynb"},{"file":"PRR/TCCAS_v2.ipynb"},{"file":"PRR/CareHeat_v2.ipynb"},{"file":"PRR/sen4amazonas.ipynb"},{"file":"PRR/waposal.ipynb"},{"file":"PRR/PRR_STAC_download_example.ipynb"}],"file":"PRR/index.md","title":"ESA Project Results Repository (PRR)"},{"children":[{"file":"OSC/git_clerk_example.md"},{"file":"OSC/osc_pr_manual.ipynb"},{"file":"OSC/osc_pr_pystac.ipynb"}],"file":"OSC/index.md","title":"Open Science Catalog (OSC)"},{"children":[{"file":"openeo/1_workflow.ipynb"},{"file":"openeo/2_experiment.ipynb"},{"file":"openeo/3_publication.md"},{"file":"openeo/4_reproduce.ipynb"}],"file":"openeo/index.md","title":"openEO"},{"children":[{"file":"pangeo/introduction/introduction.md"},{"children":[{"file":"pangeo/earthcode101/about_edc_pangeo.md"},{"file":"pangeo/earthcode101/stac_and_data_access.ipynb"}],"file":"pangeo/earthcode101/earthcode101.md"},{"children":[{"file":"pangeo/pangeo101/xarray101.ipynb"},{"file":"pangeo/pangeo101/cloud-native-formats-101.ipynb"},{"file":"pangeo/pangeo101/dask101.ipynb"}],"file":"pangeo/pangeo101/pangeo101.md"},{"file":"pangeo/burnt-area-example/pangeo_on_EarthCODE.ipynb"},{"file":"pangeo/publishing-to-earthcode/publishing.md"}],"file":"pangeo/index.md"}],"exports":[],"bibliography":[],"index":"index","pages":[{"slug":"index-1","title":"ESA Project Results Repository","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"prr-stac-introduction","title":"Generating STAC metadata for the OHC 4d Atlantic dataset","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"smartch4-signatures-modified","title":"SmartCH4 project - δ13CH4 signatures","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"prr-zarr","title":"Generating STAC metadata for the YIPEEO project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"creating-stac-catalog-from-prr-example","title":"Generating metadata for the SRAL Processing over Land Ice Dataset","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"tccas-v2","title":"Generating STAC metadatas for the TCCAS dataset","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"careheat-v2","title":"Generating STAC collections for the CareHeat project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"sen4amazonas","title":"Sen4Amazonas: Time-Series Forest Loss Zarr Cube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"waposal","title":"WAPOSAL - Wave power density, zero-crossing wave period, and significant wave height product","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"prr-stac-download-example","title":"ESA Project Results Repository (PRR) Data Access and Collections Preview","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"index-2","title":"Open Science Catalog","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"git-clerk-example","title":"Open Science Catalog Editor","description":"","date":"","thumbnail":"/tutorials/build/gui_start-e7d117546dd881b393d77023bc2e23d5.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"osc-pr-manual","title":"Adding new content to Open Science Catalogue with Pull Request (PR)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"osc-pr-pystac","title":"Generating OSC information using pystac","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"index-3","title":"openEO","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"workflow","title":"Creating a workflow","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"experiment","title":"Creating an experiment","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"publication","title":"Publishing an experiment to EarthCODE","description":"","date":"","thumbnail":"/tutorials/build/publishing_login-475a7d3534740d7c7a1c1d74badc4b9e.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"reproduce","title":"Reproducing an openEO Experiment published to the EarthCODE Open Science Catalogue","description":"","date":"","thumbnail":"/tutorials/build/reproduce_editor_1-3c67795b7f59bb2c978006c488b75211.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"index-4","title":"Pangeo","description":"This training introduces participants to the EDC Pangeo Cloud Platform and scalable geospatial analysis using Python tools. Participants will learn how to access data programmatically from the EarthCODE Open Science Catalog via the STAC API, explore Zarr-formatted datasets, and use Xarray with Dask for efficient data processing. The session includes a hands-on example and guidance on saving and publishing results back to the EarthCODE Catalog.","date":"","thumbnail":"/tutorials/build/PangeoXEarthCODE-7e7987a7bda27f6421fd9d6fddce5a80.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["FAIR","pangeo","earthCODE"],"level":1},{"slug":"introduction","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"earthcode101","title":"EarthCODE and Pangeo","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"about-edc-pangeo","title":"EDC Pangeo Cloud Platform","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"stac-and-data-access","title":"Accessing EarthCODE Data","description":"","date":"","thumbnail":"/tutorials/build/stacsetup-40bf069bff0317f35880364b2ed88a67.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"pangeo101","title":"Pangeo 101","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"xarray101","title":"Xarray 101","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"cloud-native-formats-101","title":"Zarr 101","description":"","date":"","thumbnail":"/tutorials/build/datasize-3a8a5ad6b17fe3fe587446157bd31204.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"dask101","title":"Dask 101","description":"","date":"","thumbnail":"/tutorials/build/8476ef8dfea9da4ad663e93b475cbbe7.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"pangeo-on-earthcode","title":"Example EarthCODE Workflow","description":"","date":"","thumbnail":"/tutorials/build/2abbd18d64e70642d7c0e83666723e68.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"publishing","title":"Publishing to EarthCODE","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}}},"actionData":null,"errors":null},"future":{"unstable_dev":false,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":true,"v2_headers":true,"v2_meta":true,"v2_normalizeFormMethod":true,"v2_routeConvention":true}};</script><script type="module" async="">import "/tutorials/build/manifest-51D9907C.js";
import * as route0 from "/tutorials/build/root-TRTRBUUN.js";
import * as route1 from "/tutorials/build/routes/$-VLPGWU3Z.js";
window.__remixRouteModules = {"root":route0,"routes/$":route1};

import("/tutorials/build/entry.client-PCJPW7TK.js");</script></body></html>